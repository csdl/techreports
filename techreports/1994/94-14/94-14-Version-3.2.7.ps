%!PS-Adobe-2.0
%%Creator: dvipsk 5.521a Copyright 1986, 1993 Radical Eye Software
%%Title: 94-14.dvi
%%Pages: 42
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Courier
%%EndComments
%DVIPSCommandLine: /usr/ics2/bin/dvips -o 94-14.ps 94-14.dvi
%DVIPSSource:  TeX output 1995.02.23:0837
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 get
round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0
0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
false RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (94-14.dvi)
@start /Fa 1 4 df<0C000C008C40EDC07F800C007F80EDC08C400C000C000A0B7D8B10
>3 D E /Fb 1 4 df<040004000400C460F5E03F800E003F80F5E0C4600400040004000B
0D7E8D11>3 D E /Fc 138[21 12 1[16 3[21 1[12 2[12 1[21
1[18 3[21 10[25 3[25 4[35 77[{}12 41.666668 /Times-Italic
rf /Fd 1 16 df<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFFFFFFFFFF7FFE7FFE
3FFC1FF80FF003C010127D9317>15 D E /Fe 139[27 27 3[27
3[27 1[27 27 2[27 27 27 27 24[27 4[27 10[27 27 5[27 27
27 2[27 7[27 37[{}19 45.624989 /Courier rf /Ff 152[19
1[17 3[19 25[27 71[{}4 37.500000 /Times-Italic rf /Fg
134[19 2[19 19 10 15 12 1[19 19 19 1[10 2[10 19 19 1[17
19 17 19 17 12[23 21 2[21 10[23 1[25 1[27 18[9 12 9 44[{}27
37.500000 /Times-Roman rf /Fh 1 50 df<187898181818181818181818181818FF08
107D8F0F>49 D E /Fi 81[23 52[20 20 30 20 23 13 18 18
23 23 23 23 33 13 2[13 23 23 13 20 23 20 23 23 9[38 2[25
23 2[28 6[15 33 4[30 28 28 6[15 11[11 1[11 31 43[{}37
45.624989 /Times-Italic rf /Fj 1 50 df<06000E00FE000E000E000E000E000E00
0E000E000E000E000E000E000E000E000E000E000E000E00FFE00B157D9412>49
D E /Fk 134[25 1[36 25 28 17 19 22 1[28 25 28 41 14 28
1[14 28 25 17 22 28 22 28 25 9[50 1[36 1[28 36 3[36 47
33 2[19 39 39 30 33 36 36 33 36 7[25 25 25 25 25 25 25
25 25 25 1[12 17 12 44[{}51 50.000000 /Times-Bold rf
/Fl 1 59 df<70F8F8F87005057C840D>58 D E /Fm 78[23 54[20
23 1[33 23 25 15 18 20 1[25 23 25 1[13 25 1[13 25 23
15 20 1[20 25 23 10[33 1[30 25 33 1[28 35 6[35 35 28
2[33 30 33 6[15 1[23 2[23 23 23 23 23 1[13 47[{}42 45.624989
/Times-Bold rf /Fn 134[30 1[43 30 33 20 23 27 1[33 30
33 1[17 2[17 1[30 20 27 1[27 33 30 10[43 1[40 33 43 2[47
6[47 4[43 40 43 11[30 30 30 30 30 49[{}32 59.999973 /Times-Bold
rf /Fo 55[15 13[20 8[23 2[25 3[20 47[20 23 23 33 23 23
13 18 15 23 23 23 23 35 13 23 13 13 23 23 15 20 23 20
23 20 3[15 1[15 3[43 33 33 28 25 30 1[25 33 33 40 28
33 18 15 33 33 25 28 33 30 30 33 5[13 13 23 23 23 23
23 23 23 23 23 23 13 11 15 11 26 23 15 15 15 4[19 34[{}77
45.624989 /Times-Roman rf /Fp 81[23 51[18 21 21 30 21
21 12 16 14 21 21 21 21 32 12 21 1[12 21 21 14 18 21
18 21 18 9[39 30 30 25 23 28 1[23 30 30 37 25 30 1[14
30 30 23 25 30 28 28 30 1[18 4[12 21 21 21 21 21 21 21
21 21 21 12 10 14 10 1[21 14 14 14 39[{}67 41.666668
/Times-Roman rf /Fq 134[21 1[30 21 23 14 16 18 23 23
21 23 35 12 23 1[12 23 21 1[18 23 18 23 21 9[42 30 30
1[23 30 3[30 39 28 2[16 1[32 1[28 30 30 28 30 6[14 12[14
45[{}39 41.666668 /Times-Bold rf /Fr 134[25 1[36 25 25
14 19 17 1[25 25 25 39 14 2[14 25 1[17 22 25 22 25 22
10[36 36 30 28 33 1[28 2[44 30 1[19 17 36 1[28 1[36 33
33 36 6[14 25 25 25 25 25 25 25 25 25 25 14 12 17 12
2[17 17 40[{}53 50.000000 /Times-Roman rf /Fs 81[40 57[24
1[32 1[40 36 40 4[20 2[24 32 1[32 1[36 13[40 9[28 56
5[48 66[{}15 72.000000 /Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 551 278 a Fs(HBS)17 b(Interface)g(Speci\256cation)828
404 y Fr(Philip)11 b(Johnson)817 462 y(Carleton)h(Moore)782
520 y(Rosemary)g(Andrada)488 578 y(Collaborati)o(v)o(e)g(Software)f(De)
o(v)o(elopment)g(Laboratory)464 636 y(Department)g(of)h(Information)f
(and)h(Computer)g(Sciences)766 695 y(Uni)o(v)o(ersity)g(of)g(Ha)o(waii)
774 753 y(Honolulu,)g(HI)g(96822)819 811 y(\(808\))g(956-3489)625
869 y(ICS/CSDL)g(T)m(echnical)g(Report)g(94-14)788 969
y(HBS)h(V)-6 b(ersion)12 b(3.2.7)647 1026 y(Last)h(Re)o(vised:)18
b(February)12 b(23,)g(1995)898 1194 y Fq(Abstract)176
1273 y Fp(This)d(document)f(speci\256es)i(the)f(interface)f(protocol)f
(observ)o(ed)j(between)f(the)f(HBS)h(serv)o(er)h(system)f(and)g(the)f
(ECS)114 1322 y(client)h(system,)i(together)e(kno)o(wn)g(as)h(Egret.)16
b(HBS)9 b(is)h(a)h(multiuser)n(,)e(database)i(serv)o(er)g(for)f
(\(non-video\))e(hypermedia)114 1372 y(applications.)16
b(It)11 b(manages)i(storage,)e(locking,)g(retrie)o(v)o(al,)g(and)g
(inter)o(-client)f(communications.)18 b(This)11 b(document)g(is)114
1422 y(intended)h(to)g(describe)h(the)g(interface)g(between)g(HBS)g
(and)g(ECS)h(in)e(enough)g(detail)g(so)h(that)g(alternati)o(v)o(e)f
(database)114 1472 y(serv)o(ers)h(can)g(be)f(b)o(uilt)f(to)h(service)g
(requests)h(from)f(an)g(ECS)h(clients.)20 b(It)12 b(is)g(also)g
(intended)g(to)f(serv)o(e)i(as)g(a)g(source)g(of)114
1522 y(reference)e(material)g(for)f(maintainers)g(of)g(the)g(HBS)g(and)
g(ECS)h(systems.)964 2840 y Fo(1)p eop
%%Page: 2 2
2 1 bop 0 95 a Fn(Contents)0 199 y Fm(1)45 b(Overview)1672
b(4)0 301 y(2)45 b(History)11 b(of)g(HBS)1562 b(4)0 403
y(3)45 b(Basic)11 b(Services)1585 b(5)68 459 y Fo(3.1)48
b(File-based)10 b(storage)37 b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)64 b Fo(5)68
516 y(3.2)48 b(Socket)10 b(management)38 b Fl(:)22 b(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)64
b Fo(6)68 572 y(3.3)48 b(ID)11 b(management)42 b Fl(:)23
b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)64 b Fo(6)68 629 y(3.4)48 b(Storage)11 b(management)22
b Fl(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)64 b Fo(6)68 685 y(3.5)48 b(Concurrenc)o(y)11
b(control)29 b Fl(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)64 b Fo(6)68 742 y(3.6)48
b(Ev)o(ent)10 b(subscription)28 b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)64 b
Fo(6)68 798 y(3.7)48 b(Gagent)10 b(a)o(wareness)41 b
Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)64 b Fo(7)68 854 y(3.8)48 b(Compound)10
b(operations)35 b Fl(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)64 b Fo(7)0 956 y Fm(4)45 b(Starting)12
b(HBS)1598 b(8)68 1013 y Fo(4.1)48 b(Starting)10 b(HBS)i(on)f(a)g
(fresh)g(database)j Fl(:)22 b(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)64 b Fo(8)68 1069 y(4.2)48 b(Starting)10 b(HBS)i(on)f(pre)o
(viously)e(created)i(database)k Fl(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)64
b Fo(8)0 1171 y Fm(5)45 b(HBS)12 b(Operations)1540 b(8)68
1228 y Fo(5.1)48 b(Connect,)11 b(Connected)35 b Fl(:)22
b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)42 b Fo(10)68 1284 y(5.2)48 b(Disconnect)21 b Fl(:)i(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)42 b Fo(13)68 1341 y(5.3)48 b(Read)11 b(Node)24
b Fl(:)f(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(14)68 1397 y(5.4)48
b(Create)12 b(Node)34 b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(15)68 1453 y(5.5)48 b(Create)12 b(Locked)e(Node)28
b Fl(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)42 b Fo(16)68 1510 y(5.6)48 b(Delete)11 b(Node)34
b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(17)68 1566 y(5.7)48
b(Write)11 b(Node)i Fl(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(18)68 1623 y(5.8)48 b(Write)11 b(Node)f(and)h(Unlock)39
b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)42 b Fo(19)68 1679 y(5.9)48 b(Write)11 b(Node)f(Name)37
b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)42 b Fo(20)68 1736 y(5.10)25 b(Read)11
b(Node)g(Name)47 b Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(21)68 1792
y(5.11)25 b(Append)10 b(Node)h(Data)18 b Fl(:)k(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(22)68 1849 y(5.12)25 b(Lock)10 b(Node)24 b Fl(:)f(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)42 b Fo(23)68 1905 y(5.13)25 b(Sho)o(w)10 b(Lock)20
b Fl(:)j(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(24)68 1962 y(5.14)25
b(Unlock)10 b(Node)19 b Fl(:)j(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b
Fo(25)68 2018 y(5.15)25 b(Broadcast)11 b(Message)17 b
Fl(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)42 b Fo(26)68 2074 y(5.16)25 b(Client)10
b(Message)17 b Fl(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(27)68
2131 y(5.17)25 b(Read)11 b(Node)g(IDs)18 b Fl(:)k(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(29)68 2187 y(5.18)25 b(Create)12 b(Link)e Fl(:)23
b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(30)68 2244 y(5.19)25
b(Create)12 b(Link)e(to)h(Ne)o(w)g(Node)41 b Fl(:)22
b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(31)68 2300 y(5.20)25 b(Create)12 b(Link)e(to)h(Ne)o(w)g(Locked)f
(Node)35 b Fl(:)23 b(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(32)68 2357 y(5.21)25 b(Delete)11 b(link)25 b Fl(:)e(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)42 b Fo(33)68 2413 y(5.22)25 b(Read)11 b(Link)g(IDs)30
b Fl(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(34)68 2470 y(5.23)25
b(Subscribe)10 b(Ev)o(ent)37 b Fl(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(35)68 2526 y(5.24)25 b(Unsubscribe)9 b(Ev)o(ent)25
b Fl(:)d(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)42 b Fo(36)68 2583 y(5.25)25 b(Sho)o(w)10
b(Clients)20 b Fl(:)i(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(37)68
2639 y(5.26)25 b(Ignore)11 b(Non-Gagent)f(Clients)k Fl(:)22
b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(38)68 2695 y(5.27)25 b(Allo)o(w)10 b(Non-Gagent)g(Clients)20
b Fl(:)i(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)42
b Fo(39)964 2840 y(2)p eop
%%Page: 3 3
3 2 bop 68 95 a Fo(5.28)25 b(Shutdo)o(wn)42 b Fl(:)23
b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)42 b Fo(40)0 197 y Fm(A)35 b(Retur)o(n)13
b(V)l(alue)e(T)l(able)1459 b(41)964 2840 y Fo(3)p eop
%%Page: 4 4
4 3 bop 0 95 a Fn(1)60 b(Ov)o(er)o(view)0 199 y Fo(This)18
b(document)g(speci\256es)h(the)g(interface)f(protocol)g(observ)o(ed)h
(between)f(the)h(HBS)g(serv)o(er)h(system)e(and)h(the)g(ECS)0
255 y(client)14 b(system,)h(together)f(kno)o(wn)g(as)h(Egret.)27
b(HBS)15 b(is)f(a)h(multiuser)n(,)g(database)g(serv)o(er)g(for)g
(\(non-video\))f(hypermedia)0 312 y(applications.)24
b(Its)14 b(principle)g(function)f(is)h(to)g(manage)h(storage,)g
(locking,)f(and)g(retrie)o(v)o(al)g(for)h(a)f(set)h(of)f(node)g(and)g
(link)0 368 y(objects.)19 b(In)13 b(addition,)e(it)h(pro)o(vides)g(an)g
(e)o(v)o(ent-based)g(noti\256cation)f(mechanism)i(that)e(clients)h(use)
g(to)g(monitor)g(changes)0 425 y(to)f(the)g(database)f(and)h(for)h
(inter)o(-client)e(communication.)71 481 y(The)f(two)f(goals)h(of)h
(this)e(document)h(are:)16 b(\(1\))10 b(to)f(describe)g(the)g
(interface)h(between)f(HBS)h(and)f(ECS)h(in)f(enough)g(detail)0
538 y(so)h(that)g(alternati)o(v)o(e)f(database)i(serv)o(ers)f(can)h(be)
f(b)o(uilt)f(to)h(service)h(requests)e(from)i(an)g(ECS)g(clients;)e
(and)h(\(2\))h(to)f(serv)o(e)g(as)h(a)0 594 y(source)g(of)g(reference)i
(material)e(for)g(maintainers)g(of)g(the)g(HBS)h(and)f(ECS)g(systems.)
71 651 y(The)i(ne)o(xt)g(section)g(of)g(this)f(document)h(describes)g
(the)g(e)o(v)o(olution)f(of)h(HBS)h(de)o(v)o(elopment)f(since)g(its)g
(initial)e(design)0 707 y(in)h(1989.)20 b(The)13 b(follo)o(wing)d
(section)i(introduces)f(the)h(major)h(services)f(pro)o(vided)g(by)g
(HBS.)h(F)o(ollo)o(wing)e(this,)i(each)g(HBS)0 764 y(operation)h
(required)h(by)f(ECS)i(is)e(described)h(in)f(detail,)i(focussing)d(on)i
(the)f(client-serv)o(er)h(communication)f(protocol.)0
820 y(This)c(document)h(concludes)f(with)g(a)i(set)f(of)g(appendices)f
(summarizing)h(v)o(arious)f(representations)f(used)i(in)g(HBS.)0
966 y Fn(2)60 b(History)13 b(of)i(HBS)0 1070 y Fo(The)c(HBS)g(system)f
(is)g(a)i(descendent)d(of)i(a)g(system)g(called)f(HyperBase,)i(which)e
(was)g(designed)f(and)i(de)o(v)o(eloped)f(in)g(1989)0
1126 y(as)j(a)g(Master')m(s)h(de)o(gree)f(project)f(by)h(a)g(group)f
(of)h(students)e(at)i(the)f(Uni)o(v)o(ersity)g(of)g(Aalbor)o(g)h(in)f
(Denmark.)22 b(This)12 b(system)0 1183 y(was)i(intended)g(to)g(pro)o
(vide)h(a)g(\252con\256gurable)f(\256le)i(system)e(for)h(hypermedia)g
(applications")d(which)i(would)f(introduce)0 1239 y(only)d(minimal)h
(constraints)e(upon)i(the)g(application)e(domain.)16
b(In)11 b(parallel)g(with)f(the)h(HyperBase)g(serv)o(er)n(,)i(se)o(v)o
(eral)e(client)0 1296 y(tools)j(were)i(de)o(v)o(eloped,)g(including)e
(a)i(te)o(xtual)f(front-end)g(implemented)g(in)g(Emacs)h(called)f(EHTS)
h(and)f(a)h(graphical)0 1352 y(bro)o(wser)m(.)71 1409
y(The)i(Aalbor)o(g)g(group)g(published)f(se)o(v)o(eral)i(documents)f
(about)g(this)f(work:)30 b(comprehensi)o(v)o(e)19 b(lo)o(w-le)o(v)o(el)
e(design)0 1465 y(and)g(implementation)f(documentation)g(for)h(the)h
(Hyperbase)e([7],)k(two)c(o)o(v)o(ervie)o(ws)h(of)h(the)f(architecture)
g(and)g(initial)0 1521 y(e)o(xperiences)d(with)e(Hyperbase)i([8,)g(4)o
(],)h(and)f(o)o(v)o(ervie)o(ws)f(focussing)f(on)i(the)f(design)g(of)g
(the)h(EHTS)f(client)g([5])h(and)f(the)0 1578 y(e)o(v)o(ent-based)e
(mechanism)g([6].)71 1634 y(Source)h(code)f(and)h(e)o(x)o(ecutables)f
(for)h(both)f(HyperBase)h(and)f(the)g(EHTS)h(client)f(tools)f(were)i
(released)g(to)f(the)g(public)0 1691 y(in)i(late)g(1990,)g(and)g(were)h
(do)o(wnloaded)d(by)i(the)g(Collaborati)o(v)o(e)f(Software)h(De)o(v)o
(elopment)f(Laboratory)h(in)f(early)i(1991.)0 1747 y(The)f(Aalbor)o(g)g
(group)g(pro)o(vided)g(two)g(v)o(ersions:)19 b(a)14 b(0.2)g(Beta)g(v)o
(ersion)f(and)g(a)h(v)o(ersion)f(1.1.)24 b(Both)14 b(were)g
(implemented)0 1804 y(using)c(the)h(GNU)g(C++)g(compiler)g(and)h
(employed)e(classes)h(from)h(the)f(g++lib)e(v)o(ersion)i(1.39.)17
b(The)11 b(0.2)g(Beta)h(e)o(x)o(ecutable)0 1860 y(ran)j(with)f
(non-fatal)g(errors)i(in)e(the)h(CSDL)h(en)n(vironment,)f(and)g(we)h
(used)e(this)g(v)o(ersion)h(until)e(the)i(Summer)i(of)e(1993.)0
1917 y(V)-5 b(ersion)13 b(1.1,)j(although)d(containing)f(se)o(v)o(eral)
j(enhancements,)g(contained)e(fatal)h(errors,)i(and)e(CSDL)h(ne)o(v)o
(er)f(used)g(this)0 1973 y(release,)j(although)c(one)i(student)f(did)g
(spend)g(a)i(summer)g(attempting)d(to)i(recompile)g(and)g(remo)o(v)o(e)
h(these)f(errors.)29 b(W)l(e)0 2030 y(used)11 b(EHTS)f(for)i(only)e(a)h
(short)f(time)h(before)g(designing)e(and)i(implementing)f(our)h(o)o(wn)
f(Emacs-based)h(client)f(interface,)0 2086 y(which)g(is)h(no)o(w)g
(called)g(ECS.)71 2142 y(In)k(the)g(Summer)h(of)f(1993,)h(CSDL)f
(sponsored)f(an)h(adv)o(anced)g(C++)f(programming)h(course)g(whose)g
(goal)f(was)h(to)0 2199 y(re)o(write)c(and)f(redesign)g(the)h
(HyperBase.)16 b(W)l(e)c(needed)e(to)h(re)o(write)f(and)h(redesign)f
(it)g(for)h(se)o(v)o(eral)g(reasons.)16 b(First,)10 b(we)h(had)0
2255 y(disco)o(v)o(ered)j(se)o(v)o(eral)h(important)f(problems)g(with)g
(the)g(Beta)i(release,)g(including)d(the)h(follo)o(wing:)21
b(\(1\))15 b(The)g(locked-by)0 2312 y(operation)g(should)g(return)h
(nil)f(if)h(no)g(one)g(is)g(currently)f(locking)g(the)h(node.)31
b(Instead,)18 b(it)d(returns)h(the)g(last)g(locker)f(of)0
2368 y(the)e(node.)23 b(\(2\))14 b(Disconnect)e(e)o(v)o(ents)h(should)f
(ha)o(v)o(e)i(a)g(user)o(-ID)g(as)g(part)f(of)h(the)f(e)o(v)o(ent)g
(data.)24 b(\(3\))13 b(All)g(locked)g(nodes)f(are)0 2425
y(unlocked)h(whene)o(v)o(er)j(an)o(y)f(user)g(disconnects.)27
b(\(4\))15 b(Bad)h(node)e(names)i(lead)f(to)f(a)i(core)f(dump,)i
(rather)e(than)f(an)i(error)0 2481 y(return)11 b(v)o(alue.)17
b(\(5\))12 b(Se)o(v)o(eral)g(major)f(memory)h(leaks)f(e)o(xist.)17
b(\(6\))12 b(The)f(source)g(is)g(incompatible)f(with)g(the)h(current)h
(release)0 2538 y(\(2.3\))f(of)h(g++lib)n(.)j(\(7\))c(Storage)g(and)g
(retrie)o(v)o(al)g(of)g(non-ASCII)g(data)g(is)g(not)g(implemented)f
(correctly)m(.)71 2594 y(Second,)15 b(our)f(e)o(xperiences)g(had)g(con)
n(vinced)g(us)f(that)h(se)o(v)o(eral)g(changes)g(to)g(the)g
(client-serv)o(er)g(protocol)f(would)f(be)0 2651 y(useful)h(for)i(our)f
(Egret)f(application)g(domains:)21 b(\(1\))14 b(Clients)f(should)g(be)h
(able)g(to)g(specify)f(data)h(to)g(be)g(passed)g(to)g(other)0
2707 y(clients)g(though)f(the)i(e)o(v)o(ent)g(generated)g(during)f(an)h
(HBS)h(operation.)27 b(\(2\))15 b(It)g(should)e(be)i(possible)f(to)g
(append)h(data)g(to)964 2840 y(4)p eop
%%Page: 5 5
5 4 bop 0 95 a Fo(a)17 b(pree)o(xisting)e(node.)32 b(\(3\))16
b(Link)g(objects)f(should)g(include)h(both)f(source)h(and)h
(destination)d(node-IDs,)j(\(4\))g(A)f(single)0 152 y(operation)d
(should)g(e)o(xist)g(to)h(create)h(a)g(ne)o(w)f(node,)g(assign)f(it)h
(a)h(name,)h(and)e(initialize)e(its)i(data)g(\256eld,)h(and)f(\(5\))h
(Se)o(v)o(eral)0 208 y(additional)9 b(HyperBase)i(operations)f(would)g
(be)h(helpful.)71 265 y(The)e(summer)h(programming)g(course)f
(participants)f(di)o(vided)g(into)h(four)h(groups,)f(each)h(de)o(v)o
(eloping)e(in)h(parallel)h(their)0 321 y(o)o(wn)16 b(re)o(vised)g(v)o
(ersion)g(of)h(the)f(HyperBase.)34 b(In)17 b(addition)e(to)h(\256xing)g
(b)o(ugs)g(and)g(incorporating)f(enhancements,)j(the)0
378 y(groups)8 b(re)o(wrote)i(indi)o(vidual)d(class)i(implementations)e
(to)j(conform)f(to)g(recently)g(published)f(guidelines)f(for)j(C++)f
(syntax)0 434 y(and)i(structure)f([3])i(and)f(C++)g(class)f(design)g
([1,)i(2].)71 491 y(The)i(course)g(was)g(v)o(ery)h(successful)e(and)i
(well-recei)o(v)o(ed)f(by)g(participants,)g(and)g(at)h(the)f(end)g(of)h
(the)f(summer)n(,)i(two)0 547 y(groups')9 b(implementations)f(were)i
(combined)f(to)h(create)g(the)g(\256rst)f(CSDL-based)h(HyperBase)g
(implementation.)15 b(At)9 b(this)0 604 y(time,)j(in)g(order)g(to)f
(recognize)h(the)g(substantially)c(modi\256ed)k(design)f(and)g
(implementation)g(of)h(the)f(re)o(vised)h(system,)f(the)0
660 y(ne)o(w)g(system)g(was)f(named)i(HBS.)71 716 y(The)d(switch)f(to)i
(HBS)g(immediately)f(pointed)f(out)h(se)o(v)o(eral)g(suboptimal)f
(design)h(decisions)f(in)h(ECS)h(which)f(had)g(been)0
773 y(made)15 b(to)e(work)h(around)f(problems)g(in)h(the)g(HyperBase.)
25 b(In)14 b(early)g(1994,)h(a)f(complete)g(redesign)f(of)h(ECS)h(took)
e(place)0 829 y(to)e(e)o(xploit)f(the)i(impro)o(v)o(ed)f(functionality)
f(of)h(HBS.)i(ECS)f(and)f(HBS)h(co-e)o(v)o(olv)o(ed)f(during)g(this)f
(time,)i(and)g(in)f(mid-1994,)0 886 y(V)-5 b(ersions)10
b(3)h(of)g(both)f(HBS)i(and)f(ECS)h(were)g(released.)71
942 y(The)j(HyperBase)h(history)e(of)i(HBS)g(is)f(important)g(to)g
(understanding)f(its)h(current)g(design,)h(because)g(we)g(did)f(not)0
999 y(remo)o(v)o(e)c(mechanisms)f(from)h(HyperBase)f(simply)f(because)h
(ECS)g(does)g(not)f(use)h(them.)16 b(Thus,)10 b(HBS)g(contains)f(a)h
(certain)0 1055 y(amount)16 b(of)g(\252v)o(estigial\272)f(code)h(and)f
(functionality)f(that)h(is)h(no)f(longer)h(needed)g(by)f(ECS.)i(A)f
(goal)g(of)g(this)f(document)0 1112 y(is)f(to)g(clearly)g(separate)g
(the)g(required)g(features)g(of)h(HBS)f(for)h(communication)e(with)g
(ECS)i(clients)e(from)i(its)f(v)o(estigial)0 1168 y(functionality)m(.)g
(As)9 b(an)h(e)o(xample,)h(HyperBase)f(pro)o(vides)f(a)h
(con\256guration)e(language)h(that)g(allo)o(ws)g(changes)g(to)g(the)h
(set)f(of)0 1225 y(\256elds)h(a)o(v)o(ailable)g(for)h(nodes)f(and)g
(links.)15 b(Ho)o(we)o(v)o(er)n(,)c(ECS)g(requires)f(only)g(a)h
(single,)f(static)g(representation)f(of)i(nodes)e(and)0
1281 y(links,)i(and)g(so)g(the)h(set)f(of)h(\256elds)f(for)h(nodes)f
(and)g(links)f(could)h(be)h(hard-coded)f(in)g(the)h(serv)o(er)m(.)18
b(Another)11 b(e)o(xample)h(is)f(the)0 1337 y(\252man)o(y-to-one")i
(linking)e(mechanism)j(that)f(survi)o(v)o(es)f(in)h(HBS)h(from)g(the)f
(original)f(HyperBase)h(b)o(ut)g(is)g(not)g(supported)0
1394 y(in)e(ECS.)h(Reference)h(to)d(the)h(original)f(HyperBase)i
(design)e(document)g([7])i(may)f(sometimes)g(be)h(needed)f(to)g
(understand)0 1450 y(certain)g(aspects)g(of)g(the)g(current)g(HBS)h
(implementation.)0 1597 y Fn(3)60 b(Basic)14 b(Ser)o(vices)0
1700 y Fo(HBS)j(pro)o(vides)f(se)o(v)o(eral)h(essential)f(services)g
(to)h(ECS)g(clients:)26 b(\256le-based)17 b(storage,)h(socket)e(and)g
(ID)h(management,)0 1757 y(data)12 b(storage)f(and)h(retrie)o(v)o(al,)g
(concurrenc)o(y)g(control,)f(e)o(v)o(ent-based)g(noti\256cation,)g
(Gagent)g(a)o(wareness,)h(and)g(compound)0 1813 y(operations.)20
b(These)12 b(services)g(are)h(implemented)g(through)e(one)h(or)h(more)g
(of)g(the)f(operations)g(described)g(in)g(Section)g(5.)0
1870 y(The)f(follo)o(wing)e(sections)h(pro)o(vide)g(a)i(more)g(general)
f(o)o(v)o(ervie)o(w)g(of)g(these)g(services.)0 1994 y
Fk(3.1)50 b(File-based)12 b(storage)0 2081 y Fo(HBS)j(stores)f(the)g
(database)g(it)g(manages)g(as)h(a)f(set)g(of)h(Unix)e(\256les.)26
b(Currently)m(,)15 b(it)f(reads)h(and)f(writes)g(to)g(six)f(\256les:)22
b(one)0 2138 y(containing)12 b(node)h(info,)h(one)g(containing)e(node)h
(data,)h(one)g(containing)e(link)g(info,)j(one)e(containing)f(the)h
(database)h(ID,)0 2194 y(and)i(two)e(containing)g(the)i(last)f(node)g
(and)h(last)f(link)f(ID)i(allocated.)30 b(This)15 b(\256le-le)o(v)o(el)
g(partitioning,)g(and)h(the)f(internal)0 2251 y(structuring)9
b(of)h(their)g(contents,)f(is)h(an)h(internal)e(implementation)g
(decision)g(and)h(does)g(not)g(impact)g(upon)f(the)i(HBS/ECS)0
2307 y(protocol.)71 2364 y(There)g(is,)h(ho)o(we)o(v)o(er)n(,)f(one)h
(Egret-le)o(v)o(el)e(requirement:)17 b(HBS)12 b(should)e(maintain)g(an)
i(accurate)g(representation)e(of)h(the)0 2420 y(database)f(state)f
(within)f(these)i(\256les)g(at)g(all)f(times.)16 b(In)10
b(other)g(words,)f(successful)g(completion)g(of)h(a)g(state-changing)e
(client)0 2476 y(operation)i(request)h(results)g(in)g(changes)g(to)g
(one)g(or)h(more)g(of)f(these)g(\256les.)18 b(Thus,)11
b(the)g(serv)o(er)h(can)g(be)f(brought)f(do)o(wn)h(\(or)0
2533 y(crash\))g(at)f(an)o(y)h(time)f(e)o(xcept)g(while)g(in)g(the)g
(midst)g(of)g(writing)f(out)h(changes)g(to)g(the)g(\256les)g(without)f
(af)o(fecting)h(the)g(inte)o(grity)0 2589 y(of)h(the)g(database.)964
2840 y(5)p eop
%%Page: 6 6
6 5 bop 0 95 a Fk(3.2)50 b(Socket)11 b(management)0 183
y Fo(HBS)k(is)f(responsible)f(for)h(allocation)f(and)h(deallocation)f
(of)i(the)f(sockets)f(used)h(to)g(communicate)h(with)e(ECS)i(clients.)0
239 y(When)10 b(an)h(HBS)h(process)e(is)g(brought)f(up,)i(it)f
(immediately)g(creates)h(a)g(single)f(socket)g(with)f(a)i(public)f
(port-number)m(.)16 b(This)0 296 y(\252public")9 b(socket)f(is)i(used)f
(by)h(all)g(ECS)g(clients)f(for)h(communication)f(during)g(the)h
(initial)e(connection)h(period)g(only)m(.)15 b(\(The)0
352 y(actual)c(port)f(number)i(for)f(this)f(socket)g(is)h(speci\256ed)g
(as)g(the)g(socketid)e(command)j(line)f(ar)o(gument.\))71
408 y(In)j(addition)e(to)i(the)g(public)f(socket,)h(each)h(time)f(a)h
(client)e(connects,)h(HBS)h(creates)g(three)f(additional)e(sockets)h
(for)0 465 y(pri)o(v)o(ate)h(use)g(by)g(the)g(connecting)f(client.)25
b(One)15 b(socket)e(is)h(used)g(for)g(reading,)h(one)g(for)f(writing,)g
(and)h(one)f(for)g(e)o(v)o(ents.)0 521 y(Each)c(time)h(a)g(client)e
(disconnects,)g(HBS)i(must)f(deallocate)g(the)g(three)h(pri)o(v)o(ate)e
(sockets)g(that)h(it)g(allocated)g(for)g(this)g(client.)0
578 y(When)h(HBS)h(terminates)e(e)o(x)o(ecution,)h(it)g(must)g
(deallocate)g(the)f(single)g(public)g(socket.)0 702 y
Fk(3.3)50 b(ID)13 b(management)0 790 y Fo(HBS)h(is)g(responsible)d(for)
j(generating)f(unique,)h(4)f(byte)h(inte)o(ger)f(IDs)h(that)f(can)h(be)
f(used)h(to)f(retrie)o(v)o(e)h(nodes)f(and)g(links.)0
846 y(ECS)g(requires)g(that)f(node-IDs)g(be)h(e)o(v)o(en)g(inte)o
(gers,)g(link-IDs)e(be)i(odd)f(inte)o(gers,)h(and)g(that)f(the)h
(\256rst)f(node-ID)h(allocated)0 902 y(by)g(HBS)h(is)f(the)g(inte)o
(ger)g(2.)22 b(ECS)14 b(also)f(requires)g(that)g(HBS)g(not)g(reuse)g
(ID)h(numbers)f(that)g(were)g(allocated)g(to)g(deleted)0
959 y(nodes.)0 1083 y Fk(3.4)50 b(Storage)12 b(management)0
1171 y Fo(HBS)e(is)g(responsible)e(for)i(managing)f(storage)g(of)h
(arbitrarily)f(sized)g(sequences)h(of)g(\(potentially)d(binary\))i
(data.)17 b(Because)0 1227 y(binary)10 b(data)g(may)g(contain)g(null)f
(characters,)i(HBS)g(does)e(not)h(rely)g(on)g(standard)f(C)i
(end-of-string)e(markers)h(to)g(delineate)0 1284 y(the)j(end)g(of)g
(data,)h(b)o(ut)f(instead)f(preceeds)h(data)g(transmission)e(with)i(an)
g(inte)o(ger)g(specifying)e(the)i(length)f(of)i(the)f(data)g(to)0
1340 y(follo)o(w)m(.)71 1396 y(Although)g(HBS)j(should)e(conceptually)h
(allo)o(w)f(creation)i(of)f(nodes)g(with)g(an)o(y)h(size)f(data,)i
(practically)e(speaking,)0 1453 y(upper)g(bounds)e(are)j(permissable.)
28 b(In)15 b(the)f(current)h(implementation)f(of)h(HBS,)h(the)f(data)g
(\256eld)g(associated)f(with)g(an)o(y)0 1509 y(single)c(node)h(cannot)f
(e)o(xceed)i(approximately)e(1)h(me)o(gabyte.)0 1634
y Fk(3.5)50 b(Concurr)o(ency)12 b(contr)o(ol)0 1721 y
Fo(HBS)h(pro)o(vides)e(concurrenc)o(y)h(control)f(in)h(the)g(form)g(of)
h(simple)e(locking)g(on)g(each)i(node.)19 b(Each)12 b(node)g(is)f
(either)h(locked)0 1778 y(by)h(a)g(single)f(client)h(or)g(unlocked.)21
b(Locking)12 b(is)h(atomic,)h(and)f(a)g(request)g(to)g(lock)f(an)i
(already)f(locked)f(node)h(fails.)21 b(If)14 b(a)0 1834
y(node)e(is)f(locked,)h(then)f(the)h(client)f(locking)g(the)h(node)f
(is)h(stored)f(and)h(can)h(be)f(determined)g(by)f(other)h(clients.)18
b(Also,)12 b(if)g(a)0 1890 y(node)f(is)g(locked,)f(an)i(attempt)f(by)g
(a)g(client)g(to)g(write)g(the)g(contents)f(of)h(the)g(node)g(will)f
(fail)h(unless)f(the)o(y)h(o)o(wn)g(the)g(lock.)16 b(A)0
1947 y(lock)11 b(can)h(be)g(held)g(only)e(during)h(connection;)g(once)g
(a)i(client)e(disconnects,)f(an)o(y)i(locks)f(associated)g(with)g(the)g
(client)g(are)0 2003 y(automatically)g(released)i(by)f(HBS.)i
(\(Applications)c(can)j(b)o(uild)f(more)h(comple)o(x,)g(inter)o
(-session)e(locking)g(by)i(allocating)0 2060 y(nodes)d(to)h(store)g
(lock)f(state)h(information)f(and)h(using)f(HBS)i(locks)e(to)h
(coordinate)f(access)i(to)e(this)g(node.\))0 2184 y Fk(3.6)50
b(Event)12 b(subscription)0 2272 y Fo(HBS)g(pro)o(vides)e(an)h(e)o(v)o
(ent)g(mechanism)h(that)e(serv)o(es)h(two)g(major)g(purposes.)71
2328 y(First,)k(it)e(enables)h(clients)f(to)h(be)g(dynamically)f
(noti\256ed)h(when)g(the)g(state)f(of)i(the)f(database)g(changes)g
(through)e(the)0 2384 y(action)e(of)g(an)o(y)h(connected)e(client.)16
b(F)o(or)11 b(each)g(HBS)g(operation,)e(there)i(e)o(xists)e(a)i
(corresponding)e(e)o(v)o(ent.)16 b(Each)10 b(time)h(HBS)0
2441 y(successfully)g(carries)i(out)g(an)g(operation)e(in)n(v)o(oked)h
(by)g(a)i(client,)e(it)h(then)f(sends)g(e)o(v)o(ents)h(to)f(all)h
(those)f(clients)f(who)i(ha)o(v)o(e)0 2497 y(subscribed)d(to)g(the)h(e)
o(v)o(ent)g(associated)g(with)f(this)g(particular)g(operation.)71
2554 y(Second,)i(e)o(v)o(ents)f(allo)o(w)f(clients)h(to)g(communicate)g
(with)g(each)h(other)f(through)f(the)h(message)h(\256eld)g(associated)e
(with)0 2610 y(each)k(operation.)21 b(The)13 b(message)g(\256eld)g(is)f
(an)i(arbitrarily)e(sized)g(byte)h(sequence)g(that)f(is)g(supplied)g
(by)g(a)i(client)e(in)h(each)0 2667 y(operation)c(request,)g(which)g
(is)h(included)e(in)h(the)h(e)o(v)o(ent)f(sent)g(by)h(HBS)g(to)f
(notify)g(clients)f(that)i(this)e(operation)h(was)g(carried)0
2723 y(out)15 b(successfully)m(.)27 b(F)o(or)16 b(e)o(xample,)h(a)e
(client)g(may)h(wish)e(to)h(update)f(a)i(node')m(s)f(contents)f(and)h
(communicate)g(the)g(ne)o(w)964 2840 y(6)p eop
%%Page: 7 7
7 6 bop 0 95 a Fo(contents)12 b(to)h(other)h(clients.)22
b(By)14 b(supplying)d(the)i(updated)g(data)g(in)h(the)f(message)h
(\256eld,)g(the)f(client)g(can)h(communicate)0 152 y(the)d(ne)o(w)g
(contents)f(to)g(other)h(clients)f(without)g(requiring)g(them)h(to)g
(indi)o(viduall)o(y)d(retrie)o(v)o(e)k(the)f(node')m(s)g(data)g(from)h
(HBS.)71 208 y(T)l(wo)k(operations,)h(broadcast-message)f(and)g
(client-message,)i(serv)o(e)f(only)e(as)i(an)g(inter)o(-client)e
(communication)0 265 y(mechanism:)h(the)o(y)c(do)e(not)h(change)g(the)g
(state)g(of)h(the)f(database.)16 b(Their)11 b(only)g(ef)o(fect)h(is)e
(to)h(generate)h(e)o(v)o(ents)f(that)f(enable)0 321 y(clients)g(to)h
(communicate)g(using)f(the)h(message)g(\256eld.)0 446
y Fk(3.7)50 b(Gagent)12 b(awar)o(eness)0 533 y Fo(One)18
b(architectural)g(result)g(from)h(our)f(e)o(xperience)g(with)g(Egret)g
(is)g(the)g(Gagent)1332 517 y Fj(1)1351 533 y Fo(:)30
b(a)19 b(distinguished)c(client)j(process)0 589 y(that)h(maintains)g
(type-le)o(v)o(el)g(structural)f(information)h(about)g(the)g(database.)
42 b(Using)19 b(a)h(Gagent,)h(it)f(is)f(possible)f(to)0
646 y(ef)o(fecti)o(v)o(ely)10 b(distrib)o(ute)e(query)j(processing)e
(across)h(both)f(the)h(HBS)h(and)g(Gagent)e(processes,)i(and)f(to)g(ef)
o(\256ciently)g(support)0 702 y(a)16 b(dynamically)e(e)o(xtensible)g
(type)g(system.)28 b(The)15 b(Gagent)g(basically)f(serv)o(es)h(as)h(a)f
(cache)h(for)f(structural)f(information)0 759 y(which)c(is)h
(intermittently)e(written)h(out)h(to)f(a)i(set)f(of)g(HBS)h(nodes.)71
815 y(Ho)o(we)o(v)o(er)n(,)f(HBS)g(itself)f(is)g(\252type-una)o(ware";)
g(it)g(simply)g(stores)g(and)h(retrie)o(v)o(es)f(arbitrarily)g(long)g
(byte)g(sequences.)16 b(It)0 872 y(is)d(ECS,)h(supported)e(by)h(the)g
(Gagent,)h(which)f(interprets)f(this)h(byte)f(stream)i(as)g(a)g(rich)f
(and)g(dynamically)f(typed)h(set)g(of)0 928 y(nodes)d(and)h(links.)71
985 y(Although)6 b(this)i(architectural)h(separation)f(of)h(concerns)f
(works)g(ele)o(gantly)g(in)g(almost)h(all)f(places,)i(there)f(is)f(one)
h(situa-)0 1041 y(tion,)h(connect-time,)g(in)g(which)g(incorporating)e
(into)i(HBS)h(some)f(kno)o(wledge)f(about)h(the)g(Gagent')m(s)g(role)h
(tremendously)0 1098 y(simpli\256es)f(processing.)71
1154 y(Clients,)15 b(once)g(connected,)h(use)f(e)o(v)o(ents)g(to)g
(communicate)g(the)g(structural)f(information)g(cached)i(by)f(the)g
(Gagent)0 1210 y(among)j(each)g(other)m(.)36 b(Ho)o(we)o(v)o(er)n(,)20
b(during)c(connect-time,)j(the)f(connecting)e(client)h(client)g(must)g
(obtain)f(the)i Fi(curr)n(ent)0 1267 y Fo(structural)f(state.)35
b(This,)19 b(of)f(course,)h(is)f(often)f(ambiguous;)i(the)f(serv)o(er)g
(may)g(be)g(partially)e(through)h(an)g(operation)0 1323
y(request;)c(others)f(may)h(be)g(in)g(transmission)e(through)g
(sockets;)h(and)h(clients)f(may)h(be)g(in)f(the)h(midst)f(of)h(reading)
f(e)o(v)o(ents.)0 1380 y(When)f(a)h(client)e(connects,)h(then,)g(the)g
(basic)g(task)g(is)g(to)g(complete)g(the)g(currently)f(e)o(x)o(ecuting)
h(operation)f(request,)h(if)h(an)o(y)m(,)0 1436 y(suspend)h(processing)
g(of)h(all)g(ne)o(w)g(operation)f(requests)h(by)f(other)h(clients)f
(\(to)h(stabilize)f(the)h(current)g(structural)g(state\))0
1493 y(and)f(let)f(the)h(ne)o(w)f(client)g(get)h(it.)21
b(Unfortunately)m(,)12 b(ne)o(w)g(client)g(may)i(not)e(be)h(able)g(to)f
(\256nd)h(this)e(state)i(in)f(HBS,)i(since)e(it')m(s)0
1549 y(the)f(Gagent)g(who)f(has)h(it,)g(and)g(it)g(writes)f(out)h(this)
f(information)g(only)g(intermittently)m(.)71 1606 y(A)18
b(simple)f(solution)f(is)h(to)h(ha)o(v)o(e)g(HBS)h(suspend)d
(processing)h(of)h(all)g(operation)f(requests)g Fi(e)o(xcept)h
Fo(those)f(of)h(the)0 1662 y(connecting)c(client)g(and)g(the)h(Gagent)f
(durinng)g(connect)g(time.)28 b(This)14 b(allo)o(ws)g(the)h(Gagent)f
(to)g(do)o(wnload)g(the)g(current)0 1719 y(structural)g(state)g(to)h
(the)f(HBS)i(and)e(the)h(client)f(to)g(read)i(it)e(without)f(fear)j(of)
f(the)f(state)h(changing)e(in)i(the)f(midst)h(of)f(the)0
1775 y(process.)i(Once)10 b(the)o(y)g(ha)o(v)o(e)h(\256nished)f
(synchronizing)e(the)i(ne)o(w)g(client,)g(then)g(the)o(y)g(inform)g
(the)h(HBS)g(to)e(be)o(gin)h(servicing)0 1831 y(operation)i(requests)f
(in)i(the)f(normal)h(way)m(.)20 b(The)13 b(connect)f(time)g(protocol)g
(description)f(pro)o(vides)g(more)j(details)d(on)h(this)0
1888 y(process.)0 2013 y Fk(3.8)50 b(Compound)12 b(operations)0
2100 y Fo(Another)k(result)g(from)h(our)g(early)g(e)o(xperiences)g
(with)f(Egret)g(and)h(the)g(HyperBase)g(was)f(the)g(kno)o(wledge)g
(that)g(some)0 2156 y(common)c(actions)g(result)f(in)h(stereotypical)e
(sequences)i(of)g(operations.)19 b(F)o(or)12 b(e)o(xample,)i(to)d
(create)i(a)g(locked)e(node,)h(one)0 2213 y(\256rst)k(in)n(v)o(okes)e
(the)i(create-node)g(operation)e(and)i(then)f(the)h(lock-node)e
(operation.)30 b(Another)15 b(e)o(xample)h(is)f(creating)h(a)0
2269 y(hyperte)o(xt)8 b(\252comment":)15 b(this)9 b(in)n(v)o(olv)o(es)f
(in)n(v)o(oking)f(create-node)j(\(to)f(hold)f(the)h(comment\),)i(then)d
(create-link)h(\(to)g(link)f(the)0 2325 y(comment)k(node)f(to)g(some)h
(other)f(pree)o(xisting)g(node\),)g(then)g(lock-node)g(\(to)g(allo)o(w)
g(the)g(comment)h(to)g(be)f(edited.\))18 b(In)11 b(the)0
2382 y(original)e(HyperBase,)j(certain)f(common)g(actions)f(required)g
(six)g(or)h(more)h(commands)f(to)f(carry)i(out.)j(In)c(contrast,)g(HBS)
0 2438 y(pro)o(vides)i(a)h(set)g(of)g(\252compound")f(operations,)h
(which)f(are)i(e)o(xactly)e(similar)h(to)f(normal)h(operations)f(e)o
(xcept)h(that)f(the)o(y)0 2495 y(make)g(se)o(v)o(eral)h(changes)f(to)g
(the)g(database)g(at)g(once.)23 b(W)l(e)14 b(ha)o(v)o(e)f(found)g(that)
g(compound)f(operations)g(make)h(a)h(dramatic)0 2551
y(impact,)d(sometimes)g(increasing)f(performace)j(\256v)o(e)f(or)f(se)o
(v)o(en-fold.)p 0 2592 780 2 v 50 2619 a Fh(1)67 2635
y Fg(Pronounced)c Ff(gee)p Fg(-Agent,)h(not)h Ff(Gag)p
Fg(-ent.)964 2840 y Fo(7)p eop
%%Page: 8 8
8 7 bop 0 95 a Fn(4)60 b(Starting)14 b(HBS)0 199 y Fo(During)9
b(e)o(x)o(ecution,)g(HBS)i(manipulates)d(six)h(\256les)h(called)f
(maxLink.hb,)g(maxNode.hb,)h(datablocks.hb,)f(datanodes.hb,)0
255 y(dbID.hb,)16 b(and)f(linknodes.hb)n(.)27 b(These)15
b(\256les)h(must)f(e)o(xist)f(\(or)i(else)f(will)f(be)i(created\))g(in)
f(the)g(directory)f(where)i(hbs)f(is)0 312 y(initially)10
b(in)n(v)o(oked.)19 b(If)12 b(the)h(\256les)f(do)g(not)f(e)o(xists,)i
(then)e(hbs)h(creates)h(and)f(initializes)e(them,)j(ef)o(fecti)o(v)o
(ely)f(creating)g(a)h(ne)o(w)m(,)0 368 y(empty)e(database.)16
b(If)11 b(the)g(\256les)g(already)f(e)o(xist,)h(then)f(hbs)h(will)e
(use)i(them)g(to)f(initialize)f(its)h(internal)g(state)h(\(as)g(long)f
(as)g(the)0 425 y(correct)i(dbID)e(is)h(supplied)e(at)j(the)e
(command-line\),)i(ef)o(fecti)o(v)o(ely)f(maintaining)e(a)j(pre)o
(viously)d(created)j(database.)71 481 y Fi(W)l(arning:)17
b(it)c(is)f(possible,)f(b)o(ut)i(e)o(xtr)n(emely)g(danger)n(ous,)e(to)h
(start)g(up)g(two)h(HBS)f(pr)n(ocesses)g(in)g(the)h(same)f(dir)n
(ectory)m(.)0 538 y(These)c(pr)n(ocesses)f(will)g(r)n(ead)h(and)f
(write)h(to)f(the)h(same)g(\256les,)g(almost)e(certainly)h(corrupting)f
(the)h(contents)g(of)h(the)f(database)o(.)71 594 y Fo(The)h(command)i
(line)e(protocol)f(is)i(slightly)d(dif)o(ferent)i(depending)g(upon)g
(whether)g(a)h(ne)o(w)g(database)f(or)h(a)h(pre-e)o(xisting)0
651 y(database)h(will)f(be)h(operated)g(upon.)0 775 y
Fk(4.1)50 b(Starting)11 b(HBS)h(on)g(a)g(fr)o(esh)h(database)0
862 y Fo(HBS)18 b(is)e(started)h(on)f(a)i(ne)o(w)f(database)f(by)h
(typing)e(hbs)i(and)g(supplying)d(two)i(required)h(command)g(line)g(ar)
o(guments:)0 919 y(socketid)c(and)i(setdbID.)g(Socketid)f(is)g(an)i
(inte)o(ger)e(specifying)g(the)h(port-number)f(to)h(be)g(used)g(for)g
(the)g(single)f(public,)0 975 y(connect-time)d(socket.)k(SetdbID)c(is)g
(a)g(string)f(used)h(to)g(uniquely)e(identify)h(the)h(database)g
(constructed)e(by)i(HBS.)71 1031 y(Here)h(is)g(an)g(e)o(xample)g(in)n
(v)o(ocation)f(of)h(HBS)h(to)e(generate)i(a)f(ne)o(w)g(database)g(with)
f(the)g(ID)i(test-db)e(and)h(using)e(socket)0 1088 y(10008)g(for)h
(connect-time)g(processing.)0 1193 y Fe(\045)28 b(hbs)g(-socketid)h
(10008)g(-setdbID)g(test-db)71 1297 y Fo(An)11 b(error)h(will)f(be)h
(signalled)e(if)i(*.hb)f(\256les)h(already)g(e)o(xist)f(in)g(this)g
(directory)m(,)h(or)g(if)f(this)g(socketid)f(is)h(already)h(in)f(use)0
1354 y(on)g(this)f(machine.)0 1478 y Fk(4.2)50 b(Starting)11
b(HBS)h(on)g(pr)o(e)o(viously)g(cr)o(eated)h(database)0
1565 y Fo(T)l(o)d(start)g(HBS)h(on)f(a)g(pre)o(viously)e(e)o(xisting)h
(database,)h(mo)o(v)o(e)h(to)f(the)g(directory)g(where)g(the)g
(corresponding)e(*.hb)i(\256les)g(are)0 1622 y(stored,)h(and)g(type)f
(hbs,)h(supplying)e(two)h(required)h(command)h(line)e(ar)o(guments:)16
b(socketid)9 b(and)i(dbID.)71 1678 y(Here)g(is)g(an)g(e)o(xample)h(in)n
(v)o(ocation:)0 1783 y Fe(\045)28 b(hbs)g(-socketid)h(10099)g(-dbID)g
(test-db2)71 1887 y Fo(An)12 b(error)h(will)f(be)g(signalled)f(if)i
(the)f(socket)g(10099)f(is)h(already)h(in)f(use,)h(or)g(if)f(the)h
(dbID)f(associated)f(with)h(the)g(*.hb)0 1944 y(\256les)f(in)g(the)g
(current)g(directory)f(is)h(not)f(test-db2.)0 2090 y
Fn(5)60 b(HBS)14 b(Operations)0 2194 y Fo(This)9 b(section)h(contains)f
(a)h(complete)g(listing)f(of)h(all)g(HBS)h(operations)e(required)h(by)g
(ECS)g(clients.)16 b(Note)9 b(that)h(inspection)0 2250
y(of)f(the)g(HBS)h(V)-5 b(ersion)8 b(3.x)h(source)g(code)g(will)f(re)o
(v)o(eal)i(support)d(for)j(se)o(v)o(eral)f(additional)e(operations,)h
(b)o(ut)h(these)g(operations)0 2306 y(are)j(v)o(estigial)e(from)h(the)g
(HyperBase)h(and)f(no)f(longer)h(used)g(in)f(ECS.)i(The)o(y)f(may)h
(safely)f(be)g(ignored.)71 2363 y(Se)o(v)o(eral)g(con)n(v)o(entions)f
(ha)o(v)o(e)i(been)f(follo)o(wed)f(in)g(documenting)g(the)h(HBS)h
(operations:)0 2468 y Fd(\017)22 b Fo(The)15 b(protocol)e(descriptions)
g(refer)j(to)e(the)g(read,)j(write,)e(and)g(e)o(v)o(ent)f(sockets.)26
b(These)15 b(names)g(are)g(employed)f(from)45 2524 y(the)f(ECS)h
(client)e(perspecti)o(v)o(e:)19 b(the)13 b(ECS)g(client)g(reads)g(from)
g(the)g(read)h(socket)e(and)h(writes)f(from)i(the)e(write)h(socket.)45
2580 y(Thus,)i(con)n(v)o(ersely)m(,)h(HBS)f(writes)f(to)g(the)g(read)h
(socket,)g(and)f(reads)h(from)g(the)f(write)g(socket.)26
b(The)14 b(e)o(v)o(ent)g(socket)g(is)45 2637 y(always)d(written)g(to)h
(by)g(HBS)h(and)f(read)h(from)g(by)f(ECS)g(clients.)19
b(\(W)n(ithin)11 b(the)h(actual)g(HBS)h(source)f(code,)h(ho)o(we)o(v)o
(er)n(,)45 2693 y(references)i(to)e(the)h(read)g(socket)f(refer)h(to)g
(the)f(read)h(socket)f(from)h(HBS')m(s)h(point)d(of)i(vie)o(w)m(,)g(b)o
(ut)f(that)h(is)f(irrele)o(v)o(ant)g(to)45 2750 y(this)d(document.\))
964 2840 y(8)p eop
%%Page: 9 9
9 8 bop 0 95 a Fd(\017)22 b Fo(Except)11 b(for)g(connect)g(and)g
(disconnect)f(operations,)g(all)h(HBS)h(operations)d(conform)j(to)e
(the)h(follo)o(wing)e(structure:)89 189 y(1.)22 b(A)12
b(client)e(sends)g(an)i(operation)e Fi(r)n(equest)g Fo(on)h(the)g
(write)g(socket.)89 262 y(2.)22 b(HBS)12 b(reads)f(the)g(request)g
(from)h(the)f(write)f(socket,)h(and)g(attempts)f(to)h
Fi(satisfy)f Fo(it.)89 335 y(3.)22 b(If)12 b(HBS:)185
408 y Fm(\261)22 b(can)14 b Fo(satisfy)e(the)h(request,)h(it)f(sends)g
(out)f(on)h(the)g(read)h(socket)e(of)i(the)f(connecting)f(client)g(a)i
Fi(r)n(eturn)f(value)230 465 y Fo(indicating)e(success)h(and)g
(\(optionally\))e(some)j Fi(r)n(eturn)e(data)p Fo(.)19
b(Then,)13 b(it)f(sends)f(out)h(an)g Fi(e)o(vent)h Fo(on)f(the)g(e)o(v)
o(ent)230 521 y(sockets)e(of)h(all)g(clients)f(who)h(ha)o(v)o(e)g
(subscribed)f(to)h(this)f(operation')m(s)g(e)o(v)o(ents.)185
586 y Fm(\261)22 b(cannot)11 b Fo(satisfy)d(the)i(request,)f(it)g
(sends)g(out)g(on)h(the)f(read)h(socket)e(of)i(the)g(connecting)e
(client)h(a)h Fi(r)n(eturn)f(value)230 643 y Fo(indicating)h(failure.)
16 b(No)10 b(other)h(data)g(is)g(sent)g(to)f(the)h(requesting)f
(client,)h(and)g(no)g(e)o(v)o(ents)f(are)i(sent.)0 736
y Fd(\017)22 b Fo(Operation)12 b(descriptions)e(include)h(a)i(tab)o
(ular)e(description)g(of)h(the)g(data)g(sent)g(back)g(and)g(forth)g
(between)g(ECS)g(clients)45 793 y(and)h(HBS)g(serv)o(er)m(.)22
b(Reading)12 b(from)h(top)f(to)g(bottom,)h(the)o(y)f(present)g(in)g
(chronological)f(order)i(the)f(client)g(request,)g(the)45
849 y(HBS)h(response,)f(and)g(the)g(HBS)h(e)o(v)o(ent)f(sent.)19
b(Remember)14 b(that)d(the)h(HBS)h(response)e(will)g(be)h(sent)g(to)g
(the)g(requesting)45 906 y(client)f(only)m(,)f(while)h(the)g(e)o(v)o
(ent)g(is)f(sent)h(to)g(all)f(clients)h(who)f(ha)o(v)o(e)i(subscribed)e
(to)g(it.)0 1000 y Fd(\017)22 b Fo(In)13 b(most)g(cases,)h(data)e(is)h
(passed)f(between)h(the)f(client)g(and)h(serv)o(er)h(by)e(\256rst)h
(passing)e(a)j(4)e(byte)h(inte)o(ger)f(representing)45
1056 y(the)g(length)e(of)i(the)g(data,)g(then)f(passing)f(those)h(man)o
(y)h(bytes.)18 b(This)10 b(allo)o(ws)h(binary)g(data)g(to)h(be)f
(stored)g(and)h(retrie)o(v)o(ed.)45 1112 y(There)19 b(is)f(one)h(e)o
(xception)e(to)h(this)g(rule:)30 b(client)18 b(names.)39
b(Client)18 b(names)h(are)g(always)e(passed)h(in)g(traditional)f(C)45
1169 y(string)c(representation)g(with)g(the)h(null)f(character)i
(representing)e(the)h(end)g(of)g(the)g(string.)25 b(Thus,)14
b(no)g(4)g(byte)f(inte)o(ger)45 1225 y(representing)d(the)h(length)f
(of)i(the)f(client)f(name)i(string)e(is)g(needed)h(or)h(used.)0
1319 y Fd(\017)22 b Fo(All)15 b(e)o(v)o(ents)g(ha)o(v)o(e)h(a)g(\256x)o
(ed)f(structure:)24 b(a)16 b(null-terminated)e(client)g(string,)i
(follo)o(wed)e(by)h(three)g(four)h(byte)e(inte)o(gers,)45
1376 y(follo)o(wed)e(by)h(the)g(e)o(v)o(ent)f(message)i(size,)f(follo)o
(wed)f(by)h(the)f(e)o(v)o(ent)h(message)g(\(if)h(the)e(e)o(v)o(ent)h
(message)g(size)g(was)g(non-)45 1432 y(zero\).)k(In)11
b(some)g(cases,)g(not)f(all)h(of)g(the)f(three)h(four)g(byte)f(inte)o
(gers)g(are)h(meaningful)f(for)h(the)g(particular)f(operation.)15
b(In)45 1489 y(this)c(case,)h(one)g(or)f(more)i(of)e(them)h(might)f(be)
g(simply)g(a)h(four)f(byte)g(zero)h(whose)f(sole)g(purpose)g(is)g(to)g
(ensure)g(that)g(this)45 1545 y(\256x)o(ed)h(structure)e(is)h(preserv)o
(ed.)17 b(This)10 b(is)h(indicated)f(by)h(the)f(\252Send)i
(placeholder\272)f(action)f(in)h(certain)g(e)o(v)o(ents.)0
1639 y Fd(\017)22 b Fo(Ev)o(ent)11 b(messages)g(are)h(optional.)j(When)
c(an)g(e)o(v)o(ent)g(message)h(is)e(not)h(supplied,)f(this)g(is)h
(indicated)f(by)g(simply)h(passing)45 1695 y(zero)h(as)f(the)g(e)o(v)o
(ent)g(message)h(length)e(size,)h(and)g(no)g(data.)0
1789 y Fd(\017)22 b Fo(Only)14 b(the)g(return)f(v)o(alues)h(indicating)
e(success)i(are)h(noted)e(in)h(the)f(follo)o(wing)f(sections.)25
b(F)o(or)14 b(a)h(list)e(of)h(the)g(possible)45 1846
y(error)e(return)f(v)o(alues)f(that)h(can)g(be)h(returned)e(by)h
(operations,)f(refer)j(to)d(Appendix)g(A.)964 2840 y(9)p
eop
%%Page: 10 10
10 9 bop 0 95 a Fk(5.1)50 b(Connect,)12 b(Connected)0
183 y Fo(Connect-time)e(processing)f(is)h(by)h(far)f(the)h(most)f
(complicated)g(operation)f(carried)i(out)f(by)g(clients)g(and)g(serv)o
(ers,)i(since)e(it)0 239 y(in)n(v)o(olv)o(es)h(establishing)f(sockets,)
i(synchronizing)e(database)i(state,)h(and)f(do)o(wnloading)e
(structural)h(information)g(by)h(the)0 296 y(ne)o(wly)e(connected)h
(client.)16 b(It)11 b(can)g(be)h(roughly)d(split)h(into)g(three)h
(phases.)0 418 y Fm(Phase)g(1:)16 b(Socket)c(Setup)0
506 y Fo(During)17 b(the)g(\256rst)g(phase,)j(the)d(ECS)h(client)f
(connects)g(to)g(HBS,)h(obtains)e(its)h(three)h(pri)o(v)o(ate)e
(sockets,)i(tells)f(HBS)h(its)0 562 y(client-name,)11
b(and)g(pro)o(vides)g(the)f(e)o(v)o(ent)h(message:)952
2840 y(10)p eop
%%Page: 11 11
11 10 bop 71 51 1899 2 v 70 101 2 50 v 946 86 a Fq(Connect)p
1968 101 V 71 103 1899 2 v 70 153 2 50 v 451 138 a Fp(ECS)11
b(Client)p 1019 153 V 1019 153 V 754 w(HBS)f(Serv)o(er)p
1968 153 V 71 154 1899 2 v 70 254 2 100 v 95 189 a(Action)p
480 254 V 296 w(Socket)p 649 254 V 57 w(Length)675 239
y(\(Bytes\))p 819 254 V 845 189 a(V)-5 b(alue)p 1019
254 V 106 w(Action)p 1429 254 V 296 w(Socket)p 1599 254
V 56 w(Length)1624 239 y(\(Bytes\))p 1768 254 V 1794
189 a(V)g(alue)p 1968 254 V 71 256 1899 2 v 70 405 2
150 v 95 291 a(Create)8 b(socket)f(connec-)95 340 y(tion)19
b(to)f(serv)o(er)j(public)95 390 y(socket)p 480 405 V
505 291 a(Public)p 649 405 V 819 405 V 1019 405 V 1429
405 V 1599 405 V 1768 405 V 1968 405 V 71 407 1899 2
v 70 506 2 100 v 480 506 V 649 506 V 819 506 V 1019 506
V 1045 442 a(Send)6 b(Read)g(socket)g(port)1045 491 y(number)p
1429 506 V 1455 442 a(Public)p 1599 506 V 62 w(4)p 1768
506 V 149 w(Port)1794 491 y(Num)p 1968 506 V 71 508 1899
2 v 70 658 2 150 v 95 543 a(Create)i(socket)f(connec-)95
593 y(tion)25 b(to)h(pri)o(v)o(ate)f(read)95 643 y(socket)p
480 658 V 505 543 a(Read)p 649 658 V 819 658 V 1019 658
V 1429 658 V 1599 658 V 1768 658 V 1968 658 V 71 659
1899 2 v 70 759 2 100 v 480 759 V 649 759 V 819 759 V
1019 759 V 1045 694 a(Send)38 b(Write)g(socket)1045 744
y(port)9 b(number)p 1429 759 V 1455 694 a(Public)p 1599
759 V 62 w(4)p 1768 759 V 149 w(Port)1794 744 y(Num)p
1968 759 V 71 760 1899 2 v 70 910 2 150 v 95 795 a(Create)f(socket)f
(connec-)95 845 y(tion)21 b(to)f(pri)o(v)o(ate)h(write)95
895 y(socket)p 480 910 V 505 795 a(Write)p 649 910 V
819 910 V 1019 910 V 1429 910 V 1599 910 V 1768 910 V
1968 910 V 71 912 1899 2 v 70 1011 2 100 v 480 1011 V
649 1011 V 819 1011 V 1019 1011 V 1045 946 a(Send)37
b(Ev)o(ent)h(socket)1045 996 y(port)9 b(number)p 1429
1011 V 1455 946 a(Public)p 1599 1011 V 62 w(4)p 1768
1011 V 149 w(Port)1794 996 y(Num)p 1968 1011 V 71 1013
1899 2 v 70 1162 2 150 v 95 1048 a(Create)f(socket)f(connec-)95
1098 y(tion)21 b(to)f(pri)o(v)o(ate)h(write)95 1147 y(socket)p
480 1162 V 505 1048 a(Write)p 649 1162 V 819 1162 V 1019
1162 V 1429 1162 V 1599 1162 V 1768 1162 V 1968 1162
V 71 1164 1899 2 v 70 1313 2 150 v 95 1199 a(Break)13
b(socket)e(connec-)95 1249 y(tion)19 b(to)f(serv)o(er)j(public)95
1298 y(socket)p 480 1313 V 505 1199 a(Public)p 649 1313
V 819 1313 V 1019 1313 V 1429 1313 V 1599 1313 V 1768
1313 V 1968 1313 V 71 1315 1899 2 v 70 1415 2 100 v 95
1350 a(Send)d(null)e(terminated)95 1400 y(client)10 b(name)p
480 1415 V 505 1350 a(Write)p 649 1415 V 75 w(?)p 819
1415 V 152 w(Name)p 1019 1415 V 1429 1415 V 1599 1415
V 1768 1415 V 1968 1415 V 71 1416 1899 2 v 70 1516 2
100 v 95 1451 a(Send)18 b(null)e(terminated)95 1501 y(db-ID)p
480 1516 V 505 1451 a(Write)p 649 1516 V 75 w(?)p 819
1516 V 152 w(Name)p 1019 1516 V 1429 1516 V 1599 1516
V 1768 1516 V 1968 1516 V 71 1518 1899 2 v 70 1617 2
100 v 95 1553 a(Send)25 b(e)o(v)o(ent)f(message)95 1602
y(size)p 480 1617 V 505 1553 a(Write)p 649 1617 V 75
w(4)p 819 1617 V 149 w(Msize)p 1019 1617 V 1429 1617
V 1599 1617 V 1768 1617 V 1968 1617 V 71 1619 1899 2
v 70 1669 2 50 v 95 1654 a(Send)11 b(e)o(v)o(ent)g(message)p
480 1669 V 78 w(Write)p 649 1669 V 75 w(MSize)p 819 1669
V 62 w(Message)p 1019 1669 V 1429 1669 V 1599 1669 V
1768 1669 V 1968 1669 V 71 1670 1899 2 v 70 1720 2 50
v 1019 1720 V 1045 1705 a Fq(Reply:)p 1968 1720 V 71
1722 1899 2 v 70 1772 2 50 v 480 1772 V 649 1772 V 819
1772 V 1019 1772 V 1045 1757 a Fp(Send)f(return)g(v)o(alue)p
1429 1772 V 118 w(Read)p 1599 1772 V 84 w(4)p 1768 1772
V 149 w(0)p 1968 1772 V 71 1773 1899 2 v 70 1823 2 50
v 1019 1823 V 1045 1808 a Fq(Event:)p 1968 1823 V 71
1825 1899 2 v 70 1924 2 100 v 480 1924 V 649 1924 V 819
1924 V 1019 1924 V 1045 1860 a Fp(Send)21 b(null-terminated)1045
1910 y(client)9 b(name)j(string)p 1429 1924 V 1455 1860
a(Ev)o(ent)p 1599 1924 V 73 w(?)p 1768 1924 V 152 w(Name)p
1968 1924 V 71 1926 1899 2 v 70 1976 2 50 v 480 1976
V 649 1976 V 819 1976 V 1019 1976 V 1045 1961 a(Send)e(placeholder)p
1429 1976 V 123 w(Ev)o(ent)p 1599 1976 V 73 w(4)p 1768
1976 V 149 w(0)p 1968 1976 V 71 1978 1899 2 v 70 2027
2 50 v 480 2027 V 649 2027 V 819 2027 V 1019 2027 V 1045
2012 a(Send)g(operation)f(ID)p 1429 2027 V 106 w(Ev)o(ent)p
1599 2027 V 73 w(4)p 1768 2027 V 149 w(16)p 1968 2027
V 71 2029 1899 2 v 70 2079 2 50 v 480 2079 V 649 2079
V 819 2079 V 1019 2079 V 1045 2064 a(Send)h(placeholder)p
1429 2079 V 123 w(Ev)o(ent)p 1599 2079 V 73 w(4)p 1768
2079 V 149 w(0)p 1968 2079 V 71 2081 1899 2 v 70 2180
2 100 v 480 2180 V 649 2180 V 819 2180 V 1019 2180 V
1045 2115 a(Send)24 b(e)o(v)o(ent)g(message)1045 2165
y(size)p 1429 2180 V 1455 2115 a(Ev)o(ent)p 1599 2180
V 73 w(4)p 1768 2180 V 149 w(Msize)p 1968 2180 V 71 2182
1899 2 v 70 2232 2 50 v 480 2232 V 649 2232 V 819 2232
V 1019 2232 V 1045 2217 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 2232 V 79 w(Ev)o(ent)p 1599 2232 V 73 w(Msize)p
1768 2232 V 69 w(Message)p 1968 2232 V 71 2233 1899 2
v 71 2344 a Fo(During)d(phase)i(1)g(of)g(connection,)f(HBS)h(must)g
(create)g(three)g(ne)o(w)g(sockets,)f(and)h(represent)f(this)g(client')
m(s)h(connection)0 2400 y(internally)m(.)71 2457 y(As)i(soon)f(as)h
(HBS)h(observ)o(es)f(the)g(connection)f(of)h(an)h(ECS)g(client)e(to)h
(its)g(public)f(socket,)h(it)f(suspends)g(servicing)g(of)0
2513 y(operation)g(requests)h(from)h(all)f(clients)g(e)o(xcept)g(the)h
(Gagent)f(and)g(the)g(connecting)g(client.)19 b(It)13
b(does,)g(ho)o(we)o(v)o(er)n(,)g(send)f(out)0 2570 y(the)g(connect)g
(operation)f(e)o(v)o(ent)h(to)g(all)g(subscribing)e(clients.)19
b(\(The)13 b(connect)e(operation)h(e)o(v)o(ent)g(is)g(used)f(by)h(ECS)h
(clients)0 2626 y(to)e(generate)g(the)g(minib)o(uf)o(fer)g(message)g
(that)g(a)g(ne)o(w)g(client)f(is)h(connecting.\))71 2682
y(HBS)17 b(will)e(return)i(0)f(if)h(the)f(connect)g(operation)f
(succeeds.)33 b(Otherwise,)17 b(it)f(can)h(return:)27
b(-9999)15 b(\(socket)h(setup)0 2739 y(problems\),)k(-101)e(\(client)f
(already)i(connected\),)h(-102)e(\(client)f(passes)h(a)h(db-ID)f(that)f
(does)h(not)g(match)g(the)g(db-ID)952 2840 y(11)p eop
%%Page: 12 12
12 11 bop 0 95 a Fo(associated)15 b(with)g(the)h(database\),)h(or)f
(-103)f(\(HBS)i(is)f(connected)f(to)h(its)f(maximum)h(number)g(of)g
(clients)f(and)h(cannot)0 152 y(connect)11 b(another)m(.\))0
275 y Fm(Phase)g(2:)16 b(Gagent/Client)11 b(synchr)o(onization)0
362 y Fo(In)i(phase)f(two)f(of)i(connection,)f(the)g(ECS)h(client:)18
b(\(a\))13 b(subscribes)f(to)g(v)o(arious)f(e)o(v)o(ents,)i(\(b\))g
(uses)f(a)h(broadcast-message)0 418 y(operation)19 b(to)h(tell)f(the)h
(Gagent)f(to)h(do)o(wnload)e(its)i(gtables,)h(\(c\))g(waits)e(until)f
(the)i(Gtable)g(signals)e(completion)h(of)0 475 y(do)o(wnloading,)9
b(and)h(\256nally)h(\(d\))g(uses)f(read-node)h(operations)e(to)i(get)g
(the)f(contents)g(of)h(the)f(gtables.)16 b(The)11 b(details)e(of)i
(this)0 531 y(client-gagent)h(handshake)h(are)h(not)g(important)e(from)
j(the)f(HBS)g(perspecti)o(v)o(e,)g(since)g(HBS)g(just)f(services)h(an)o
(y)g(and)g(all)0 588 y(requests)d(it)f(recei)o(v)o(es)i(from)g(the)f
(Gagent)g(and)g(the)g(connecting)f(client.)17 b(Refer)12
b(to)f(the)g(ECS)h(design)f(documentation)e(and)0 644
y(the)i(ECS)h(source)f(for)g(full)f(details)h(on)f(this)g(phase.)0
767 y Fm(Phase)h(3:)16 b(Finalizing)10 b(connection)0
854 y Fo(In)j(phase)f(three,)h(the)g(connecting)e(client)h(has)g(no)o
(w)g(initialized)f(its)h(state,)g(and)h(all)f(that)g(remains)h(is)f(to)
g(instruct)f(HBS)j(to)0 911 y(resume)f(normal)g(processing)e(of)i(all)f
(client)g(operation)g(requests.)20 b(This)12 b(is)g(accomplished)g(by)g
(the)h(client)f(in)n(v)o(oking)e(the)0 967 y(connected)15
b(operation,)g(which)g(serv)o(es)g(as)g(a)h(signal)e(to)h(HBS)h(that)e
(all)h(connect-time)g(Gagent/client)f(processing)f(has)0
1024 y(been)e(accomplished)f(and)h(no)g(further)g(suspension)e(of)i
(other)g(client)g(processing)e(is)i(required.)p 71 1089
1839 2 v 70 1139 2 50 v 895 1124 a Fq(Connected)p 1908
1139 V 71 1141 1839 2 v 70 1191 2 50 v 436 1176 a Fp(ECS)g(Client)p
989 1191 V 989 1191 V 724 w(HBS)f(Serv)o(er)p 1908 1191
V 71 1192 1839 2 v 70 1292 2 100 v 95 1227 a(Action)p
480 1292 V 296 w(Socket)p 649 1292 V 57 w(Length)675
1277 y(\(Bytes\))p 819 1292 V 845 1227 a(V)-5 b(alue)p
989 1292 V 76 w(Action)p 1399 1292 V 296 w(Socket)p 1569
1292 V 56 w(Length)1594 1277 y(\(Bytes\))p 1738 1292
V 1764 1227 a(V)g(alue)p 1908 1292 V 71 1293 1839 2 v
70 1343 2 50 v 95 1328 a Fq(Request:)p 989 1343 V 1908
1343 V 71 1345 1839 2 v 70 1445 2 100 v 95 1380 a Fp(Send)18
b(Connected)f(Op-)95 1430 y(eration)10 b(ID)p 480 1445
V 505 1380 a(Write)p 649 1445 V 75 w(4)p 819 1445 V 149
w(27)p 989 1445 V 1399 1445 V 1569 1445 V 1738 1445 V
1908 1445 V 71 1446 1839 2 v 70 1546 2 100 v 95 1481
a(Send)25 b(e)o(v)o(ent)f(message)95 1531 y(size)p 480
1546 V 505 1481 a(Write)p 649 1546 V 75 w(4)p 819 1546
V 149 w(Msize)p 989 1546 V 1399 1546 V 1569 1546 V 1738
1546 V 1908 1546 V 71 1548 1839 2 v 70 1597 2 50 v 95
1582 a(Send)11 b(e)o(v)o(ent)g(message)p 480 1597 V 78
w(Write)p 649 1597 V 75 w(Msize)p 819 1597 V 69 w(Message)p
989 1597 V 1399 1597 V 1569 1597 V 1738 1597 V 1908 1597
V 71 1599 1839 2 v 70 1649 2 50 v 989 1649 V 1015 1634
a Fq(Reply:)p 1908 1649 V 71 1650 1839 2 v 70 1700 2
50 v 480 1700 V 649 1700 V 819 1700 V 989 1700 V 1015
1685 a Fp(Send)f(return)g(v)o(alue)p 1399 1700 V 118
w(Read)p 1569 1700 V 84 w(4)p 1738 1700 V 149 w(0)p 1908
1700 V 71 1702 1839 2 v 70 1752 2 50 v 989 1752 V 1015
1737 a Fq(Event:)p 1908 1752 V 71 1753 1839 2 v 70 1853
2 100 v 480 1853 V 649 1853 V 819 1853 V 989 1853 V 1015
1788 a Fp(Send)21 b(null-terminated)1015 1838 y(client)9
b(name)j(string)p 1399 1853 V 1425 1788 a(Ev)o(ent)p
1569 1853 V 73 w(?)p 1738 1853 V 152 w(Name)p 1908 1853
V 71 1855 1839 2 v 70 1905 2 50 v 480 1905 V 649 1905
V 819 1905 V 989 1905 V 1015 1890 a(Send)e(placeholder)p
1399 1905 V 123 w(Ev)o(ent)p 1569 1905 V 73 w(4)p 1738
1905 V 149 w(0)p 1908 1905 V 71 1906 1839 2 v 70 1956
2 50 v 480 1956 V 649 1956 V 819 1956 V 989 1956 V 1015
1941 a(Send)g(operation)f(ID)p 1399 1956 V 106 w(Ev)o(ent)p
1569 1956 V 73 w(4)p 1738 1956 V 149 w(27)p 1908 1956
V 71 1958 1839 2 v 70 2007 2 50 v 480 2007 V 649 2007
V 819 2007 V 989 2007 V 1015 1993 a(Send)h(placeholder)p
1399 2007 V 123 w(Ev)o(ent)p 1569 2007 V 73 w(4)p 1738
2007 V 149 w(0)p 1908 2007 V 71 2009 1839 2 v 70 2109
2 100 v 480 2109 V 649 2109 V 819 2109 V 989 2109 V 1015
2044 a(Send)24 b(e)o(v)o(ent)g(message)1015 2094 y(size)p
1399 2109 V 1425 2044 a(Ev)o(ent)p 1569 2109 V 73 w(4)p
1738 2109 V 149 w(Msize)p 1908 2109 V 71 2110 1839 2
v 70 2160 2 50 v 480 2160 V 649 2160 V 819 2160 V 989
2160 V 1015 2145 a(Send)10 b(e)o(v)o(ent)h(message)p
1399 2160 V 79 w(Ev)o(ent)p 1569 2160 V 73 w(Msize)p
1738 2160 V 69 w(Message)p 1908 2160 V 71 2162 1839 2
v 952 2840 a Fo(12)p eop
%%Page: 13 13
13 12 bop 0 95 a Fk(5.2)50 b(Disconnect)0 183 y Fo(The)11
b(disconnect)f(operation)g(disconnects)f(the)i(client)g(from)g(the)g
(HBS.)p 71 248 1839 2 v 70 298 2 50 v 893 283 a Fq(Disconnect)p
1908 298 V 71 300 1839 2 v 70 349 2 50 v 436 334 a Fp(ECS)g(Client)p
989 349 V 989 349 V 724 w(HBS)f(Serv)o(er)p 1908 349
V 71 351 1839 2 v 70 451 2 100 v 95 386 a(Action)p 480
451 V 296 w(Socket)p 649 451 V 57 w(Length)675 436 y(\(Bytes\))p
819 451 V 845 386 a(V)-5 b(alue)p 989 451 V 76 w(Action)p
1399 451 V 296 w(Socket)p 1569 451 V 56 w(Length)1594
436 y(\(Bytes\))p 1738 451 V 1764 386 a(V)g(alue)p 1908
451 V 71 452 1839 2 v 70 502 2 50 v 95 487 a Fq(Request:)p
989 502 V 1908 502 V 71 504 1839 2 v 70 603 2 100 v 95
539 a Fp(Send)13 b(Disconnect)g(Op-)95 588 y(eration)d(ID)p
480 603 V 505 539 a(Write)p 649 603 V 75 w(4)p 819 603
V 149 w(17)p 989 603 V 1399 603 V 1569 603 V 1738 603
V 1908 603 V 71 605 1839 2 v 70 705 2 100 v 95 640 a(Send)25
b(e)o(v)o(ent)f(message)95 690 y(size)p 480 705 V 505
640 a(Write)p 649 705 V 75 w(4)p 819 705 V 149 w(Msize)p
989 705 V 1399 705 V 1569 705 V 1738 705 V 1908 705 V
71 706 1839 2 v 70 756 2 50 v 95 741 a(Send)11 b(e)o(v)o(ent)g(message)
p 480 756 V 78 w(Write)p 649 756 V 75 w(Msize)p 819 756
V 69 w(Message)p 989 756 V 1399 756 V 1569 756 V 1738
756 V 1908 756 V 71 758 1839 2 v 70 808 2 50 v 989 808
V 1015 793 a Fq(Reply:)p 1908 808 V 71 809 1839 2 v 70
859 2 50 v 480 859 V 649 859 V 819 859 V 989 859 V 1015
844 a Fp(Send)f(return)g(v)o(alue)p 1399 859 V 118 w(Read)p
1569 859 V 84 w(4)p 1738 859 V 149 w(0)p 1908 859 V 71
861 1839 2 v 70 911 2 50 v 989 911 V 1015 896 a Fq(Event:)p
1908 911 V 71 912 1839 2 v 70 1012 2 100 v 480 1012 V
649 1012 V 819 1012 V 989 1012 V 1015 947 a Fp(Send)21
b(null-terminated)1015 997 y(client)9 b(name)j(string)p
1399 1012 V 1425 947 a(Ev)o(ent)p 1569 1012 V 73 w(?)p
1738 1012 V 152 w(Name)p 1908 1012 V 71 1014 1839 2 v
70 1063 2 50 v 480 1063 V 649 1063 V 819 1063 V 989 1063
V 1015 1048 a(Send)e(placeholder)p 1399 1063 V 123 w(Ev)o(ent)p
1569 1063 V 73 w(4)p 1738 1063 V 149 w(0)p 1908 1063
V 71 1065 1839 2 v 70 1115 2 50 v 480 1115 V 649 1115
V 819 1115 V 989 1115 V 1015 1100 a(Send)g(operation)f(ID)p
1399 1115 V 106 w(Ev)o(ent)p 1569 1115 V 73 w(4)p 1738
1115 V 149 w(27)p 1908 1115 V 71 1116 1839 2 v 70 1166
2 50 v 480 1166 V 649 1166 V 819 1166 V 989 1166 V 1015
1151 a(Send)h(placeholder)p 1399 1166 V 123 w(Ev)o(ent)p
1569 1166 V 73 w(4)p 1738 1166 V 149 w(0)p 1908 1166
V 71 1168 1839 2 v 70 1268 2 100 v 480 1268 V 649 1268
V 819 1268 V 989 1268 V 1015 1203 a(Send)24 b(e)o(v)o(ent)g(message)
1015 1253 y(size)p 1399 1268 V 1425 1203 a(Ev)o(ent)p
1569 1268 V 73 w(4)p 1738 1268 V 149 w(Msize)p 1908 1268
V 71 1269 1839 2 v 70 1319 2 50 v 480 1319 V 649 1319
V 819 1319 V 989 1319 V 1015 1304 a(Send)10 b(e)o(v)o(ent)h(message)p
1399 1319 V 79 w(Ev)o(ent)p 1569 1319 V 73 w(Msize)p
1738 1319 V 69 w(Message)p 1908 1319 V 71 1321 1839 2
v 952 2840 a Fo(13)p eop
%%Page: 14 14
14 13 bop 0 95 a Fk(5.3)50 b(Read)12 b(Node)0 183 y Fo(The)f(read)h
(node)e(operation)g(requests)h(the)g(contents)e(of)j(the)f(supplied)e
(node-ID,)i(which)g(HBS)g(looks)f(up)h(and)g(returns.)p
71 248 1899 2 v 70 298 2 50 v 922 283 a Fq(Read)g(Node)p
1968 298 V 71 300 1899 2 v 70 349 2 50 v 451 334 a Fp(ECS)g(Client)p
1019 349 V 1019 349 V 754 w(HBS)f(Serv)o(er)p 1968 349
V 71 351 1899 2 v 70 451 2 100 v 95 386 a(Action)p 480
451 V 296 w(Socket)p 649 451 V 57 w(Length)675 436 y(\(Bytes\))p
819 451 V 845 386 a(V)-5 b(alue)p 1019 451 V 106 w(Action)p
1429 451 V 296 w(Socket)p 1599 451 V 56 w(Length)1624
436 y(\(Bytes\))p 1768 451 V 1794 386 a(V)g(alue)p 1968
451 V 71 452 1899 2 v 70 502 2 50 v 95 487 a Fq(Request:)p
1019 502 V 1968 502 V 71 504 1899 2 v 70 603 2 100 v
95 539 a Fp(Send)13 b(Read)g(Node)f(Op-)95 588 y(eration)e(ID)p
480 603 V 505 539 a(Write)p 649 603 V 75 w(4)p 819 603
V 149 w(1)p 1019 603 V 1429 603 V 1599 603 V 1768 603
V 1968 603 V 71 605 1899 2 v 70 655 2 50 v 95 640 a(Send)h(Node-ID)p
480 655 V 168 w(Write)p 649 655 V 75 w(4)p 819 655 V
149 w(ID)p 1019 655 V 1429 655 V 1599 655 V 1768 655
V 1968 655 V 71 657 1899 2 v 70 706 2 50 v 95 691 a(Send)g(ke)o(y)f
(\(data)h(\256eld\))p 480 706 V 65 w(Write)p 649 706
V 75 w(4)p 819 706 V 149 w(517)p 1019 706 V 1429 706
V 1599 706 V 1768 706 V 1968 706 V 71 708 1899 2 v 70
808 2 100 v 95 743 a(Send)25 b(e)o(v)o(ent)f(message)95
793 y(size)p 480 808 V 505 743 a(Write)p 649 808 V 75
w(4)p 819 808 V 149 w(Msize)p 1019 808 V 1429 808 V 1599
808 V 1768 808 V 1968 808 V 71 809 1899 2 v 70 859 2
50 v 95 844 a(Send)11 b(e)o(v)o(ent)g(message)p 480 859
V 78 w(Write)p 649 859 V 75 w(Msize)p 819 859 V 69 w(Message)p
1019 859 V 1429 859 V 1599 859 V 1768 859 V 1968 859
V 71 861 1899 2 v 70 911 2 50 v 1019 911 V 1045 896 a
Fq(Reply:)p 1968 911 V 71 912 1899 2 v 70 962 2 50 v
480 962 V 649 962 V 819 962 V 1019 962 V 1045 947 a Fp(Send)f(return)g
(v)o(alue)p 1429 962 V 118 w(Read)p 1599 962 V 84 w(4)p
1768 962 V 149 w(0)g(or)g(351)p 1968 962 V 71 964 1899
2 v 70 1014 2 50 v 480 1014 V 649 1014 V 819 1014 V 1019
1014 V 1045 999 a(Send)g(data)h(size)p 1429 1014 V 173
w(Read)p 1599 1014 V 84 w(4)p 1768 1014 V 149 w(Dsize)p
1968 1014 V 71 1015 1899 2 v 70 1065 2 50 v 480 1065
V 649 1065 V 819 1065 V 1019 1065 V 1045 1050 a(Send)f(data)p
1429 1065 V 248 w(Read)p 1599 1065 V 84 w(Dsize)p 1768
1065 V 76 w(Data)p 1968 1065 V 71 1067 1899 2 v 70 1116
2 50 v 1019 1116 V 1045 1102 a Fq(Event:)p 1968 1116
V 71 1118 1899 2 v 70 1218 2 100 v 480 1218 V 649 1218
V 819 1218 V 1019 1218 V 1045 1153 a Fp(Send)21 b(null-terminated)1045
1203 y(client)9 b(name)j(string)p 1429 1218 V 1455 1153
a(Ev)o(ent)p 1599 1218 V 73 w(?)p 1768 1218 V 152 w(Name)p
1968 1218 V 71 1219 1899 2 v 70 1269 2 50 v 480 1269
V 649 1269 V 819 1269 V 1019 1269 V 1045 1254 a(Send)e(node-ID)p
1429 1269 V 178 w(Ev)o(ent)p 1599 1269 V 73 w(4)p 1768
1269 V 149 w(ID)p 1968 1269 V 71 1271 1899 2 v 70 1321
2 50 v 480 1321 V 649 1321 V 819 1321 V 1019 1321 V 1045
1306 a(Send)g(operation)f(ID)p 1429 1321 V 106 w(Ev)o(ent)p
1599 1321 V 73 w(4)p 1768 1321 V 149 w(1)p 1968 1321
V 71 1322 1899 2 v 70 1372 2 50 v 480 1372 V 649 1372
V 819 1372 V 1019 1372 V 1045 1357 a(Send)h(ke)o(y)p
1429 1372 V 258 w(Ev)o(ent)p 1599 1372 V 73 w(4)p 1768
1372 V 149 w(517)p 1968 1372 V 71 1374 1899 2 v 70 1473
2 100 v 480 1473 V 649 1473 V 819 1473 V 1019 1473 V
1045 1409 a(Send)24 b(e)o(v)o(ent)g(message)1045 1459
y(size)p 1429 1473 V 1455 1409 a(Ev)o(ent)p 1599 1473
V 73 w(4)p 1768 1473 V 149 w(Msize)p 1968 1473 V 71 1475
1899 2 v 70 1525 2 50 v 480 1525 V 649 1525 V 819 1525
V 1019 1525 V 1045 1510 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1525 V 79 w(Ev)o(ent)p 1599 1525 V 73 w(Msize)p
1768 1525 V 69 w(Message)p 1968 1525 V 71 1527 1899 2
v 71 1637 a Fo(Return)g(v)o(alues)f(of)h(either)g(0)g(\(success\))g(or)
g(351)g(\(node)g(is)f(locked)h(by)f(another)h(client\))g(indicate)f
(success.)952 2840 y(14)p eop
%%Page: 15 15
15 14 bop 0 95 a Fk(5.4)50 b(Cr)o(eate)12 b(Node)0 183
y Fo(The)f(create)h(node)f(operation)f(requests)g(that)h(HBS)g(create)h
(a)g(ne)o(w)f(node)f(with)h(the)f(supplied)g(name)i(and)f(data.)p
71 248 1899 2 v 70 298 2 50 v 909 283 a Fq(Cr)o(eate)g(Node)p
1968 298 V 71 300 1899 2 v 70 349 2 50 v 451 334 a Fp(ECS)g(Client)p
1019 349 V 1019 349 V 754 w(HBS)f(Serv)o(er)p 1968 349
V 71 351 1899 2 v 70 451 2 100 v 95 386 a(Action)p 480
451 V 296 w(Socket)p 649 451 V 57 w(Length)675 436 y(\(Bytes\))p
819 451 V 845 386 a(V)-5 b(alue)p 1019 451 V 106 w(Action)p
1429 451 V 296 w(Socket)p 1599 451 V 56 w(Length)1624
436 y(\(Bytes\))p 1768 451 V 1794 386 a(V)g(alue)p 1968
451 V 71 452 1899 2 v 70 502 2 50 v 95 487 a Fq(Request:)p
1019 502 V 1968 502 V 71 504 1899 2 v 70 603 2 100 v
95 539 a Fp(Send)40 b(Create)g(Node)95 588 y(Operation)10
b(ID)p 480 603 V 505 539 a(Write)p 649 603 V 75 w(4)p
819 603 V 149 w(28)p 1019 603 V 1429 603 V 1599 603 V
1768 603 V 1968 603 V 71 605 1899 2 v 70 655 2 50 v 95
640 a(Send)h(Name)g(Size)p 480 655 V 136 w(Write)p 649
655 V 75 w(4)p 819 655 V 149 w(Nsize)p 1019 655 V 1429
655 V 1599 655 V 1768 655 V 1968 655 V 71 657 1899 2
v 70 706 2 50 v 95 691 a(Send)g(Name)p 480 706 V 218
w(Write)p 649 706 V 75 w(NSize)p 819 706 V 69 w(Name)p
1019 706 V 1429 706 V 1599 706 V 1768 706 V 1968 706
V 71 708 1899 2 v 70 758 2 50 v 95 743 a(Send)g(Data)g(Size)p
480 758 V 156 w(Write)p 649 758 V 75 w(4)p 819 758 V
149 w(Dsize)p 1019 758 V 1429 758 V 1599 758 V 1768 758
V 1968 758 V 71 759 1899 2 v 70 809 2 50 v 95 794 a(Send)g(Data)p
480 809 V 238 w(Write)p 649 809 V 75 w(DSize)p 819 809
V 69 w(Data)p 1019 809 V 1429 809 V 1599 809 V 1768 809
V 1968 809 V 71 811 1899 2 v 70 911 2 100 v 95 846 a(Send)25
b(e)o(v)o(ent)f(message)95 896 y(size)p 480 911 V 505
846 a(Write)p 649 911 V 75 w(4)p 819 911 V 149 w(Msize)p
1019 911 V 1429 911 V 1599 911 V 1768 911 V 1968 911
V 71 912 1899 2 v 70 962 2 50 v 95 947 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 962 V 78 w(Write)p 649 962 V 75 w(Msize)p
819 962 V 69 w(Message)p 1019 962 V 1429 962 V 1599 962
V 1768 962 V 1968 962 V 71 964 1899 2 v 70 1014 2 50
v 1019 1014 V 1045 999 a Fq(Reply:)p 1968 1014 V 71 1015
1899 2 v 70 1065 2 50 v 480 1065 V 649 1065 V 819 1065
V 1019 1065 V 1045 1050 a Fp(Send)f(return)g(v)o(alue)p
1429 1065 V 118 w(Read)p 1599 1065 V 84 w(4)p 1768 1065
V 149 w(0)p 1968 1065 V 71 1067 1899 2 v 70 1116 2 50
v 480 1116 V 649 1116 V 819 1116 V 1019 1116 V 1045 1102
a(Send)g(ne)o(w)h(node)f(ID)p 1429 1116 V 103 w(Read)p
1599 1116 V 84 w(4)p 1768 1116 V 149 w(node-ID)p 1968
1116 V 71 1118 1899 2 v 70 1168 2 50 v 1019 1168 V 1045
1153 a Fq(Event:)p 1968 1168 V 71 1170 1899 2 v 70 1269
2 100 v 480 1269 V 649 1269 V 819 1269 V 1019 1269 V
1045 1204 a Fp(Send)21 b(null-terminated)1045 1254 y(client)9
b(name)j(string)p 1429 1269 V 1455 1204 a(Ev)o(ent)p
1599 1269 V 73 w(?)p 1768 1269 V 152 w(Name)p 1968 1269
V 71 1271 1899 2 v 70 1321 2 50 v 480 1321 V 649 1321
V 819 1321 V 1019 1321 V 1045 1306 a(Send)e(node-ID)p
1429 1321 V 178 w(Ev)o(ent)p 1599 1321 V 73 w(4)p 1768
1321 V 149 w(node-ID)p 1968 1321 V 71 1322 1899 2 v 70
1372 2 50 v 480 1372 V 649 1372 V 819 1372 V 1019 1372
V 1045 1357 a(Send)g(operation)f(ID)p 1429 1372 V 106
w(Ev)o(ent)p 1599 1372 V 73 w(4)p 1768 1372 V 149 w(28)p
1968 1372 V 71 1374 1899 2 v 70 1424 2 50 v 480 1424
V 649 1424 V 819 1424 V 1019 1424 V 1045 1409 a(Send)h(placeholder)p
1429 1424 V 123 w(Ev)o(ent)p 1599 1424 V 73 w(4)p 1768
1424 V 149 w(0)p 1968 1424 V 71 1425 1899 2 v 70 1525
2 100 v 480 1525 V 649 1525 V 819 1525 V 1019 1525 V
1045 1460 a(Send)24 b(e)o(v)o(ent)g(message)1045 1510
y(size)p 1429 1525 V 1455 1460 a(Ev)o(ent)p 1599 1525
V 73 w(4)p 1768 1525 V 149 w(Msize)p 1968 1525 V 71 1527
1899 2 v 70 1576 2 50 v 480 1576 V 649 1576 V 819 1576
V 1019 1576 V 1045 1561 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1576 V 79 w(Ev)o(ent)p 1599 1576 V 73 w(Msize)p
1768 1576 V 69 w(Message)p 1968 1576 V 71 1578 1899 2
v 952 2840 a Fo(15)p eop
%%Page: 16 16
16 15 bop 0 95 a Fk(5.5)50 b(Cr)o(eate)12 b(Locked)g(Node)0
183 y Fo(The)g(create)i(locked)d(node)h(operation)g(requests)g(that)g
(HBS)h(create)g(a)g(ne)o(w)g(locked)e(node)h(with)g(the)g(supplied)f
(name)i(and)0 239 y(data.)p 71 295 1899 2 v 70 345 2
50 v 838 330 a Fq(Cr)o(eate)f(Locked)e(Node)p 1968 345
V 71 347 1899 2 v 70 397 2 50 v 451 382 a Fp(ECS)h(Client)p
1019 397 V 1019 397 V 754 w(HBS)f(Serv)o(er)p 1968 397
V 71 398 1899 2 v 70 498 2 100 v 95 433 a(Action)p 480
498 V 296 w(Socket)p 649 498 V 57 w(Length)675 483 y(\(Bytes\))p
819 498 V 845 433 a(V)-5 b(alue)p 1019 498 V 106 w(Action)p
1429 498 V 296 w(Socket)p 1599 498 V 56 w(Length)1624
483 y(\(Bytes\))p 1768 498 V 1794 433 a(V)g(alue)p 1968
498 V 71 499 1899 2 v 70 549 2 50 v 95 534 a Fq(Request:)p
1019 549 V 1968 549 V 71 551 1899 2 v 70 651 2 100 v
95 586 a Fp(Send)23 b(Create)f(Locked)95 636 y(Node)p
480 651 V 505 586 a(Write)p 649 651 V 75 w(4)p 819 651
V 149 w(29)p 1019 651 V 1429 651 V 1599 651 V 1768 651
V 1968 651 V 71 652 1899 2 v 70 752 2 100 v 95 687 a(Send)14
b(Name)i(Size)e(Op-)95 737 y(eration)c(ID)p 480 752 V
505 687 a(Write)p 649 752 V 75 w(4)p 819 752 V 149 w(Nsize)p
1019 752 V 1429 752 V 1599 752 V 1768 752 V 1968 752
V 71 754 1899 2 v 70 803 2 50 v 95 788 a(Send)h(Name)p
480 803 V 218 w(Write)p 649 803 V 75 w(NSize)p 819 803
V 69 w(Name)p 1019 803 V 1429 803 V 1599 803 V 1768 803
V 1968 803 V 71 805 1899 2 v 70 855 2 50 v 95 840 a(Send)g(Data)g(Size)
p 480 855 V 156 w(Write)p 649 855 V 75 w(4)p 819 855
V 149 w(Dsize)p 1019 855 V 1429 855 V 1599 855 V 1768
855 V 1968 855 V 71 856 1899 2 v 70 906 2 50 v 95 891
a(Send)g(Data)p 480 906 V 238 w(Write)p 649 906 V 75
w(DSize)p 819 906 V 69 w(Data)p 1019 906 V 1429 906 V
1599 906 V 1768 906 V 1968 906 V 71 908 1899 2 v 70 1008
2 100 v 95 943 a(Send)25 b(e)o(v)o(ent)f(message)95 993
y(size)p 480 1008 V 505 943 a(Write)p 649 1008 V 75 w(4)p
819 1008 V 149 w(Msize)p 1019 1008 V 1429 1008 V 1599
1008 V 1768 1008 V 1968 1008 V 71 1009 1899 2 v 70 1059
2 50 v 95 1044 a(Send)11 b(e)o(v)o(ent)g(message)p 480
1059 V 78 w(Write)p 649 1059 V 75 w(Msize)p 819 1059
V 69 w(Message)p 1019 1059 V 1429 1059 V 1599 1059 V
1768 1059 V 1968 1059 V 71 1061 1899 2 v 70 1111 2 50
v 1019 1111 V 1045 1096 a Fq(Reply:)p 1968 1111 V 71
1112 1899 2 v 70 1162 2 50 v 480 1162 V 649 1162 V 819
1162 V 1019 1162 V 1045 1147 a Fp(Send)f(return)g(v)o(alue)p
1429 1162 V 118 w(Read)p 1599 1162 V 84 w(4)p 1768 1162
V 149 w(0)p 1968 1162 V 71 1164 1899 2 v 70 1213 2 50
v 480 1213 V 649 1213 V 819 1213 V 1019 1213 V 1045 1199
a(Send)g(ne)o(w)h(node)f(ID)p 1429 1213 V 103 w(Read)p
1599 1213 V 84 w(4)p 1768 1213 V 149 w(node-ID)p 1968
1213 V 71 1215 1899 2 v 70 1265 2 50 v 1019 1265 V 1045
1250 a Fq(Event:)p 1968 1265 V 71 1267 1899 2 v 70 1366
2 100 v 480 1366 V 649 1366 V 819 1366 V 1019 1366 V
1045 1301 a Fp(Send)21 b(null-terminated)1045 1351 y(client)9
b(name)j(string)p 1429 1366 V 1455 1301 a(Ev)o(ent)p
1599 1366 V 73 w(?)p 1768 1366 V 152 w(Name)p 1968 1366
V 71 1368 1899 2 v 70 1418 2 50 v 480 1418 V 649 1418
V 819 1418 V 1019 1418 V 1045 1403 a(Send)e(node-ID)p
1429 1418 V 178 w(Ev)o(ent)p 1599 1418 V 73 w(4)p 1768
1418 V 149 w(node-ID)p 1968 1418 V 71 1419 1899 2 v 70
1469 2 50 v 480 1469 V 649 1469 V 819 1469 V 1019 1469
V 1045 1454 a(Send)g(operation)f(ID)p 1429 1469 V 106
w(Ev)o(ent)p 1599 1469 V 73 w(4)p 1768 1469 V 149 w(29)p
1968 1469 V 71 1471 1899 2 v 70 1521 2 50 v 480 1521
V 649 1521 V 819 1521 V 1019 1521 V 1045 1506 a(Send)h(placeholder)p
1429 1521 V 123 w(Ev)o(ent)p 1599 1521 V 73 w(4)p 1768
1521 V 149 w(0)p 1968 1521 V 71 1522 1899 2 v 70 1622
2 100 v 480 1622 V 649 1622 V 819 1622 V 1019 1622 V
1045 1557 a(Send)24 b(e)o(v)o(ent)g(message)1045 1607
y(size)p 1429 1622 V 1455 1557 a(Ev)o(ent)p 1599 1622
V 73 w(4)p 1768 1622 V 149 w(Msize)p 1968 1622 V 71 1624
1899 2 v 70 1673 2 50 v 480 1673 V 649 1673 V 819 1673
V 1019 1673 V 1045 1658 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1673 V 79 w(Ev)o(ent)p 1599 1673 V 73 w(Msize)p
1768 1673 V 69 w(Message)p 1968 1673 V 71 1675 1899 2
v 952 2840 a Fo(16)p eop
%%Page: 17 17
17 16 bop 0 95 a Fk(5.6)50 b(Delete)12 b(Node)0 183 y
Fo(The)c(delete)g(node)f(operation)g(requests)g(that)g(HBS)i(delete)e
(the)h(node)g(with)f(the)g(supplied)f(ID.)j(The)f(node)f(must)h(be)g
(unlocked)0 239 y(for)j(deletion)f(to)h(be)g(successful.)16
b(Deleted)10 b(node-IDs)h(may)h(not)e(be)h(reused.)p
71 305 1899 2 v 70 354 2 50 v 913 339 a Fq(Delete)g(Node)p
1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)g(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 408 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)40 b(Delete)g(Node)95 645 y(Operation)10
b(ID)p 480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p
819 660 V 149 w(6)p 1019 660 V 1429 660 V 1599 660 V
1768 660 V 1968 660 V 71 662 1899 2 v 70 711 2 50 v 95
696 a(Send)h(Node-ID)p 480 711 V 168 w(Write)p 649 711
V 75 w(4)p 819 711 V 149 w(node-ID)p 1019 711 V 1429
711 V 1599 711 V 1768 711 V 1968 711 V 71 713 1899 2
v 70 813 2 100 v 95 748 a(Send)25 b(e)o(v)o(ent)f(message)95
798 y(size)p 480 813 V 505 748 a(Write)p 649 813 V 75
w(4)p 819 813 V 149 w(Msize)p 1019 813 V 1429 813 V 1599
813 V 1768 813 V 1968 813 V 71 814 1899 2 v 70 864 2
50 v 95 849 a(Send)11 b(e)o(v)o(ent)g(message)p 480 864
V 78 w(Write)p 649 864 V 75 w(Msize)p 819 864 V 69 w(Message)p
1019 864 V 1429 864 V 1599 864 V 1768 864 V 1968 864
V 71 866 1899 2 v 70 916 2 50 v 1019 916 V 1045 901 a
Fq(Reply:)p 1968 916 V 71 917 1899 2 v 70 967 2 50 v
480 967 V 649 967 V 819 967 V 1019 967 V 1045 952 a Fp(Send)f(return)g
(v)o(alue)p 1429 967 V 118 w(Read)p 1599 967 V 84 w(4)p
1768 967 V 149 w(0)p 1968 967 V 71 969 1899 2 v 70 1019
2 50 v 1019 1019 V 1045 1004 a Fq(Event:)p 1968 1019
V 71 1020 1899 2 v 70 1120 2 100 v 480 1120 V 649 1120
V 819 1120 V 1019 1120 V 1045 1055 a Fp(Send)21 b(null-terminated)1045
1105 y(client)9 b(name)j(string)p 1429 1120 V 1455 1055
a(Ev)o(ent)p 1599 1120 V 73 w(?)p 1768 1120 V 152 w(Name)p
1968 1120 V 71 1122 1899 2 v 70 1171 2 50 v 480 1171
V 649 1171 V 819 1171 V 1019 1171 V 1045 1156 a(Send)e(node-ID)p
1429 1171 V 178 w(Ev)o(ent)p 1599 1171 V 73 w(4)p 1768
1171 V 149 w(node-ID)p 1968 1171 V 71 1173 1899 2 v 70
1223 2 50 v 480 1223 V 649 1223 V 819 1223 V 1019 1223
V 1045 1208 a(Send)g(operation)f(ID)p 1429 1223 V 106
w(Ev)o(ent)p 1599 1223 V 73 w(4)p 1768 1223 V 149 w(6)p
1968 1223 V 71 1224 1899 2 v 70 1274 2 50 v 480 1274
V 649 1274 V 819 1274 V 1019 1274 V 1045 1259 a(Send)h(placeholder)p
1429 1274 V 123 w(Ev)o(ent)p 1599 1274 V 73 w(4)p 1768
1274 V 149 w(0)p 1968 1274 V 71 1276 1899 2 v 70 1376
2 100 v 480 1376 V 649 1376 V 819 1376 V 1019 1376 V
1045 1311 a(Send)24 b(e)o(v)o(ent)g(message)1045 1361
y(size)p 1429 1376 V 1455 1311 a(Ev)o(ent)p 1599 1376
V 73 w(4)p 1768 1376 V 149 w(Msize)p 1968 1376 V 71 1377
1899 2 v 70 1427 2 50 v 480 1427 V 649 1427 V 819 1427
V 1019 1427 V 1045 1412 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1427 V 79 w(Ev)o(ent)p 1599 1427 V 73 w(Msize)p
1768 1427 V 69 w(Message)p 1968 1427 V 71 1429 1899 2
v 952 2840 a Fo(17)p eop
%%Page: 18 18
18 17 bop 0 95 a Fk(5.7)50 b(Write)12 b(Node)0 183 y
Fo(The)f(write)g(node)g(operation)g(requests)f(that)h(HBS)h(update)f
(the)g(data)g(\256eld)h(of)f(the)h(supplied)d(node-ID)i(with)g(the)g
(supplied)0 239 y(data.)p 71 295 1899 2 v 70 345 2 50
v 917 330 a Fq(Write)f(Node)p 1968 345 V 71 347 1899
2 v 70 397 2 50 v 451 382 a Fp(ECS)h(Client)p 1019 397
V 1019 397 V 754 w(HBS)f(Serv)o(er)p 1968 397 V 71 398
1899 2 v 70 498 2 100 v 95 433 a(Action)p 480 498 V 296
w(Socket)p 649 498 V 57 w(Length)675 483 y(\(Bytes\))p
819 498 V 845 433 a(V)-5 b(alue)p 1019 498 V 106 w(Action)p
1429 498 V 296 w(Socket)p 1599 498 V 56 w(Length)1624
483 y(\(Bytes\))p 1768 498 V 1794 433 a(V)g(alue)p 1968
498 V 71 499 1899 2 v 70 549 2 50 v 95 534 a Fq(Request:)p
1019 549 V 1968 549 V 71 551 1899 2 v 70 651 2 100 v
95 586 a Fp(Send)10 b(Write)f(Node)g(Op-)95 636 y(eration)h(ID)p
480 651 V 505 586 a(Write)p 649 651 V 75 w(4)p 819 651
V 149 w(2)p 1019 651 V 1429 651 V 1599 651 V 1768 651
V 1968 651 V 71 652 1899 2 v 70 702 2 50 v 95 687 a(Send)h(Node-ID)p
480 702 V 168 w(Write)p 649 702 V 75 w(4)p 819 702 V
149 w(ID)p 1019 702 V 1429 702 V 1599 702 V 1768 702
V 1968 702 V 71 704 1899 2 v 70 754 2 50 v 95 739 a(Send)g(ke)o(y)f
(\(data)h(\256eld\))p 480 754 V 65 w(Write)p 649 754
V 75 w(4)p 819 754 V 149 w(517)p 1019 754 V 1429 754
V 1599 754 V 1768 754 V 1968 754 V 71 755 1899 2 v 70
805 2 50 v 95 790 a(Send)g(Data)g(Size)p 480 805 V 156
w(Write)p 649 805 V 75 w(4)p 819 805 V 149 w(Dsize)p
1019 805 V 1429 805 V 1599 805 V 1768 805 V 1968 805
V 71 807 1899 2 v 70 856 2 50 v 95 842 a(Send)g(Data)p
480 856 V 238 w(Write)p 649 856 V 75 w(DSize)p 819 856
V 69 w(Data)p 1019 856 V 1429 856 V 1599 856 V 1768 856
V 1968 856 V 71 858 1899 2 v 70 958 2 100 v 95 893 a(Send)25
b(e)o(v)o(ent)f(message)95 943 y(size)p 480 958 V 505
893 a(Write)p 649 958 V 75 w(4)p 819 958 V 149 w(Msize)p
1019 958 V 1429 958 V 1599 958 V 1768 958 V 1968 958
V 71 959 1899 2 v 70 1009 2 50 v 95 994 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 1009 V 78 w(Write)p 649 1009 V 75 w(Msize)p
819 1009 V 69 w(Message)p 1019 1009 V 1429 1009 V 1599
1009 V 1768 1009 V 1968 1009 V 71 1011 1899 2 v 70 1061
2 50 v 1019 1061 V 1045 1046 a Fq(Reply:)p 1968 1061
V 71 1062 1899 2 v 70 1112 2 50 v 480 1112 V 649 1112
V 819 1112 V 1019 1112 V 1045 1097 a Fp(Send)f(return)g(v)o(alue)p
1429 1112 V 118 w(Read)p 1599 1112 V 84 w(4)p 1768 1112
V 149 w(0)p 1968 1112 V 71 1114 1899 2 v 70 1164 2 50
v 1019 1164 V 1045 1149 a Fq(Event:)p 1968 1164 V 71
1165 1899 2 v 70 1265 2 100 v 480 1265 V 649 1265 V 819
1265 V 1019 1265 V 1045 1200 a Fp(Send)21 b(null-terminated)1045
1250 y(client)9 b(name)j(string)p 1429 1265 V 1455 1200
a(Ev)o(ent)p 1599 1265 V 73 w(?)p 1768 1265 V 152 w(Name)p
1968 1265 V 71 1267 1899 2 v 70 1316 2 50 v 480 1316
V 649 1316 V 819 1316 V 1019 1316 V 1045 1301 a(Send)e(node-ID)p
1429 1316 V 178 w(Ev)o(ent)p 1599 1316 V 73 w(4)p 1768
1316 V 149 w(node-ID)p 1968 1316 V 71 1318 1899 2 v 70
1368 2 50 v 480 1368 V 649 1368 V 819 1368 V 1019 1368
V 1045 1353 a(Send)g(operation)f(ID)p 1429 1368 V 106
w(Ev)o(ent)p 1599 1368 V 73 w(4)p 1768 1368 V 149 w(2)p
1968 1368 V 71 1370 1899 2 v 70 1419 2 50 v 480 1419
V 649 1419 V 819 1419 V 1019 1419 V 1045 1404 a(Send)h(ke)o(y)g(\(data)
h(\256eld\))p 1429 1419 V 66 w(Ev)o(ent)p 1599 1419 V
73 w(4)p 1768 1419 V 149 w(517)p 1968 1419 V 71 1421
1899 2 v 70 1521 2 100 v 480 1521 V 649 1521 V 819 1521
V 1019 1521 V 1045 1456 a(Send)24 b(e)o(v)o(ent)g(message)1045
1506 y(size)p 1429 1521 V 1455 1456 a(Ev)o(ent)p 1599
1521 V 73 w(4)p 1768 1521 V 149 w(Msize)p 1968 1521 V
71 1522 1899 2 v 70 1572 2 50 v 480 1572 V 649 1572 V
819 1572 V 1019 1572 V 1045 1557 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1572 V 79 w(Ev)o(ent)p 1599 1572 V 73 w(Msize)p
1768 1572 V 69 w(Message)p 1968 1572 V 71 1574 1899 2
v 952 2840 a Fo(18)p eop
%%Page: 19 19
19 18 bop 0 95 a Fk(5.8)50 b(Write)12 b(Node)g(and)g(Unlock)0
183 y Fo(The)h(write)f(node)g(and)g(unlock)g(operation)f(requests)h
(that)g(HBS)h(update)f(the)h(data)f(\256eld)h(of)g(the)f(supplied)f
(node-ID)h(with)0 239 y(the)f(supplied)e(data,)j(and)f(unlock)f(it.)p
71 305 1899 2 v 70 354 2 50 v 809 339 a Fq(Write)g(Node)h(and)f(Unlock)
p 1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a
Fp(ECS)h(Client)p 1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p
1968 406 V 71 407 1899 2 v 70 507 2 100 v 95 442 a(Action)p
480 507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492
y(\(Bytes\))p 819 507 V 845 442 a(V)-5 b(alue)p 1019
507 V 106 w(Action)p 1429 507 V 296 w(Socket)p 1599 507
V 56 w(Length)1624 492 y(\(Bytes\))p 1768 507 V 1794
442 a(V)g(alue)p 1968 507 V 71 509 1899 2 v 70 559 2
50 v 95 544 a Fq(Request:)p 1019 559 V 1968 559 V 71
560 1899 2 v 70 660 2 100 v 95 595 a Fp(Send)11 b(Write)g(Node)g(and)95
645 y(Unlock)f(Operation)f(ID)p 480 660 V 505 595 a(Write)p
649 660 V 75 w(4)p 819 660 V 149 w(34)p 1019 660 V 1429
660 V 1599 660 V 1768 660 V 1968 660 V 71 662 1899 2
v 70 711 2 50 v 95 696 a(Send)i(Node-ID)p 480 711 V 168
w(Write)p 649 711 V 75 w(4)p 819 711 V 149 w(node-ID)p
1019 711 V 1429 711 V 1599 711 V 1768 711 V 1968 711
V 71 713 1899 2 v 70 763 2 50 v 95 748 a(Send)g(ke)o(y)f(\(data)h
(\256eld\))p 480 763 V 65 w(Write)p 649 763 V 75 w(4)p
819 763 V 149 w(517)p 1019 763 V 1429 763 V 1599 763
V 1768 763 V 1968 763 V 71 764 1899 2 v 70 814 2 50 v
95 799 a(Send)g(Data)g(Size)p 480 814 V 156 w(Write)p
649 814 V 75 w(4)p 819 814 V 149 w(Dsize)p 1019 814 V
1429 814 V 1599 814 V 1768 814 V 1968 814 V 71 816 1899
2 v 70 866 2 50 v 95 851 a(Send)g(Data)p 480 866 V 238
w(Write)p 649 866 V 75 w(DSize)p 819 866 V 69 w(Data)p
1019 866 V 1429 866 V 1599 866 V 1768 866 V 1968 866
V 71 867 1899 2 v 70 967 2 100 v 95 902 a(Send)25 b(e)o(v)o(ent)f
(message)95 952 y(size)p 480 967 V 505 902 a(Write)p
649 967 V 75 w(4)p 819 967 V 149 w(Msize)p 1019 967 V
1429 967 V 1599 967 V 1768 967 V 1968 967 V 71 969 1899
2 v 70 1018 2 50 v 95 1004 a(Send)11 b(e)o(v)o(ent)g(message)p
480 1018 V 78 w(Write)p 649 1018 V 75 w(Msize)p 819 1018
V 69 w(Message)p 1019 1018 V 1429 1018 V 1599 1018 V
1768 1018 V 1968 1018 V 71 1020 1899 2 v 70 1070 2 50
v 1019 1070 V 1045 1055 a Fq(Reply:)p 1968 1070 V 71
1072 1899 2 v 70 1121 2 50 v 480 1121 V 649 1121 V 819
1121 V 1019 1121 V 1045 1107 a Fp(Send)f(return)g(v)o(alue)p
1429 1121 V 118 w(Read)p 1599 1121 V 84 w(4)p 1768 1121
V 149 w(0)g(or)g(352)p 1968 1121 V 71 1123 1899 2 v 70
1173 2 50 v 1019 1173 V 1045 1158 a Fq(Event:)p 1968
1173 V 71 1175 1899 2 v 70 1274 2 100 v 480 1274 V 649
1274 V 819 1274 V 1019 1274 V 1045 1209 a Fp(Send)21
b(null-terminated)1045 1259 y(client)9 b(name)j(string)p
1429 1274 V 1455 1209 a(Ev)o(ent)p 1599 1274 V 73 w(?)p
1768 1274 V 152 w(Name)p 1968 1274 V 71 1276 1899 2 v
70 1326 2 50 v 480 1326 V 649 1326 V 819 1326 V 1019
1326 V 1045 1311 a(Send)e(node-ID)p 1429 1326 V 178 w(Ev)o(ent)p
1599 1326 V 73 w(4)p 1768 1326 V 149 w(node-ID)p 1968
1326 V 71 1327 1899 2 v 70 1377 2 50 v 480 1377 V 649
1377 V 819 1377 V 1019 1377 V 1045 1362 a(Send)g(operation)f(ID)p
1429 1377 V 106 w(Ev)o(ent)p 1599 1377 V 73 w(4)p 1768
1377 V 149 w(34)p 1968 1377 V 71 1379 1899 2 v 70 1429
2 50 v 480 1429 V 649 1429 V 819 1429 V 1019 1429 V 1045
1414 a(Send)h(ke)o(y)g(\(data)h(\256eld\))p 1429 1429
V 66 w(Ev)o(ent)p 1599 1429 V 73 w(4)p 1768 1429 V 149
w(517)p 1968 1429 V 71 1430 1899 2 v 70 1530 2 100 v
480 1530 V 649 1530 V 819 1530 V 1019 1530 V 1045 1465
a(Send)24 b(e)o(v)o(ent)g(message)1045 1515 y(size)p
1429 1530 V 1455 1465 a(Ev)o(ent)p 1599 1530 V 73 w(4)p
1768 1530 V 149 w(Msize)p 1968 1530 V 71 1532 1899 2
v 70 1581 2 50 v 480 1581 V 649 1581 V 819 1581 V 1019
1581 V 1045 1566 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1581 V 79 w(Ev)o(ent)p 1599 1581 V 73 w(Msize)p
1768 1581 V 69 w(Message)p 1968 1581 V 71 1583 1899 2
v 71 1693 a Fo(Return)g(v)o(alues)f(of)h(either)g(0)g(\(success\))g(or)
g(352)g(\(node)g(is)f(unlocked\))g(indicate)g(success.)952
2840 y(19)p eop
%%Page: 20 20
20 19 bop 0 95 a Fk(5.9)50 b(Write)12 b(Node)g(Name)0
183 y Fo(The)h(write)g(node)g(name)h(operation)e(requests)h(that)g(HBS)
h(update)e(the)i(name)g(\256eld)f(of)g(the)g(supplied)f(node-ID)h(with)
f(the)0 239 y(supplied)d(name)j(string.)p 71 305 1899
2 v 70 354 2 50 v 860 339 a Fq(Write)e(Node)g(Name)p
1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)h(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 408 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)47 b(Write)f(Node)95 645 y(Name)12 b(Operation)d(ID)p
480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p 819 660
V 149 w(2)p 1019 660 V 1429 660 V 1599 660 V 1768 660
V 1968 660 V 71 662 1899 2 v 70 711 2 50 v 95 696 a(Send)i(Node-ID)p
480 711 V 168 w(Write)p 649 711 V 75 w(4)p 819 711 V
149 w(ID)p 1019 711 V 1429 711 V 1599 711 V 1768 711
V 1968 711 V 71 713 1899 2 v 70 763 2 50 v 95 748 a(Send)e(ke)o(y)g
(\(name)h(\256eld\))p 480 763 V 49 w(Write)p 649 763
V 75 w(4)p 819 763 V 149 w(7)p 1019 763 V 1429 763 V
1599 763 V 1768 763 V 1968 763 V 71 765 1899 2 v 70 814
2 50 v 95 799 a(Send)h(Name)g(Size)p 480 814 V 136 w(Write)p
649 814 V 75 w(4)p 819 814 V 149 w(Nsize)p 1019 814 V
1429 814 V 1599 814 V 1768 814 V 1968 814 V 71 816 1899
2 v 70 866 2 50 v 95 851 a(Send)g(Name)p 480 866 V 218
w(Write)p 649 866 V 75 w(NSize)p 819 866 V 69 w(Name)p
1019 866 V 1429 866 V 1599 866 V 1768 866 V 1968 866
V 71 867 1899 2 v 70 967 2 100 v 95 902 a(Send)25 b(e)o(v)o(ent)f
(message)95 952 y(size)p 480 967 V 505 902 a(Write)p
649 967 V 75 w(4)p 819 967 V 149 w(Msize)p 1019 967 V
1429 967 V 1599 967 V 1768 967 V 1968 967 V 71 969 1899
2 v 70 1019 2 50 v 95 1004 a(Send)11 b(e)o(v)o(ent)g(message)p
480 1019 V 78 w(Write)p 649 1019 V 75 w(Msize)p 819 1019
V 69 w(Message)p 1019 1019 V 1429 1019 V 1599 1019 V
1768 1019 V 1968 1019 V 71 1020 1899 2 v 70 1070 2 50
v 1019 1070 V 1045 1055 a Fq(Reply:)p 1968 1070 V 71
1072 1899 2 v 70 1122 2 50 v 480 1122 V 649 1122 V 819
1122 V 1019 1122 V 1045 1107 a Fp(Send)f(return)g(v)o(alue)p
1429 1122 V 118 w(Read)p 1599 1122 V 84 w(4)p 1768 1122
V 149 w(0)p 1968 1122 V 71 1123 1899 2 v 70 1173 2 50
v 1019 1173 V 1045 1158 a Fq(Event:)p 1968 1173 V 71
1175 1899 2 v 70 1274 2 100 v 480 1274 V 649 1274 V 819
1274 V 1019 1274 V 1045 1210 a Fp(Send)21 b(null-terminated)1045
1259 y(client)9 b(name)j(string)p 1429 1274 V 1455 1210
a(Ev)o(ent)p 1599 1274 V 73 w(?)p 1768 1274 V 152 w(Name)p
1968 1274 V 71 1276 1899 2 v 70 1326 2 50 v 480 1326
V 649 1326 V 819 1326 V 1019 1326 V 1045 1311 a(Send)e(node-ID)p
1429 1326 V 178 w(Ev)o(ent)p 1599 1326 V 73 w(4)p 1768
1326 V 149 w(node-ID)p 1968 1326 V 71 1327 1899 2 v 70
1377 2 50 v 480 1377 V 649 1377 V 819 1377 V 1019 1377
V 1045 1362 a(Send)g(operation)f(ID)p 1429 1377 V 106
w(Ev)o(ent)p 1599 1377 V 73 w(4)p 1768 1377 V 149 w(2)p
1968 1377 V 71 1379 1899 2 v 70 1429 2 50 v 480 1429
V 649 1429 V 819 1429 V 1019 1429 V 1045 1414 a(Send)g(ke)o(y)f(\(name)
i(\256eld\))p 1429 1429 V 50 w(Ev)o(ent)p 1599 1429 V
73 w(4)p 1768 1429 V 149 w(7)p 1968 1429 V 71 1430 1899
2 v 70 1530 2 100 v 480 1530 V 649 1530 V 819 1530 V
1019 1530 V 1045 1465 a(Send)24 b(e)o(v)o(ent)g(message)1045
1515 y(size)p 1429 1530 V 1455 1465 a(Ev)o(ent)p 1599
1530 V 73 w(4)p 1768 1530 V 149 w(Msize)p 1968 1530 V
71 1532 1899 2 v 70 1581 2 50 v 480 1581 V 649 1581 V
819 1581 V 1019 1581 V 1045 1567 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1581 V 79 w(Ev)o(ent)p 1599 1581 V 73 w(Msize)p
1768 1581 V 69 w(Message)p 1968 1581 V 71 1583 1899 2
v 952 2840 a Fo(20)p eop
%%Page: 21 21
21 20 bop 0 95 a Fk(5.10)50 b(Read)12 b(Node)g(Name)0
183 y Fo(The)f(read)h(node)e(name)i(operation)e(requests)h(that)f(HBS)i
(return)f(the)g(name)g(\256eld)h(of)f(the)g(supplied)e(node-ID.)p
71 248 1899 2 v 70 298 2 50 v 865 283 a Fq(Read)i(Node)g(Name)p
1968 298 V 71 300 1899 2 v 70 349 2 50 v 451 334 a Fp(ECS)g(Client)p
1019 349 V 1019 349 V 754 w(HBS)f(Serv)o(er)p 1968 349
V 71 351 1899 2 v 70 451 2 100 v 95 386 a(Action)p 480
451 V 296 w(Socket)p 649 451 V 57 w(Length)675 436 y(\(Bytes\))p
819 451 V 845 386 a(V)-5 b(alue)p 1019 451 V 106 w(Action)p
1429 451 V 296 w(Socket)p 1599 451 V 56 w(Length)1624
436 y(\(Bytes\))p 1768 451 V 1794 386 a(V)g(alue)p 1968
451 V 71 452 1899 2 v 70 502 2 50 v 95 487 a Fq(Request:)p
1019 502 V 1968 502 V 71 504 1899 2 v 70 603 2 100 v
95 539 a Fp(Send)51 b(Read)h(Node)95 588 y(Name)12 b(Operation)d(ID)p
480 603 V 505 539 a(Write)p 649 603 V 75 w(4)p 819 603
V 149 w(1)p 1019 603 V 1429 603 V 1599 603 V 1768 603
V 1968 603 V 71 605 1899 2 v 70 655 2 50 v 95 640 a(Send)i(Node-ID)p
480 655 V 168 w(Write)p 649 655 V 75 w(4)p 819 655 V
149 w(ID)p 1019 655 V 1429 655 V 1599 655 V 1768 655
V 1968 655 V 71 657 1899 2 v 70 706 2 50 v 95 691 a(Send)e(ke)o(y)g
(\(name)h(\256eld\))p 480 706 V 49 w(Write)p 649 706
V 75 w(4)p 819 706 V 149 w(7)p 1019 706 V 1429 706 V
1599 706 V 1768 706 V 1968 706 V 71 708 1899 2 v 70 808
2 100 v 95 743 a(Send)25 b(e)o(v)o(ent)f(message)95 793
y(size)p 480 808 V 505 743 a(Write)p 649 808 V 75 w(4)p
819 808 V 149 w(Msize)p 1019 808 V 1429 808 V 1599 808
V 1768 808 V 1968 808 V 71 809 1899 2 v 70 859 2 50 v
95 844 a(Send)11 b(e)o(v)o(ent)g(message)p 480 859 V
78 w(Write)p 649 859 V 75 w(Msize)p 819 859 V 69 w(Message)p
1019 859 V 1429 859 V 1599 859 V 1768 859 V 1968 859
V 71 861 1899 2 v 70 911 2 50 v 1019 911 V 1045 896 a
Fq(Reply:)p 1968 911 V 71 912 1899 2 v 70 962 2 50 v
480 962 V 649 962 V 819 962 V 1019 962 V 1045 947 a Fp(Send)f(return)g
(v)o(alue)p 1429 962 V 118 w(Read)p 1599 962 V 84 w(4)p
1768 962 V 149 w(0)p 1968 962 V 71 964 1899 2 v 70 1014
2 50 v 480 1014 V 649 1014 V 819 1014 V 1019 1014 V 1045
999 a(Send)g(name)h(size)p 1429 1014 V 153 w(Read)p 1599
1014 V 84 w(4)p 1768 1014 V 149 w(Nsize)p 1968 1014 V
71 1015 1899 2 v 70 1065 2 50 v 480 1065 V 649 1065 V
819 1065 V 1019 1065 V 1045 1050 a(Send)f(name)p 1429
1065 V 228 w(Read)p 1599 1065 V 84 w(Nsize)p 1768 1065
V 76 w(Name)p 1968 1065 V 71 1067 1899 2 v 70 1116 2
50 v 1019 1116 V 1045 1102 a Fq(Event:)p 1968 1116 V
71 1118 1899 2 v 70 1218 2 100 v 480 1218 V 649 1218
V 819 1218 V 1019 1218 V 1045 1153 a Fp(Send)21 b(null-terminated)1045
1203 y(client)9 b(name)j(string)p 1429 1218 V 1455 1153
a(Ev)o(ent)p 1599 1218 V 73 w(?)p 1768 1218 V 152 w(Name)p
1968 1218 V 71 1219 1899 2 v 70 1269 2 50 v 480 1269
V 649 1269 V 819 1269 V 1019 1269 V 1045 1254 a(Send)e(node-ID)p
1429 1269 V 178 w(Ev)o(ent)p 1599 1269 V 73 w(4)p 1768
1269 V 149 w(node-ID)p 1968 1269 V 71 1271 1899 2 v 70
1321 2 50 v 480 1321 V 649 1321 V 819 1321 V 1019 1321
V 1045 1306 a(Send)g(operation)f(ID)p 1429 1321 V 106
w(Ev)o(ent)p 1599 1321 V 73 w(4)p 1768 1321 V 149 w(1)p
1968 1321 V 71 1322 1899 2 v 70 1372 2 50 v 480 1372
V 649 1372 V 819 1372 V 1019 1372 V 1045 1357 a(Send)g(ke)o(y)f(\(name)
i(\256eld\))p 1429 1372 V 50 w(Ev)o(ent)p 1599 1372 V
73 w(4)p 1768 1372 V 149 w(7)p 1968 1372 V 71 1374 1899
2 v 70 1473 2 100 v 480 1473 V 649 1473 V 819 1473 V
1019 1473 V 1045 1409 a(Send)24 b(e)o(v)o(ent)g(message)1045
1459 y(size)p 1429 1473 V 1455 1409 a(Ev)o(ent)p 1599
1473 V 73 w(4)p 1768 1473 V 149 w(Msize)p 1968 1473 V
71 1475 1899 2 v 70 1525 2 50 v 480 1525 V 649 1525 V
819 1525 V 1019 1525 V 1045 1510 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1525 V 79 w(Ev)o(ent)p 1599 1525 V 73 w(Msize)p
1768 1525 V 69 w(Message)p 1968 1525 V 71 1527 1899 2
v 952 2840 a Fo(21)p eop
%%Page: 22 22
22 21 bop 0 95 a Fk(5.11)50 b(A)o(ppend)11 b(Node)h(Data)0
183 y Fo(The)i(append)g(node)f(data)h(operation)f(requests)h(that)f
(HBS)i(append)e(the)h(supplied)f(data)h(to)f(the)h(node)g(indicated)f
(by)g(the)0 239 y(supplied)c(node-ID.)p 71 305 1899 2
v 70 354 2 50 v 851 339 a Fq(A)o(ppend)i(Node)g(Data)p
1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)g(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 407 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)28 b(Append)g(Node)95 645 y(Data)11
b(Operation)f(ID)p 480 660 V 505 595 a(Write)p 649 660
V 75 w(4)p 819 660 V 149 w(21)p 1019 660 V 1429 660 V
1599 660 V 1768 660 V 1968 660 V 71 662 1899 2 v 70 711
2 50 v 95 696 a(Send)h(Node-ID)p 480 711 V 168 w(Write)p
649 711 V 75 w(4)p 819 711 V 149 w(ID)p 1019 711 V 1429
711 V 1599 711 V 1768 711 V 1968 711 V 71 713 1899 2
v 70 763 2 50 v 95 748 a(Send)g(ke)o(y)f(\(data)h(\256eld\))p
480 763 V 65 w(Write)p 649 763 V 75 w(4)p 819 763 V 149
w(517)p 1019 763 V 1429 763 V 1599 763 V 1768 763 V 1968
763 V 71 764 1899 2 v 70 814 2 50 v 95 799 a(Send)g(Data)g(Size)p
480 814 V 156 w(Write)p 649 814 V 75 w(4)p 819 814 V
149 w(Dsize)p 1019 814 V 1429 814 V 1599 814 V 1768 814
V 1968 814 V 71 816 1899 2 v 70 866 2 50 v 95 851 a(Send)g(Data)p
480 866 V 238 w(Write)p 649 866 V 75 w(DSize)p 819 866
V 69 w(Data)p 1019 866 V 1429 866 V 1599 866 V 1768 866
V 1968 866 V 71 867 1899 2 v 70 967 2 100 v 95 902 a(Send)25
b(e)o(v)o(ent)f(message)95 952 y(size)p 480 967 V 505
902 a(Write)p 649 967 V 75 w(4)p 819 967 V 149 w(Msize)p
1019 967 V 1429 967 V 1599 967 V 1768 967 V 1968 967
V 71 969 1899 2 v 70 1018 2 50 v 95 1004 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 1018 V 78 w(Write)p 649 1018 V 75 w(Msize)p
819 1018 V 69 w(Message)p 1019 1018 V 1429 1018 V 1599
1018 V 1768 1018 V 1968 1018 V 71 1020 1899 2 v 70 1070
2 50 v 1019 1070 V 1045 1055 a Fq(Reply:)p 1968 1070
V 71 1072 1899 2 v 70 1121 2 50 v 480 1121 V 649 1121
V 819 1121 V 1019 1121 V 1045 1107 a Fp(Send)f(return)g(v)o(alue)p
1429 1121 V 118 w(Read)p 1599 1121 V 84 w(4)p 1768 1121
V 149 w(0)p 1968 1121 V 71 1123 1899 2 v 70 1173 2 50
v 1019 1173 V 1045 1158 a Fq(Event:)p 1968 1173 V 71
1175 1899 2 v 70 1274 2 100 v 480 1274 V 649 1274 V 819
1274 V 1019 1274 V 1045 1209 a Fp(Send)21 b(null-terminated)1045
1259 y(client)9 b(name)j(string)p 1429 1274 V 1455 1209
a(Ev)o(ent)p 1599 1274 V 73 w(?)p 1768 1274 V 152 w(Name)p
1968 1274 V 71 1276 1899 2 v 70 1326 2 50 v 480 1326
V 649 1326 V 819 1326 V 1019 1326 V 1045 1311 a(Send)e(node-ID)p
1429 1326 V 178 w(Ev)o(ent)p 1599 1326 V 73 w(4)p 1768
1326 V 149 w(node-ID)p 1968 1326 V 71 1327 1899 2 v 70
1377 2 50 v 480 1377 V 649 1377 V 819 1377 V 1019 1377
V 1045 1362 a(Send)g(operation)f(ID)p 1429 1377 V 106
w(Ev)o(ent)p 1599 1377 V 73 w(4)p 1768 1377 V 149 w(2)p
1968 1377 V 71 1379 1899 2 v 70 1429 2 50 v 480 1429
V 649 1429 V 819 1429 V 1019 1429 V 1045 1414 a(Send)g(ke)o(y)f(\(name)
i(\256eld\))p 1429 1429 V 50 w(Ev)o(ent)p 1599 1429 V
73 w(4)p 1768 1429 V 149 w(7)p 1968 1429 V 71 1430 1899
2 v 70 1530 2 100 v 480 1530 V 649 1530 V 819 1530 V
1019 1530 V 1045 1465 a(Send)24 b(e)o(v)o(ent)g(message)1045
1515 y(size)p 1429 1530 V 1455 1465 a(Ev)o(ent)p 1599
1530 V 73 w(4)p 1768 1530 V 149 w(Msize)p 1968 1530 V
71 1532 1899 2 v 70 1581 2 50 v 480 1581 V 649 1581 V
819 1581 V 1019 1581 V 1045 1566 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1581 V 79 w(Ev)o(ent)p 1599 1581 V 73 w(Msize)p
1768 1581 V 69 w(Message)p 1968 1581 V 71 1583 1899 2
v 952 2840 a Fo(22)p eop
%%Page: 23 23
23 22 bop 0 95 a Fk(5.12)50 b(Lock)12 b(Node)0 183 y
Fo(The)f(lock)g(node)f(name)i(operation)e(requests)h(that)f(HBS)i(lock)
f(the)f(data)i(\256eld)f(of)g(the)g(supplied)e(node-ID.)p
71 248 1899 2 v 70 298 2 50 v 924 283 a Fq(Lock)h(Node)p
1968 298 V 71 300 1899 2 v 70 349 2 50 v 451 334 a Fp(ECS)h(Client)p
1019 349 V 1019 349 V 754 w(HBS)f(Serv)o(er)p 1968 349
V 71 351 1899 2 v 70 451 2 100 v 95 386 a(Action)p 480
451 V 296 w(Socket)p 649 451 V 57 w(Length)675 436 y(\(Bytes\))p
819 451 V 845 386 a(V)-5 b(alue)p 1019 451 V 106 w(Action)p
1429 451 V 296 w(Socket)p 1599 451 V 56 w(Length)1624
436 y(\(Bytes\))p 1768 451 V 1794 386 a(V)g(alue)p 1968
451 V 71 452 1899 2 v 70 502 2 50 v 95 487 a Fq(Request:)p
1019 502 V 1968 502 V 71 504 1899 2 v 70 603 2 100 v
95 539 a Fp(Send)13 b(Lock)g(Node)f(Op-)95 588 y(eration)e(ID)p
480 603 V 505 539 a(Write)p 649 603 V 75 w(4)p 819 603
V 149 w(13)p 1019 603 V 1429 603 V 1599 603 V 1768 603
V 1968 603 V 71 605 1899 2 v 70 655 2 50 v 95 640 a(Send)h(Node-ID)p
480 655 V 168 w(Write)p 649 655 V 75 w(4)p 819 655 V
149 w(ID)p 1019 655 V 1429 655 V 1599 655 V 1768 655
V 1968 655 V 71 657 1899 2 v 70 706 2 50 v 95 691 a(Send)g(ke)o(y)f
(\(data)h(\256eld\))p 480 706 V 65 w(Write)p 649 706
V 75 w(4)p 819 706 V 149 w(517)p 1019 706 V 1429 706
V 1599 706 V 1768 706 V 1968 706 V 71 708 1899 2 v 70
808 2 100 v 95 743 a(Send)25 b(e)o(v)o(ent)f(message)95
793 y(size)p 480 808 V 505 743 a(Write)p 649 808 V 75
w(4)p 819 808 V 149 w(Msize)p 1019 808 V 1429 808 V 1599
808 V 1768 808 V 1968 808 V 71 809 1899 2 v 70 859 2
50 v 95 844 a(Send)11 b(e)o(v)o(ent)g(message)p 480 859
V 78 w(Write)p 649 859 V 75 w(Msize)p 819 859 V 69 w(Message)p
1019 859 V 1429 859 V 1599 859 V 1768 859 V 1968 859
V 71 861 1899 2 v 70 911 2 50 v 1019 911 V 1045 896 a
Fq(Reply:)p 1968 911 V 71 912 1899 2 v 70 962 2 50 v
480 962 V 649 962 V 819 962 V 1019 962 V 1045 947 a Fp(Send)f(return)g
(v)o(alue)p 1429 962 V 118 w(Read)p 1599 962 V 84 w(4)p
1768 962 V 149 w(0)p 1968 962 V 71 964 1899 2 v 70 1014
2 50 v 1019 1014 V 1045 999 a Fq(Event:)p 1968 1014 V
71 1015 1899 2 v 70 1115 2 100 v 480 1115 V 649 1115
V 819 1115 V 1019 1115 V 1045 1050 a Fp(Send)21 b(null-terminated)1045
1100 y(client)9 b(name)j(string)p 1429 1115 V 1455 1050
a(Ev)o(ent)p 1599 1115 V 73 w(?)p 1768 1115 V 152 w(Name)p
1968 1115 V 71 1116 1899 2 v 70 1166 2 50 v 480 1166
V 649 1166 V 819 1166 V 1019 1166 V 1045 1151 a(Send)e(node-ID)p
1429 1166 V 178 w(Ev)o(ent)p 1599 1166 V 73 w(4)p 1768
1166 V 149 w(node-ID)p 1968 1166 V 71 1168 1899 2 v 70
1218 2 50 v 480 1218 V 649 1218 V 819 1218 V 1019 1218
V 1045 1203 a(Send)g(operation)f(ID)p 1429 1218 V 106
w(Ev)o(ent)p 1599 1218 V 73 w(4)p 1768 1218 V 149 w(13)p
1968 1218 V 71 1219 1899 2 v 70 1269 2 50 v 480 1269
V 649 1269 V 819 1269 V 1019 1269 V 1045 1254 a(Send)h(ke)o(y)g(\(data)
h(\256eld\))p 1429 1269 V 66 w(Ev)o(ent)p 1599 1269 V
73 w(4)p 1768 1269 V 149 w(517)p 1968 1269 V 71 1271
1899 2 v 70 1371 2 100 v 480 1371 V 649 1371 V 819 1371
V 1019 1371 V 1045 1306 a(Send)24 b(e)o(v)o(ent)g(message)1045
1356 y(size)p 1429 1371 V 1455 1306 a(Ev)o(ent)p 1599
1371 V 73 w(4)p 1768 1371 V 149 w(Msize)p 1968 1371 V
71 1372 1899 2 v 70 1422 2 50 v 480 1422 V 649 1422 V
819 1422 V 1019 1422 V 1045 1407 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1422 V 79 w(Ev)o(ent)p 1599 1422 V 73 w(Msize)p
1768 1422 V 69 w(Message)p 1968 1422 V 71 1424 1899 2
v 952 2840 a Fo(23)p eop
%%Page: 24 24
24 23 bop 0 95 a Fk(5.13)50 b(Show)11 b(Lock)0 183 y
Fo(The)f(sho)o(w)f(lock)h(operation)f(requests)g(that)h(HBS)g(return)g
(the)g(client)g(name)g(who)g(is)g(locking)e(the)i(node)g(with)f(the)h
(supplied)0 239 y(node-ID.)h(If)h(no)f(client)f(is)h(locking)e
(node-ID,)j(then)e(a)i(message)f(string)f(is)h(returned)g(instead)f(of)
h(a)g(client)g(name.)p 71 305 1899 2 v 70 354 2 50 v
921 339 a Fq(Show)f(Lock)p 1968 354 V 71 356 1899 2 v
70 406 2 50 v 451 391 a Fp(ECS)h(Client)p 1019 406 V
1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406 V 71 408
1899 2 v 70 507 2 100 v 95 442 a(Action)p 480 507 V 296
w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)12 b(Sho)o(w)e(Lock)i(Op-)95 645 y(eration)e(ID)p
480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p 819 660
V 149 w(15)p 1019 660 V 1429 660 V 1599 660 V 1768 660
V 1968 660 V 71 662 1899 2 v 70 711 2 50 v 95 696 a(Send)h(Node-ID)p
480 711 V 168 w(Write)p 649 711 V 75 w(4)p 819 711 V
149 w(node-ID)p 1019 711 V 1429 711 V 1599 711 V 1768
711 V 1968 711 V 71 713 1899 2 v 70 763 2 50 v 95 748
a(Send)g(ke)o(y)f(\(data)h(\256eld\))p 480 763 V 65 w(Write)p
649 763 V 75 w(4)p 819 763 V 149 w(517)p 1019 763 V 1429
763 V 1599 763 V 1768 763 V 1968 763 V 71 765 1899 2
v 70 864 2 100 v 95 799 a(Send)25 b(e)o(v)o(ent)f(message)95
849 y(size)p 480 864 V 505 799 a(Write)p 649 864 V 75
w(4)p 819 864 V 149 w(Msize)p 1019 864 V 1429 864 V 1599
864 V 1768 864 V 1968 864 V 71 866 1899 2 v 70 916 2
50 v 95 901 a(Send)11 b(e)o(v)o(ent)g(message)p 480 916
V 78 w(Write)p 649 916 V 75 w(Msize)p 819 916 V 69 w(Message)p
1019 916 V 1429 916 V 1599 916 V 1768 916 V 1968 916
V 71 917 1899 2 v 70 967 2 50 v 1019 967 V 1045 952 a
Fq(Reply)f(when)h(locked:)p 1968 967 V 71 969 1899 2
v 70 1019 2 50 v 480 1019 V 649 1019 V 819 1019 V 1019
1019 V 1045 1004 a Fp(Send)f(return)g(v)o(alue)p 1429
1019 V 118 w(Read)p 1599 1019 V 84 w(4)p 1768 1019 V
149 w(0)p 1968 1019 V 71 1020 1899 2 v 70 1070 2 50 v
480 1070 V 649 1070 V 819 1070 V 1019 1070 V 1045 1055
a(Send)g(client)f(name)i(size)p 1429 1070 V 51 w(Read)p
1599 1070 V 84 w(4)p 1768 1070 V 149 w(Nsize)p 1968 1070
V 71 1072 1899 2 v 70 1122 2 50 v 480 1122 V 649 1122
V 819 1122 V 1019 1122 V 1045 1107 a(Send)f(client)g(name)p
1429 1122 V 125 w(Read)p 1599 1122 V 84 w(Nsize)p 1768
1122 V 76 w(Name)p 1968 1122 V 71 1123 1899 2 v 70 1173
2 50 v 1019 1173 V 1045 1158 a Fq(Reply)g(when)h(unlocked:)p
1968 1173 V 71 1175 1899 2 v 70 1224 2 50 v 480 1224
V 649 1224 V 819 1224 V 1019 1224 V 1045 1210 a Fp(Send)f(return)g(v)o
(alue)p 1429 1224 V 118 w(Read)p 1599 1224 V 84 w(4)p
1768 1224 V 149 w(352)p 1968 1224 V 71 1226 1899 2 v
70 1326 2 100 v 480 1326 V 649 1326 V 819 1326 V 1019
1326 V 1045 1261 a(Send)28 b(error)f(message)1045 1311
y(size)p 1429 1326 V 1455 1261 a(Read)p 1599 1326 V 84
w(4)p 1768 1326 V 149 w(ESize)p 1968 1326 V 71 1327 1899
2 v 70 1427 2 100 v 480 1427 V 649 1427 V 819 1427 V
1019 1427 V 1045 1362 a(Send)10 b(error)g(message)p 1429
1427 V 87 w(Read)p 1599 1427 V 84 w(Esize)p 1768 1427
V 81 w(Error)1794 1412 y(message)p 1968 1427 V 71 1429
1899 2 v 70 1479 2 50 v 1019 1479 V 1045 1464 a Fq(Event:)p
1968 1479 V 71 1480 1899 2 v 70 1580 2 100 v 480 1580
V 649 1580 V 819 1580 V 1019 1580 V 1045 1515 a Fp(Send)21
b(null-terminated)1045 1565 y(client)9 b(name)j(string)p
1429 1580 V 1455 1515 a(Ev)o(ent)p 1599 1580 V 73 w(?)p
1768 1580 V 152 w(Name)p 1968 1580 V 71 1581 1899 2 v
70 1631 2 50 v 480 1631 V 649 1631 V 819 1631 V 1019
1631 V 1045 1616 a(Send)e(node-ID)p 1429 1631 V 178 w(Ev)o(ent)p
1599 1631 V 73 w(4)p 1768 1631 V 149 w(node-ID)p 1968
1631 V 71 1633 1899 2 v 70 1683 2 50 v 480 1683 V 649
1683 V 819 1683 V 1019 1683 V 1045 1668 a(Send)g(operation)f(ID)p
1429 1683 V 106 w(Ev)o(ent)p 1599 1683 V 73 w(4)p 1768
1683 V 149 w(15)p 1968 1683 V 71 1684 1899 2 v 70 1734
2 50 v 480 1734 V 649 1734 V 819 1734 V 1019 1734 V 1045
1719 a(Send)h(ke)o(y)g(\(data)h(\256eld\))p 1429 1734
V 66 w(Ev)o(ent)p 1599 1734 V 73 w(4)p 1768 1734 V 149
w(517)p 1968 1734 V 71 1736 1899 2 v 70 1836 2 100 v
480 1836 V 649 1836 V 819 1836 V 1019 1836 V 1045 1771
a(Send)24 b(e)o(v)o(ent)g(message)1045 1821 y(size)p
1429 1836 V 1455 1771 a(Ev)o(ent)p 1599 1836 V 73 w(4)p
1768 1836 V 149 w(Msize)p 1968 1836 V 71 1837 1899 2
v 70 1887 2 50 v 480 1887 V 649 1887 V 819 1887 V 1019
1887 V 1045 1872 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1887 V 79 w(Ev)o(ent)p 1599 1887 V 73 w(Msize)p
1768 1887 V 69 w(Message)p 1968 1887 V 71 1889 1899 2
v 71 1999 a Fo(This)f(is)g(the)h(only)g(place)g(where)g(a)h(client)e
(name)i(size)f(is)g(sent)f(before)i(the)f(client)f(name.)952
2840 y(24)p eop
%%Page: 25 25
25 24 bop 0 95 a Fk(5.14)50 b(Unlock)12 b(Node)0 183
y Fo(The)f(unlock)f(node)h(operation)f(requests)g(that)h(HBS)h(unlock)e
(the)h(node)f(with)g(the)h(supplied)f(node-ID.)p 71 248
1899 2 v 70 298 2 50 v 905 283 a Fq(Unlock)g(Node)p 1968
298 V 71 300 1899 2 v 70 349 2 50 v 451 334 a Fp(ECS)h(Client)p
1019 349 V 1019 349 V 754 w(HBS)f(Serv)o(er)p 1968 349
V 71 351 1899 2 v 70 451 2 100 v 95 386 a(Action)p 480
451 V 296 w(Socket)p 649 451 V 57 w(Length)675 436 y(\(Bytes\))p
819 451 V 845 386 a(V)-5 b(alue)p 1019 451 V 106 w(Action)p
1429 451 V 296 w(Socket)p 1599 451 V 56 w(Length)1624
436 y(\(Bytes\))p 1768 451 V 1794 386 a(V)g(alue)p 1968
451 V 71 452 1899 2 v 70 502 2 50 v 95 487 a Fq(Request:)p
1019 502 V 1968 502 V 71 504 1899 2 v 70 603 2 100 v
95 539 a Fp(Send)33 b(Unlock)f(Node)95 588 y(Operation)10
b(ID)p 480 603 V 505 539 a(Write)p 649 603 V 75 w(4)p
819 603 V 149 w(14)p 1019 603 V 1429 603 V 1599 603 V
1768 603 V 1968 603 V 71 605 1899 2 v 70 655 2 50 v 95
640 a(Send)h(Node-ID)p 480 655 V 168 w(Write)p 649 655
V 75 w(4)p 819 655 V 149 w(node-ID)p 1019 655 V 1429
655 V 1599 655 V 1768 655 V 1968 655 V 71 657 1899 2
v 70 706 2 50 v 95 691 a(Send)g(ke)o(y)f(\(data)h(\256eld\))p
480 706 V 65 w(Write)p 649 706 V 75 w(4)p 819 706 V 149
w(517)p 1019 706 V 1429 706 V 1599 706 V 1768 706 V 1968
706 V 71 708 1899 2 v 70 808 2 100 v 95 743 a(Send)25
b(e)o(v)o(ent)f(message)95 793 y(size)p 480 808 V 505
743 a(Write)p 649 808 V 75 w(4)p 819 808 V 149 w(Msize)p
1019 808 V 1429 808 V 1599 808 V 1768 808 V 1968 808
V 71 809 1899 2 v 70 859 2 50 v 95 844 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 859 V 78 w(Write)p 649 859 V 75 w(Msize)p
819 859 V 69 w(Message)p 1019 859 V 1429 859 V 1599 859
V 1768 859 V 1968 859 V 71 861 1899 2 v 70 911 2 50 v
1019 911 V 1045 896 a Fq(Reply:)p 1968 911 V 71 912 1899
2 v 70 962 2 50 v 480 962 V 649 962 V 819 962 V 1019
962 V 1045 947 a Fp(Send)f(return)g(v)o(alue)p 1429 962
V 118 w(Read)p 1599 962 V 84 w(4)p 1768 962 V 149 w(0)p
1968 962 V 71 964 1899 2 v 70 1014 2 50 v 1019 1014 V
1045 999 a Fq(Event:)p 1968 1014 V 71 1015 1899 2 v 70
1115 2 100 v 480 1115 V 649 1115 V 819 1115 V 1019 1115
V 1045 1050 a Fp(Send)21 b(null-terminated)1045 1100
y(client)9 b(name)j(string)p 1429 1115 V 1455 1050 a(Ev)o(ent)p
1599 1115 V 73 w(?)p 1768 1115 V 152 w(Name)p 1968 1115
V 71 1116 1899 2 v 70 1166 2 50 v 480 1166 V 649 1166
V 819 1166 V 1019 1166 V 1045 1151 a(Send)e(node-ID)p
1429 1166 V 178 w(Ev)o(ent)p 1599 1166 V 73 w(4)p 1768
1166 V 149 w(node-ID)p 1968 1166 V 71 1168 1899 2 v 70
1218 2 50 v 480 1218 V 649 1218 V 819 1218 V 1019 1218
V 1045 1203 a(Send)g(operation)f(ID)p 1429 1218 V 106
w(Ev)o(ent)p 1599 1218 V 73 w(4)p 1768 1218 V 149 w(14)p
1968 1218 V 71 1219 1899 2 v 70 1269 2 50 v 480 1269
V 649 1269 V 819 1269 V 1019 1269 V 1045 1254 a(Send)h(ke)o(y)g(\(data)
h(\256eld\))p 1429 1269 V 66 w(Ev)o(ent)p 1599 1269 V
73 w(4)p 1768 1269 V 149 w(517)p 1968 1269 V 71 1271
1899 2 v 70 1371 2 100 v 480 1371 V 649 1371 V 819 1371
V 1019 1371 V 1045 1306 a(Send)24 b(e)o(v)o(ent)g(message)1045
1356 y(size)p 1429 1371 V 1455 1306 a(Ev)o(ent)p 1599
1371 V 73 w(4)p 1768 1371 V 149 w(Msize)p 1968 1371 V
71 1372 1899 2 v 70 1422 2 50 v 480 1422 V 649 1422 V
819 1422 V 1019 1422 V 1045 1407 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1422 V 79 w(Ev)o(ent)p 1599 1422 V 73 w(Msize)p
1768 1422 V 69 w(Message)p 1968 1422 V 71 1424 1899 2
v 71 1534 a Fo(Return)g(v)o(alues)f(of)h(either)g(0)g(\(success\))g(or)
g(352)g(\(node)g(is)f(unlocked\))g(indicate)g(success.)952
2840 y(25)p eop
%%Page: 26 26
26 25 bop 0 95 a Fk(5.15)50 b(Br)o(oadcast)12 b(Message)0
183 y Fo(The)d(broadcast)g(message)h(operation)e(requests)h(that)f(HBS)
j(send)d(an)i(e)o(v)o(ent)f(on)g(the)h(supplied)d(node-ID)i(with)g(the)
g(supplied)0 239 y(e)o(v)o(ent)i(message.)17 b(No)11
b(change)g(in)f(state)h(occurs)g(to)g(the)g(the)g(database.)p
71 305 1899 2 v 70 354 2 50 v 850 339 a Fq(Br)o(oadcast)g(Message)p
1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)g(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 408 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)13 b(Broadcast)g(Mes-)95 645 y(sage)f(Operation)d(ID)p
480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p 819 660
V 149 w(26)p 1019 660 V 1429 660 V 1599 660 V 1768 660
V 1968 660 V 71 662 1899 2 v 70 711 2 50 v 95 696 a(Send)i(Node-ID)p
480 711 V 168 w(Write)p 649 711 V 75 w(4)p 819 711 V
149 w(ID)p 1019 711 V 1429 711 V 1599 711 V 1768 711
V 1968 711 V 71 713 1899 2 v 70 763 2 50 v 95 748 a(Send)g(ke)o(y)f
(\(data)h(\256eld\))p 480 763 V 65 w(Write)p 649 763
V 75 w(4)p 819 763 V 149 w(517)p 1019 763 V 1429 763
V 1599 763 V 1768 763 V 1968 763 V 71 765 1899 2 v 70
864 2 100 v 95 799 a(Send)25 b(e)o(v)o(ent)f(message)95
849 y(size)p 480 864 V 505 799 a(Write)p 649 864 V 75
w(4)p 819 864 V 149 w(Msize)p 1019 864 V 1429 864 V 1599
864 V 1768 864 V 1968 864 V 71 866 1899 2 v 70 916 2
50 v 95 901 a(Send)11 b(e)o(v)o(ent)g(message)p 480 916
V 78 w(Write)p 649 916 V 75 w(Msize)p 819 916 V 69 w(Message)p
1019 916 V 1429 916 V 1599 916 V 1768 916 V 1968 916
V 71 917 1899 2 v 70 967 2 50 v 1019 967 V 1045 952 a
Fq(Reply:)p 1968 967 V 71 969 1899 2 v 70 1019 2 50 v
480 1019 V 649 1019 V 819 1019 V 1019 1019 V 1045 1004
a Fp(Send)f(return)g(v)o(alue)p 1429 1019 V 118 w(Read)p
1599 1019 V 84 w(4)p 1768 1019 V 149 w(0)p 1968 1019
V 71 1020 1899 2 v 70 1070 2 50 v 1019 1070 V 1045 1055
a Fq(Event:)p 1968 1070 V 71 1072 1899 2 v 70 1171 2
100 v 480 1171 V 649 1171 V 819 1171 V 1019 1171 V 1045
1107 a Fp(Send)21 b(null-terminated)1045 1156 y(client)9
b(name)j(string)p 1429 1171 V 1455 1107 a(Ev)o(ent)p
1599 1171 V 73 w(?)p 1768 1171 V 152 w(Name)p 1968 1171
V 71 1173 1899 2 v 70 1223 2 50 v 480 1223 V 649 1223
V 819 1223 V 1019 1223 V 1045 1208 a(Send)e(node-ID)p
1429 1223 V 178 w(Ev)o(ent)p 1599 1223 V 73 w(4)p 1768
1223 V 149 w(node-ID)p 1968 1223 V 71 1224 1899 2 v 70
1274 2 50 v 480 1274 V 649 1274 V 819 1274 V 1019 1274
V 1045 1259 a(Send)g(operation)f(ID)p 1429 1274 V 106
w(Ev)o(ent)p 1599 1274 V 73 w(4)p 1768 1274 V 149 w(26)p
1968 1274 V 71 1276 1899 2 v 70 1326 2 50 v 480 1326
V 649 1326 V 819 1326 V 1019 1326 V 1045 1311 a(Send)h(ke)o(y)g(\(data)
h(\256eld\))p 1429 1326 V 66 w(Ev)o(ent)p 1599 1326 V
73 w(4)p 1768 1326 V 149 w(517)p 1968 1326 V 71 1327
1899 2 v 70 1427 2 100 v 480 1427 V 649 1427 V 819 1427
V 1019 1427 V 1045 1362 a(Send)24 b(e)o(v)o(ent)g(message)1045
1412 y(size)p 1429 1427 V 1455 1362 a(Ev)o(ent)p 1599
1427 V 73 w(4)p 1768 1427 V 149 w(Msize)p 1968 1427 V
71 1429 1899 2 v 70 1479 2 50 v 480 1479 V 649 1479 V
819 1479 V 1019 1479 V 1045 1464 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1479 V 79 w(Ev)o(ent)p 1599 1479 V 73 w(Msize)p
1768 1479 V 69 w(Message)p 1968 1479 V 71 1480 1899 2
v 952 2840 a Fo(26)p eop
%%Page: 27 27
27 26 bop 0 95 a Fk(5.16)50 b(Client)12 b(Message)0 183
y Fo(The)i(client)e(message)i(operation)f(\(with)g(operation)f(ID)i
(37\))f(pro)o(vides)g(point-to-point)d(communication)j(between)g(two)0
239 y(clients)e(via)g(the)h(HBS)g(e)o(v)o(ent)g(facility)m(.)17
b(The)12 b(implementation)e(of)i(this)f(mechanism)h(is)f(a)h(little)f
(unusual,)g(and)g(so)h(bears)g(a)0 296 y(bit)e(of)i(e)o(xplanation.)71
352 y(Assume)d(that)g(client)g(A)g(wants)g(to)g(send)g(a)h(message)g
(to)f(client)g(B.)i(T)l(o)e(do)h(this,)f(client)g(A)g(in)n(v)o(okes)f
(the)i(client-message)0 408 y(operation)h(and)h(passes)g(client)g(B')m
(s)h(name)g(as)f(the)g(recipient,)g(along)g(with)f(a)i(set)f(of)g
(message)h(forms)f(for)h(client)e(B.)j(HBS)0 465 y(then)f(generates)g
(a)g(\252special\272)g(e)o(v)o(ent)g(\(with)g(operation)f(ID)h(38\))g
(that)g(is)g(sent)f Fi(only)h Fo(to)g(client)f(B.)i(As)f(long)f(as)i
(client)e(B)i(is)0 521 y(subscribed)d(to)i(e)o(v)o(ents)f(with)g
(operation)g(ID)h(38)f(\(which)h(is)f(the)h(default)f(in)g(ECS\),)i
(then)e(the)h(message)g(forms)g(pro)o(vided)0 578 y(for)e(client)g(B)g
(by)g(client)g(A)g(will)f(be)h(in)n(v)o(oked)f(by)h(client)f(B.)71
634 y(So)15 b(far)n(,)h(so)e(good.)27 b(Ho)o(we)o(v)o(er)n(,)16
b(since)e(client)g(message)h(is)g(an)g(HBS)g(operation,)g(it)f(should)f
(also)h(ha)o(v)o(e)i(a)f(\252normal\272)0 691 y(e)o(v)o(ent)d
(associated)g(with)g(it)g(\(i.e.)21 b(with)12 b(operation)f(ID)i(37\).)
20 b(And,)13 b(this)f(normal)g(e)o(v)o(ent)h(should)e(support)g(a)i
(normal)f(e)o(v)o(ent)0 747 y(message,)i(just)e(like)g(an)o(y)h(other)g
(operations.)21 b(T)l(o)13 b(satisfy)f(this)g(requirement,)i(the)f
(client)f(message)i(operation)e(protocol)0 804 y(thus)i(requires)g
Fi(two)g Fo(e)o(v)o(ent)g(messages)h(to)f(be)h(pro)o(vided)e(by)i(the)f
(requesting)f(client:)22 b(one)14 b(to)g(be)h(sent)f(only)f(to)h(a)h
(single)0 860 y(client,)c(the)g(other)f(to)h(be)g(sent)g(to)g(an)o(y)g
(client)f(subscribing)f(to)i(client)f(message)i(e)o(v)o(ents.)952
2840 y(27)p eop
%%Page: 28 28
28 27 bop 71 51 1899 2 v 70 101 2 50 v 886 86 a Fq(Client)9
b(Message)p 1968 101 V 71 103 1899 2 v 70 153 2 50 v
451 138 a Fp(ECS)i(Client)p 1019 153 V 1019 153 V 754
w(HBS)f(Serv)o(er)p 1968 153 V 71 154 1899 2 v 70 254
2 100 v 95 189 a(Action)p 480 254 V 296 w(Socket)p 649
254 V 57 w(Length)675 239 y(\(Bytes\))p 819 254 V 845
189 a(V)-5 b(alue)p 1019 254 V 106 w(Action)p 1429 254
V 296 w(Socket)p 1599 254 V 56 w(Length)1624 239 y(\(Bytes\))p
1768 254 V 1794 189 a(V)g(alue)p 1968 254 V 71 256 1899
2 v 70 306 2 50 v 95 291 a Fq(Request:)p 1019 306 V 1968
306 V 71 307 1899 2 v 70 407 2 100 v 95 342 a Fp(Send)16
b(Client)d(Message)95 392 y(Operation)d(ID)p 480 407
V 505 342 a(Write)p 649 407 V 75 w(4)p 819 407 V 149
w(37)p 1019 407 V 1429 407 V 1599 407 V 1768 407 V 1968
407 V 71 408 1899 2 v 70 508 2 100 v 95 443 a(Send)22
b(null-terminated)95 493 y(client-name)p 480 508 V 505
443 a(Write)p 649 508 V 75 w(?)p 819 508 V 152 w(C-Name)p
1019 508 V 1429 508 V 1599 508 V 1768 508 V 1968 508
V 71 510 1899 2 v 70 609 2 100 v 95 545 a(Send)49 b(client)e(e)o(v)o
(ent)95 594 y(message)12 b(size)p 480 609 V 505 545 a(Write)p
649 609 V 75 w(4)p 819 609 V 149 w(C-Msize)p 1019 609
V 1429 609 V 1599 609 V 1768 609 V 1968 609 V 71 611
1899 2 v 70 711 2 100 v 95 646 a(Send)49 b(client)e(e)o(v)o(ent)95
696 y(message)p 480 711 V 505 646 a(Write)p 649 711 V
75 w(C-)675 696 y(Msize)p 819 711 V 845 646 a(C-)845
696 y(Message)p 1019 711 V 1429 711 V 1599 711 V 1768
711 V 1968 711 V 71 712 1899 2 v 70 812 2 100 v 95 747
a(Send)25 b(e)o(v)o(ent)f(message)95 797 y(size)p 480
812 V 505 747 a(Write)p 649 812 V 75 w(4)p 819 812 V
149 w(Msize)p 1019 812 V 1429 812 V 1599 812 V 1768 812
V 1968 812 V 71 814 1899 2 v 70 863 2 50 v 95 848 a(Send)11
b(e)o(v)o(ent)g(message)p 480 863 V 78 w(Write)p 649
863 V 75 w(Msize)p 819 863 V 69 w(Message)p 1019 863
V 1429 863 V 1599 863 V 1768 863 V 1968 863 V 71 865
1899 2 v 70 915 2 50 v 1019 915 V 1045 900 a Fq(Reply:)p
1968 915 V 71 917 1899 2 v 70 966 2 50 v 480 966 V 649
966 V 819 966 V 1019 966 V 1045 951 a Fp(Send)f(return)g(v)o(alue)p
1429 966 V 118 w(Read)p 1599 966 V 84 w(4)p 1768 966
V 149 w(0)p 1968 966 V 71 968 1899 2 v 70 1018 2 50 v
1019 1018 V 1045 1003 a Fq(Client)f(Event:)p 1968 1018
V 71 1020 1899 2 v 70 1119 2 100 v 480 1119 V 649 1119
V 819 1119 V 1019 1119 V 1045 1054 a Fp(Send)21 b(null-terminated)1045
1104 y(client)9 b(name)j(string)p 1429 1119 V 1455 1054
a(Ev)o(ent)p 1599 1119 V 73 w(?)p 1768 1119 V 152 w(Name)p
1968 1119 V 71 1121 1899 2 v 70 1171 2 50 v 480 1171
V 649 1171 V 819 1171 V 1019 1171 V 1045 1156 a(Send)e(placeholder)p
1429 1171 V 123 w(Ev)o(ent)p 1599 1171 V 73 w(4)p 1768
1171 V 149 w(0)p 1968 1171 V 71 1172 1899 2 v 70 1222
2 50 v 480 1222 V 649 1222 V 819 1222 V 1019 1222 V 1045
1207 a(Send)g(operation)f(ID)p 1429 1222 V 106 w(Ev)o(ent)p
1599 1222 V 73 w(4)p 1768 1222 V 149 w(38)p 1968 1222
V 71 1224 1899 2 v 70 1274 2 50 v 480 1274 V 649 1274
V 819 1274 V 1019 1274 V 1045 1259 a(Send)h(placeholder)p
1429 1274 V 123 w(Ev)o(ent)p 1599 1274 V 73 w(4)p 1768
1274 V 149 w(0)p 1968 1274 V 71 1275 1899 2 v 70 1375
2 100 v 480 1375 V 649 1375 V 819 1375 V 1019 1375 V
1045 1310 a(Send)48 b(client)f(e)o(v)o(ent)1045 1360
y(message)12 b(size)p 1429 1375 V 1455 1310 a(Ev)o(ent)p
1599 1375 V 73 w(4)p 1768 1375 V 149 w(C-Msize)p 1968
1375 V 71 1377 1899 2 v 70 1476 2 100 v 480 1476 V 649
1476 V 819 1476 V 1019 1476 V 1045 1411 a(Send)48 b(client)f(e)o(v)o
(ent)1045 1461 y(message)p 1429 1476 V 1455 1411 a(Ev)o(ent)p
1599 1476 V 73 w(C-)1624 1461 y(Msize)p 1768 1476 V 1794
1411 a(C-)1794 1461 y(Message)p 1968 1476 V 71 1478 1899
2 v 70 1528 2 50 v 1019 1528 V 1045 1513 a Fq(Event:)p
1968 1528 V 71 1529 1899 2 v 70 1629 2 100 v 480 1629
V 649 1629 V 819 1629 V 1019 1629 V 1045 1564 a Fp(Send)21
b(null-terminated)1045 1614 y(client)9 b(name)j(string)p
1429 1629 V 1455 1564 a(Ev)o(ent)p 1599 1629 V 73 w(?)p
1768 1629 V 152 w(Name)p 1968 1629 V 71 1631 1899 2 v
70 1680 2 50 v 480 1680 V 649 1680 V 819 1680 V 1019
1680 V 1045 1665 a(Send)e(placeholder)p 1429 1680 V 123
w(Ev)o(ent)p 1599 1680 V 73 w(4)p 1768 1680 V 149 w(0)p
1968 1680 V 71 1682 1899 2 v 70 1732 2 50 v 480 1732
V 649 1732 V 819 1732 V 1019 1732 V 1045 1717 a(Send)g(operation)f(ID)p
1429 1732 V 106 w(Ev)o(ent)p 1599 1732 V 73 w(4)p 1768
1732 V 149 w(37)p 1968 1732 V 71 1733 1899 2 v 70 1783
2 50 v 480 1783 V 649 1783 V 819 1783 V 1019 1783 V 1045
1768 a(Send)h(placeholder)p 1429 1783 V 123 w(Ev)o(ent)p
1599 1783 V 73 w(4)p 1768 1783 V 149 w(0)p 1968 1783
V 71 1785 1899 2 v 70 1885 2 100 v 480 1885 V 649 1885
V 819 1885 V 1019 1885 V 1045 1820 a(Send)24 b(e)o(v)o(ent)g(message)
1045 1870 y(size)p 1429 1885 V 1455 1820 a(Ev)o(ent)p
1599 1885 V 73 w(4)p 1768 1885 V 149 w(Msize)p 1968 1885
V 71 1886 1899 2 v 70 1936 2 50 v 480 1936 V 649 1936
V 819 1936 V 1019 1936 V 1045 1921 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1936 V 79 w(Ev)o(ent)p 1599 1936 V 73 w(Msize)p
1768 1936 V 69 w(Message)p 1968 1936 V 71 1938 1899 2
v 952 2840 a Fo(28)p eop
%%Page: 29 29
29 28 bop 0 95 a Fk(5.17)50 b(Read)12 b(Node)g(IDs)0
183 y Fo(The)e(client)f(read)i(node)f(IDs)g(operation)f(requests)g
(that)h(HBS)g(returns)g(a)g(non-delimited)f(sequence)h(of)g(four)g
(byte)g(inte)o(gers)0 239 y(enumerating)h(all)f(of)i(the)f(current)g
(node)f(IDs)h(in)g(the)g(database.)p 71 305 1899 2 v
70 354 2 50 v 886 339 a Fq(Read)g(Node)f(IDs)p 1968 354
V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)h(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 408 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)12 b(Read)h(IDs)f(Oper)o(-)95 645 y(ation)e(ID)p
480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p 819 660
V 149 w(18)p 1019 660 V 1429 660 V 1599 660 V 1768 660
V 1968 660 V 71 662 1899 2 v 70 761 2 100 v 95 696 a(Send)43
b(ID)f(type)g(\(0)95 746 y(means)12 b(node\))p 480 761
V 505 696 a(Write)p 649 761 V 75 w(4)p 819 761 V 149
w(0)p 1019 761 V 1429 761 V 1599 761 V 1768 761 V 1968
761 V 71 763 1899 2 v 70 863 2 100 v 95 798 a(Send)25
b(e)o(v)o(ent)f(message)95 848 y(size)p 480 863 V 505
798 a(Write)p 649 863 V 75 w(4)p 819 863 V 149 w(Msize)p
1019 863 V 1429 863 V 1599 863 V 1768 863 V 1968 863
V 71 864 1899 2 v 70 914 2 50 v 95 899 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 914 V 78 w(Write)p 649 914 V 75 w(Msize)p
819 914 V 69 w(Message)p 1019 914 V 1429 914 V 1599 914
V 1768 914 V 1968 914 V 71 916 1899 2 v 70 965 2 50 v
1019 965 V 1045 951 a Fq(Reply:)p 1968 965 V 71 967 1899
2 v 70 1017 2 50 v 480 1017 V 649 1017 V 819 1017 V 1019
1017 V 1045 1002 a Fp(Send)f(return)g(v)o(alue)p 1429
1017 V 118 w(Read)p 1599 1017 V 84 w(4)p 1768 1017 V
149 w(0)p 1968 1017 V 71 1019 1899 2 v 70 1068 2 50 v
480 1068 V 649 1068 V 819 1068 V 1019 1068 V 1045 1053
a(Send)f(node)g(ID)g(list)f(size)p 1429 1068 V 51 w(Read)p
1599 1068 V 84 w(4)p 1768 1068 V 149 w(Dsize)p 1968 1068
V 71 1070 1899 2 v 70 1120 2 50 v 480 1120 V 649 1120
V 819 1120 V 1019 1120 V 1045 1105 a(Send)i(node)g(IDs)p
1429 1120 V 166 w(Read)p 1599 1120 V 84 w(Dsize)p 1768
1120 V 76 w(Data)p 1968 1120 V 71 1122 1899 2 v 70 1171
2 50 v 1019 1171 V 1045 1156 a Fq(Event:)p 1968 1171
V 71 1173 1899 2 v 70 1273 2 100 v 480 1273 V 649 1273
V 819 1273 V 1019 1273 V 1045 1208 a Fp(Send)21 b(null-terminated)1045
1258 y(client)9 b(name)j(string)p 1429 1273 V 1455 1208
a(Ev)o(ent)p 1599 1273 V 73 w(?)p 1768 1273 V 152 w(Name)p
1968 1273 V 71 1274 1899 2 v 70 1324 2 50 v 480 1324
V 649 1324 V 819 1324 V 1019 1324 V 1045 1309 a(Send)e(placeholder)p
1429 1324 V 123 w(Ev)o(ent)p 1599 1324 V 73 w(4)p 1768
1324 V 149 w(0)p 1968 1324 V 71 1326 1899 2 v 70 1376
2 50 v 480 1376 V 649 1376 V 819 1376 V 1019 1376 V 1045
1361 a(Send)g(operation)f(ID)p 1429 1376 V 106 w(Ev)o(ent)p
1599 1376 V 73 w(4)p 1768 1376 V 149 w(18)p 1968 1376
V 71 1377 1899 2 v 70 1477 2 100 v 480 1477 V 649 1477
V 819 1477 V 1019 1477 V 1045 1412 a(Send)42 b(ID)g(type)g(\(0)1045
1462 y(means)11 b(node\))p 1429 1477 V 1455 1412 a(Ev)o(ent)p
1599 1477 V 73 w(4)p 1768 1477 V 149 w(0)p 1968 1477
V 71 1479 1899 2 v 70 1578 2 100 v 480 1578 V 649 1578
V 819 1578 V 1019 1578 V 1045 1513 a(Send)24 b(e)o(v)o(ent)g(message)
1045 1563 y(size)p 1429 1578 V 1455 1513 a(Ev)o(ent)p
1599 1578 V 73 w(4)p 1768 1578 V 149 w(Msize)p 1968 1578
V 71 1580 1899 2 v 70 1630 2 50 v 480 1630 V 649 1630
V 819 1630 V 1019 1630 V 1045 1615 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1630 V 79 w(Ev)o(ent)p 1599 1630 V 73 w(Msize)p
1768 1630 V 69 w(Message)p 1968 1630 V 71 1631 1899 2
v 952 2840 a Fo(29)p eop
%%Page: 30 30
30 29 bop 0 95 a Fk(5.18)50 b(Cr)o(eate)12 b(Link)0 183
y Fo(The)g(create)g(link)f(operation)g(requests)g(that)g(HBS)i(create)g
(a)f(link)f(between)g(the)h(two)f(supplied)f(node-IDs)h(and)h(name)g
(the)0 239 y(link)e(with)g(the)h(supplied)f(name.)p 71
305 1899 2 v 70 354 2 50 v 912 339 a Fq(Cr)o(eate)i(Link)p
1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)f(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 407 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)9 b(Create)g(Link)f(Op-)95 645 y(eration)i(ID)p
480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p 819 660
V 149 w(25)p 1019 660 V 1429 660 V 1599 660 V 1768 660
V 1968 660 V 71 662 1899 2 v 70 711 2 50 v 95 696 a(Send)h
(From-Node-ID)p 480 711 V 64 w(Write)p 649 711 V 75 w(4)p
819 711 V 149 w(node-ID)p 1019 711 V 1429 711 V 1599
711 V 1768 711 V 1968 711 V 71 713 1899 2 v 70 763 2
50 v 95 748 a(Send)g(T)m(o-Node-ID)p 480 763 V 111 w(Write)p
649 763 V 75 w(4)p 819 763 V 149 w(node-ID)p 1019 763
V 1429 763 V 1599 763 V 1768 763 V 1968 763 V 71 764
1899 2 v 70 814 2 50 v 95 799 a(Send)g(Name)g(Size)p
480 814 V 136 w(Write)p 649 814 V 75 w(4)p 819 814 V
149 w(Nsize)p 1019 814 V 1429 814 V 1599 814 V 1768 814
V 1968 814 V 71 816 1899 2 v 70 866 2 50 v 95 851 a(Send)g(Name)p
480 866 V 218 w(Write)p 649 866 V 75 w(NSize)p 819 866
V 69 w(Name)p 1019 866 V 1429 866 V 1599 866 V 1768 866
V 1968 866 V 71 867 1899 2 v 70 967 2 100 v 95 902 a(Send)25
b(e)o(v)o(ent)f(message)95 952 y(size)p 480 967 V 505
902 a(Write)p 649 967 V 75 w(4)p 819 967 V 149 w(Msize)p
1019 967 V 1429 967 V 1599 967 V 1768 967 V 1968 967
V 71 969 1899 2 v 70 1018 2 50 v 95 1004 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 1018 V 78 w(Write)p 649 1018 V 75 w(Msize)p
819 1018 V 69 w(Message)p 1019 1018 V 1429 1018 V 1599
1018 V 1768 1018 V 1968 1018 V 71 1020 1899 2 v 70 1070
2 50 v 1019 1070 V 1045 1055 a Fq(Reply:)p 1968 1070
V 71 1072 1899 2 v 70 1121 2 50 v 480 1121 V 649 1121
V 819 1121 V 1019 1121 V 1045 1107 a Fp(Send)f(return)g(v)o(alue)p
1429 1121 V 118 w(Read)p 1599 1121 V 84 w(4)p 1768 1121
V 149 w(0)p 1968 1121 V 71 1123 1899 2 v 70 1173 2 50
v 480 1173 V 649 1173 V 819 1173 V 1019 1173 V 1045 1158
a(Send)g(ne)o(w)h(link)e(ID)p 1429 1173 V 119 w(Read)p
1599 1173 V 84 w(4)p 1768 1173 V 149 w(Link-ID)p 1968
1173 V 71 1175 1899 2 v 70 1224 2 50 v 480 1224 V 649
1224 V 819 1224 V 1019 1224 V 1045 1209 a(Send)h(name)p
1429 1224 V 228 w(Read)p 1599 1224 V 84 w(Nsize)p 1768
1224 V 76 w(Name)p 1968 1224 V 71 1226 1899 2 v 70 1276
2 50 v 1019 1276 V 1045 1261 a Fq(Event:)p 1968 1276
V 71 1278 1899 2 v 70 1377 2 100 v 480 1377 V 649 1377
V 819 1377 V 1019 1377 V 1045 1312 a Fp(Send)21 b(null-terminated)1045
1362 y(client)9 b(name)j(string)p 1429 1377 V 1455 1312
a(Ev)o(ent)p 1599 1377 V 73 w(?)p 1768 1377 V 152 w(Name)p
1968 1377 V 71 1379 1899 2 v 70 1429 2 50 v 480 1429
V 649 1429 V 819 1429 V 1019 1429 V 1045 1414 a(Send)e(link-ID)p
1429 1429 V 193 w(Ev)o(ent)p 1599 1429 V 73 w(4)p 1768
1429 V 149 w(Link-ID)p 1968 1429 V 71 1430 1899 2 v 70
1480 2 50 v 480 1480 V 649 1480 V 819 1480 V 1019 1480
V 1045 1465 a(Send)g(operation)f(ID)p 1429 1480 V 106
w(Ev)o(ent)p 1599 1480 V 73 w(4)p 1768 1480 V 149 w(25)p
1968 1480 V 71 1482 1899 2 v 70 1532 2 50 v 480 1532
V 649 1532 V 819 1532 V 1019 1532 V 1045 1517 a(Send)h(placeholder)p
1429 1532 V 123 w(Ev)o(ent)p 1599 1532 V 73 w(4)p 1768
1532 V 149 w(0)p 1968 1532 V 71 1533 1899 2 v 70 1633
2 100 v 480 1633 V 649 1633 V 819 1633 V 1019 1633 V
1045 1568 a(Send)24 b(e)o(v)o(ent)g(message)1045 1618
y(size)p 1429 1633 V 1455 1568 a(Ev)o(ent)p 1599 1633
V 73 w(4)p 1768 1633 V 149 w(Msize)p 1968 1633 V 71 1635
1899 2 v 70 1684 2 50 v 480 1684 V 649 1684 V 819 1684
V 1019 1684 V 1045 1669 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1684 V 79 w(Ev)o(ent)p 1599 1684 V 73 w(Msize)p
1768 1684 V 69 w(Message)p 1968 1684 V 71 1686 1899 2
v 952 2840 a Fo(30)p eop
%%Page: 31 31
31 30 bop 0 95 a Fk(5.19)50 b(Cr)o(eate)12 b(Link)g(to)g(New)h(Node)0
183 y Fo(The)f(client)f(create)i(link)d(to)i(ne)o(w)g(node)f(operation)
g(requests)g(that)g(HBS)i(create)g(both)e(a)h(ne)o(w)g(link)e(and)i(a)h
(ne)o(w)e(node,)h(and)0 239 y(link)g(the)h(supplied)e(node)i(to)f(the)h
(ne)o(w)g(node)g(through)e(the)i(ne)o(wly)f(created)i(link.)21
b(Both)13 b(the)g(ne)o(w)f(link)g(ID)i(and)f(the)f(ne)o(w)0
296 y(node)f(ID)g(are)h(returned.)p 71 352 1899 2 v 70
402 2 50 v 809 387 a Fq(Cr)o(eate)g(link)d(to)h(new)h(node)p
1968 402 V 71 403 1899 2 v 70 453 2 50 v 451 438 a Fp(ECS)g(Client)p
1019 453 V 1019 453 V 754 w(HBS)f(Serv)o(er)p 1968 453
V 71 455 1899 2 v 70 554 2 100 v 95 490 a(Action)p 480
554 V 296 w(Socket)p 649 554 V 57 w(Length)675 539 y(\(Bytes\))p
819 554 V 845 490 a(V)-5 b(alue)p 1019 554 V 106 w(Action)p
1429 554 V 296 w(Socket)p 1599 554 V 56 w(Length)1624
539 y(\(Bytes\))p 1768 554 V 1794 490 a(V)g(alue)p 1968
554 V 71 556 1899 2 v 70 606 2 50 v 95 591 a Fq(Request:)p
1019 606 V 1968 606 V 71 607 1899 2 v 70 757 2 150 v
95 642 a Fp(Send)24 b(Create)h(link)d(to)95 692 y(ne)o(w)h(node)f
(Operation)95 742 y(ID)p 480 757 V 505 642 a(Write)p
649 757 V 75 w(4)p 819 757 V 149 w(32)p 1019 757 V 1429
757 V 1599 757 V 1768 757 V 1968 757 V 71 759 1899 2
v 70 808 2 50 v 95 793 a(Send)11 b(Node-ID)p 480 808
V 168 w(Write)p 649 808 V 75 w(4)p 819 808 V 149 w(node-ID)p
1019 808 V 1429 808 V 1599 808 V 1768 808 V 1968 808
V 71 810 1899 2 v 70 910 2 100 v 95 845 a(Send)47 b(to-node-name)95
895 y(Size)p 480 910 V 505 845 a(Write)p 649 910 V 75
w(4)p 819 910 V 149 w(Nsize)p 1019 910 V 1429 910 V 1599
910 V 1768 910 V 1968 910 V 71 911 1899 2 v 70 961 2
50 v 95 946 a(Send)11 b(to-node-Name)p 480 961 V 76 w(Write)p
649 961 V 75 w(NSize)p 819 961 V 69 w(Name)p 1019 961
V 1429 961 V 1599 961 V 1768 961 V 1968 961 V 71 963
1899 2 v 70 1013 2 50 v 95 998 a(Send)g(link-name)f(Size)p
480 1013 V 66 w(Write)p 649 1013 V 75 w(4)p 819 1013
V 149 w(Lsize)p 1019 1013 V 1429 1013 V 1599 1013 V 1768
1013 V 1968 1013 V 71 1014 1899 2 v 70 1064 2 50 v 95
1049 a(Send)h(link-Name)p 480 1064 V 138 w(Write)p 649
1064 V 75 w(Lsize)p 819 1064 V 81 w(Lname)p 1019 1064
V 1429 1064 V 1599 1064 V 1768 1064 V 1968 1064 V 71
1066 1899 2 v 70 1165 2 100 v 95 1101 a(Send)68 b(to-node-data)95
1150 y(Size)p 480 1165 V 505 1101 a(Write)p 649 1165
V 75 w(4)p 819 1165 V 149 w(Dsize)p 1019 1165 V 1429
1165 V 1599 1165 V 1768 1165 V 1968 1165 V 71 1167 1899
2 v 70 1217 2 50 v 95 1202 a(Send)11 b(to-node-data)p
480 1217 V 105 w(Write)p 649 1217 V 75 w(DSize)p 819
1217 V 69 w(Data)p 1019 1217 V 1429 1217 V 1599 1217
V 1768 1217 V 1968 1217 V 71 1218 1899 2 v 70 1318 2
100 v 95 1253 a(Send)25 b(e)o(v)o(ent)f(message)95 1303
y(size)p 480 1318 V 505 1253 a(Write)p 649 1318 V 75
w(4)p 819 1318 V 149 w(Msize)p 1019 1318 V 1429 1318
V 1599 1318 V 1768 1318 V 1968 1318 V 71 1320 1899 2
v 70 1370 2 50 v 95 1355 a(Send)11 b(e)o(v)o(ent)g(message)p
480 1370 V 78 w(Write)p 649 1370 V 75 w(Msize)p 819 1370
V 69 w(Message)p 1019 1370 V 1429 1370 V 1599 1370 V
1768 1370 V 1968 1370 V 71 1371 1899 2 v 70 1421 2 50
v 1019 1421 V 1045 1406 a Fq(Reply:)p 1968 1421 V 71
1423 1899 2 v 70 1473 2 50 v 480 1473 V 649 1473 V 819
1473 V 1019 1473 V 1045 1458 a Fp(Send)f(return)g(v)o(alue)p
1429 1473 V 118 w(Read)p 1599 1473 V 84 w(4)p 1768 1473
V 149 w(0)p 1968 1473 V 71 1474 1899 2 v 70 1524 2 50
v 480 1524 V 649 1524 V 819 1524 V 1019 1524 V 1045 1509
a(Send)g(link-ID)p 1429 1524 V 193 w(Read)p 1599 1524
V 84 w(4)p 1768 1524 V 149 w(link-ID)p 1968 1524 V 71
1526 1899 2 v 70 1575 2 50 v 480 1575 V 649 1575 V 819
1575 V 1019 1575 V 1045 1561 a(Send)g(node-ID)p 1429
1575 V 178 w(Read)p 1599 1575 V 84 w(4)p 1768 1575 V
149 w(node-ID)p 1968 1575 V 71 1577 1899 2 v 70 1627
2 50 v 1019 1627 V 1045 1612 a Fq(Event:)p 1968 1627
V 71 1629 1899 2 v 70 1728 2 100 v 480 1728 V 649 1728
V 819 1728 V 1019 1728 V 1045 1663 a Fp(Send)21 b(null-terminated)1045
1713 y(client)9 b(name)j(string)p 1429 1728 V 1455 1663
a(Ev)o(ent)p 1599 1728 V 73 w(?)p 1768 1728 V 152 w(Name)p
1968 1728 V 71 1730 1899 2 v 70 1780 2 50 v 480 1780
V 649 1780 V 819 1780 V 1019 1780 V 1045 1765 a(Send)e(ne)o(w)h
(link-ID)p 1429 1780 V 114 w(Ev)o(ent)p 1599 1780 V 73
w(4)p 1768 1780 V 149 w(link-ID)p 1968 1780 V 71 1781
1899 2 v 70 1831 2 50 v 480 1831 V 649 1831 V 819 1831
V 1019 1831 V 1045 1816 a(Send)f(operation)f(ID)p 1429
1831 V 106 w(Ev)o(ent)p 1599 1831 V 73 w(4)p 1768 1831
V 149 w(32)p 1968 1831 V 71 1833 1899 2 v 70 1883 2 50
v 480 1883 V 649 1883 V 819 1883 V 1019 1883 V 1045 1868
a(Send)h(ne)o(w)h(node-ID)p 1429 1883 V 99 w(Ev)o(ent)p
1599 1883 V 73 w(4)p 1768 1883 V 149 w(node-ID)p 1968
1883 V 71 1884 1899 2 v 70 1984 2 100 v 480 1984 V 649
1984 V 819 1984 V 1019 1984 V 1045 1919 a(Send)24 b(e)o(v)o(ent)g
(message)1045 1969 y(size)p 1429 1984 V 1455 1919 a(Ev)o(ent)p
1599 1984 V 73 w(4)p 1768 1984 V 149 w(Msize)p 1968 1984
V 71 1986 1899 2 v 70 2035 2 50 v 480 2035 V 649 2035
V 819 2035 V 1019 2035 V 1045 2020 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 2035 V 79 w(Ev)o(ent)p 1599 2035 V 73 w(Msize)p
1768 2035 V 69 w(Message)p 1968 2035 V 71 2037 1899 2
v 952 2840 a Fo(31)p eop
%%Page: 32 32
32 31 bop 0 95 a Fk(5.20)50 b(Cr)o(eate)12 b(Link)g(to)g(New)h(Locked)e
(Node)0 183 y Fo(The)k(client)f(create)i(link)d(to)i(ne)o(w)g(locked)f
(node)g(operation)g(requests)g(that)g(HBS)i(create)f(both)f(a)i(ne)o(w)
e(link)g(and)h(a)g(ne)o(w)0 239 y(locked)c(node,)g(and)h(link)e(the)i
(supplied)e(node)h(to)g(the)h(ne)o(w)f(node)g(through)g(the)g(ne)o(wly)
g(created)h(link.)17 b(Both)11 b(the)h(ne)o(w)f(link)0
296 y(ID)g(and)g(the)g(ne)o(w)g(node)g(ID)g(are)h(returned.)p
71 352 1899 2 v 70 402 2 50 v 747 387 a Fq(Cr)o(eate)f(link)f(to)g(new)
g(locked)h(node)p 1968 402 V 71 403 1899 2 v 70 453 2
50 v 451 438 a Fp(ECS)g(Client)p 1019 453 V 1019 453
V 754 w(HBS)f(Serv)o(er)p 1968 453 V 71 455 1899 2 v
70 554 2 100 v 95 490 a(Action)p 480 554 V 296 w(Socket)p
649 554 V 57 w(Length)675 539 y(\(Bytes\))p 819 554 V
845 490 a(V)-5 b(alue)p 1019 554 V 106 w(Action)p 1429
554 V 296 w(Socket)p 1599 554 V 56 w(Length)1624 539
y(\(Bytes\))p 1768 554 V 1794 490 a(V)g(alue)p 1968 554
V 71 556 1899 2 v 70 606 2 50 v 95 591 a Fq(Request:)p
1019 606 V 1968 606 V 71 607 1899 2 v 70 707 2 100 v
95 642 a Fp(Send)24 b(Create)h(link)d(to)95 692 y(ne)o(w)11
b(locked)f(node)p 480 707 V 505 642 a(Write)p 649 707
V 75 w(4)p 819 707 V 149 w(33)p 1019 707 V 1429 707 V
1599 707 V 1768 707 V 1968 707 V 71 709 1899 2 v 70 759
2 50 v 95 744 a(Send)h(Node-ID)p 480 759 V 168 w(Write)p
649 759 V 75 w(4)p 819 759 V 149 w(ID)p 1019 759 V 1429
759 V 1599 759 V 1768 759 V 1968 759 V 71 760 1899 2
v 70 860 2 100 v 95 795 a(Send)47 b(to-node-name)95 845
y(Size)p 480 860 V 505 795 a(Write)p 649 860 V 75 w(4)p
819 860 V 149 w(Nsize)p 1019 860 V 1429 860 V 1599 860
V 1768 860 V 1968 860 V 71 861 1899 2 v 70 911 2 50 v
95 896 a(Send)11 b(to-node-Name)p 480 911 V 76 w(Write)p
649 911 V 75 w(NSize)p 819 911 V 69 w(Name)p 1019 911
V 1429 911 V 1599 911 V 1768 911 V 1968 911 V 71 913
1899 2 v 70 963 2 50 v 95 948 a(Send)g(link-name)f(Size)p
480 963 V 66 w(Write)p 649 963 V 75 w(4)p 819 963 V 149
w(Lsize)p 1019 963 V 1429 963 V 1599 963 V 1768 963 V
1968 963 V 71 964 1899 2 v 70 1014 2 50 v 95 999 a(Send)h(link-Name)p
480 1014 V 138 w(Write)p 649 1014 V 75 w(Lsize)p 819
1014 V 81 w(Lname)p 1019 1014 V 1429 1014 V 1599 1014
V 1768 1014 V 1968 1014 V 71 1016 1899 2 v 70 1116 2
100 v 95 1051 a(Send)68 b(to-node-data)95 1101 y(Size)p
480 1116 V 505 1051 a(Write)p 649 1116 V 75 w(4)p 819
1116 V 149 w(Dsize)p 1019 1116 V 1429 1116 V 1599 1116
V 1768 1116 V 1968 1116 V 71 1117 1899 2 v 70 1167 2
50 v 95 1152 a(Send)11 b(to-node-data)p 480 1167 V 105
w(Write)p 649 1167 V 75 w(DSize)p 819 1167 V 69 w(Data)p
1019 1167 V 1429 1167 V 1599 1167 V 1768 1167 V 1968
1167 V 71 1169 1899 2 v 70 1268 2 100 v 95 1204 a(Send)25
b(e)o(v)o(ent)f(message)95 1253 y(size)p 480 1268 V 505
1204 a(Write)p 649 1268 V 75 w(4)p 819 1268 V 149 w(Msize)p
1019 1268 V 1429 1268 V 1599 1268 V 1768 1268 V 1968
1268 V 71 1270 1899 2 v 70 1320 2 50 v 95 1305 a(Send)11
b(e)o(v)o(ent)g(message)p 480 1320 V 78 w(Write)p 649
1320 V 75 w(Msize)p 819 1320 V 69 w(Message)p 1019 1320
V 1429 1320 V 1599 1320 V 1768 1320 V 1968 1320 V 71
1321 1899 2 v 70 1371 2 50 v 1019 1371 V 1045 1356 a
Fq(Reply:)p 1968 1371 V 71 1373 1899 2 v 70 1423 2 50
v 480 1423 V 649 1423 V 819 1423 V 1019 1423 V 1045 1408
a Fp(Send)f(return)g(v)o(alue)p 1429 1423 V 118 w(Read)p
1599 1423 V 84 w(4)p 1768 1423 V 149 w(0)p 1968 1423
V 71 1424 1899 2 v 70 1474 2 50 v 480 1474 V 649 1474
V 819 1474 V 1019 1474 V 1045 1459 a(Send)g(link-ID)p
1429 1474 V 193 w(Read)p 1599 1474 V 84 w(4)p 1768 1474
V 149 w(link-ID)p 1968 1474 V 71 1476 1899 2 v 70 1526
2 50 v 480 1526 V 649 1526 V 819 1526 V 1019 1526 V 1045
1511 a(Send)g(node-ID)p 1429 1526 V 178 w(Read)p 1599
1526 V 84 w(4)p 1768 1526 V 149 w(node-ID)p 1968 1526
V 71 1527 1899 2 v 70 1577 2 50 v 1019 1577 V 1045 1562
a Fq(Event:)p 1968 1577 V 71 1579 1899 2 v 70 1678 2
100 v 480 1678 V 649 1678 V 819 1678 V 1019 1678 V 1045
1614 a Fp(Send)21 b(null-terminated)1045 1663 y(client)9
b(name)j(string)p 1429 1678 V 1455 1614 a(Ev)o(ent)p
1599 1678 V 73 w(?)p 1768 1678 V 152 w(Name)p 1968 1678
V 71 1680 1899 2 v 70 1730 2 50 v 480 1730 V 649 1730
V 819 1730 V 1019 1730 V 1045 1715 a(Send)e(ne)o(w)h(link-ID)p
1429 1730 V 114 w(Ev)o(ent)p 1599 1730 V 73 w(4)p 1768
1730 V 149 w(link-ID)p 1968 1730 V 71 1732 1899 2 v 70
1781 2 50 v 480 1781 V 649 1781 V 819 1781 V 1019 1781
V 1045 1766 a(Send)f(operation)f(ID)p 1429 1781 V 106
w(Ev)o(ent)p 1599 1781 V 73 w(4)p 1768 1781 V 149 w(33)p
1968 1781 V 71 1783 1899 2 v 70 1833 2 50 v 480 1833
V 649 1833 V 819 1833 V 1019 1833 V 1045 1818 a(Send)h(ne)o(w)h
(node-ID)p 1429 1833 V 99 w(Ev)o(ent)p 1599 1833 V 73
w(4)p 1768 1833 V 149 w(node-ID)p 1968 1833 V 71 1834
1899 2 v 70 1934 2 100 v 480 1934 V 649 1934 V 819 1934
V 1019 1934 V 1045 1869 a(Send)24 b(e)o(v)o(ent)g(message)1045
1919 y(size)p 1429 1934 V 1455 1869 a(Ev)o(ent)p 1599
1934 V 73 w(4)p 1768 1934 V 149 w(Msize)p 1968 1934 V
71 1936 1899 2 v 70 1986 2 50 v 480 1986 V 649 1986 V
819 1986 V 1019 1986 V 1045 1971 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1986 V 79 w(Ev)o(ent)p 1599 1986 V 73 w(Msize)p
1768 1986 V 69 w(Message)p 1968 1986 V 71 1987 1899 2
v 952 2840 a Fo(32)p eop
%%Page: 33 33
33 32 bop 0 95 a Fk(5.21)50 b(Delete)12 b(link)0 183
y Fo(The)j(delete)f(link)g(operation)g(requests)g(that)g(HBS)h(delete)g
(the)g(supplied)e(link-ID)g(that)i(originates)e(from)i(the)g(supplied)0
239 y(node-ID.)c(Deleted)g(link-IDs)f(are)i(not)e(reused.)p
71 295 1899 2 v 70 345 2 50 v 925 330 a Fq(Delete)h(link)p
1968 345 V 71 347 1899 2 v 70 397 2 50 v 451 382 a Fp(ECS)g(Client)p
1019 397 V 1019 397 V 754 w(HBS)f(Serv)o(er)p 1968 397
V 71 398 1899 2 v 70 498 2 100 v 95 433 a(Action)p 480
498 V 296 w(Socket)p 649 498 V 57 w(Length)675 483 y(\(Bytes\))p
819 498 V 845 433 a(V)-5 b(alue)p 1019 498 V 106 w(Action)p
1429 498 V 296 w(Socket)p 1599 498 V 56 w(Length)1624
483 y(\(Bytes\))p 1768 498 V 1794 433 a(V)g(alue)p 1968
498 V 71 499 1899 2 v 70 549 2 50 v 95 534 a Fq(Request:)p
1019 549 V 1968 549 V 71 551 1899 2 v 70 651 2 100 v
95 586 a Fp(Send)9 b(Delete)g(Link)f(Op-)95 636 y(eration)i(ID)p
480 651 V 505 586 a(Write)p 649 651 V 75 w(4)p 819 651
V 149 w(31)p 1019 651 V 1429 651 V 1599 651 V 1768 651
V 1968 651 V 71 652 1899 2 v 70 702 2 50 v 95 687 a(Send)h(node-ID)p
480 702 V 177 w(Write)p 649 702 V 75 w(4)p 819 702 V
149 w(node-ID)p 1019 702 V 1429 702 V 1599 702 V 1768
702 V 1968 702 V 71 704 1899 2 v 70 754 2 50 v 95 739
a(Send)g(link-ID)p 480 754 V 192 w(Write)p 649 754 V
75 w(4)p 819 754 V 149 w(link-ID)p 1019 754 V 1429 754
V 1599 754 V 1768 754 V 1968 754 V 71 755 1899 2 v 70
855 2 100 v 95 790 a(Send)25 b(e)o(v)o(ent)f(message)95
840 y(size)p 480 855 V 505 790 a(Write)p 649 855 V 75
w(4)p 819 855 V 149 w(Msize)p 1019 855 V 1429 855 V 1599
855 V 1768 855 V 1968 855 V 71 856 1899 2 v 70 906 2
50 v 95 891 a(Send)11 b(e)o(v)o(ent)g(message)p 480 906
V 78 w(Write)p 649 906 V 75 w(Msize)p 819 906 V 69 w(Message)p
1019 906 V 1429 906 V 1599 906 V 1768 906 V 1968 906
V 71 908 1899 2 v 70 958 2 50 v 1019 958 V 1045 943 a
Fq(Reply:)p 1968 958 V 71 959 1899 2 v 70 1009 2 50 v
480 1009 V 649 1009 V 819 1009 V 1019 1009 V 1045 994
a Fp(Send)f(return)g(v)o(alue)p 1429 1009 V 118 w(Read)p
1599 1009 V 84 w(4)p 1768 1009 V 149 w(0)p 1968 1009
V 71 1011 1899 2 v 70 1061 2 50 v 1019 1061 V 1045 1046
a Fq(Event:)p 1968 1061 V 71 1062 1899 2 v 70 1162 2
100 v 480 1162 V 649 1162 V 819 1162 V 1019 1162 V 1045
1097 a Fp(Send)21 b(null-terminated)1045 1147 y(client)9
b(name)j(string)p 1429 1162 V 1455 1097 a(Ev)o(ent)p
1599 1162 V 73 w(?)p 1768 1162 V 152 w(Name)p 1968 1162
V 71 1164 1899 2 v 70 1213 2 50 v 480 1213 V 649 1213
V 819 1213 V 1019 1213 V 1045 1199 a(Send)e(link-ID)p
1429 1213 V 193 w(Ev)o(ent)p 1599 1213 V 73 w(4)p 1768
1213 V 149 w(link-ID)p 1968 1213 V 71 1215 1899 2 v 70
1265 2 50 v 480 1265 V 649 1265 V 819 1265 V 1019 1265
V 1045 1250 a(Send)g(operation)f(ID)p 1429 1265 V 106
w(Ev)o(ent)p 1599 1265 V 73 w(4)p 1768 1265 V 149 w(31)p
1968 1265 V 71 1267 1899 2 v 70 1316 2 50 v 480 1316
V 649 1316 V 819 1316 V 1019 1316 V 1045 1301 a(Send)h(placeholder)p
1429 1316 V 123 w(Ev)o(ent)p 1599 1316 V 73 w(4)p 1768
1316 V 149 w(0)p 1968 1316 V 71 1318 1899 2 v 70 1418
2 100 v 480 1418 V 649 1418 V 819 1418 V 1019 1418 V
1045 1353 a(Send)24 b(e)o(v)o(ent)g(message)1045 1403
y(size)p 1429 1418 V 1455 1353 a(Ev)o(ent)p 1599 1418
V 73 w(4)p 1768 1418 V 149 w(Msize)p 1968 1418 V 71 1419
1899 2 v 70 1469 2 50 v 480 1469 V 649 1469 V 819 1469
V 1019 1469 V 1045 1454 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1469 V 79 w(Ev)o(ent)p 1599 1469 V 73 w(Msize)p
1768 1469 V 69 w(Message)p 1968 1469 V 71 1471 1899 2
v 952 2840 a Fo(33)p eop
%%Page: 34 34
34 33 bop 0 95 a Fk(5.22)50 b(Read)12 b(Link)g(IDs)0
183 y Fo(The)h(read)h(link)e(IDs)h(operation)f(requests)h(that)f(HBS)i
(returns)f(a)h(sequence)f(of)g(four)g(byte)g(inte)o(gers)g(enumerating)
f(all)h(of)0 239 y(the)e(current)g(link)f(IDs)h(in)g(the)g(database.)p
71 295 1899 2 v 70 345 2 50 v 889 330 a Fq(Read)g(Link)f(IDs)p
1968 345 V 71 347 1899 2 v 70 397 2 50 v 451 382 a Fp(ECS)h(Client)p
1019 397 V 1019 397 V 754 w(HBS)f(Serv)o(er)p 1968 397
V 71 398 1899 2 v 70 498 2 100 v 95 433 a(Action)p 480
498 V 296 w(Socket)p 649 498 V 57 w(Length)675 483 y(\(Bytes\))p
819 498 V 845 433 a(V)-5 b(alue)p 1019 498 V 106 w(Action)p
1429 498 V 296 w(Socket)p 1599 498 V 56 w(Length)1624
483 y(\(Bytes\))p 1768 498 V 1794 433 a(V)g(alue)p 1968
498 V 71 499 1899 2 v 70 549 2 50 v 95 534 a Fq(Request:)p
1019 549 V 1968 549 V 71 551 1899 2 v 70 651 2 100 v
95 586 a Fp(Send)12 b(Read)h(IDs)f(Oper)o(-)95 636 y(ation)e(ID)p
480 651 V 505 586 a(Write)p 649 651 V 75 w(4)p 819 651
V 149 w(18)p 1019 651 V 1429 651 V 1599 651 V 1768 651
V 1968 651 V 71 652 1899 2 v 70 752 2 100 v 95 687 a(Send)43
b(ID)f(type)g(\(1)95 737 y(equals)11 b(link\))p 480 752
V 505 687 a(Write)p 649 752 V 75 w(4)p 819 752 V 149
w(1)p 1019 752 V 1429 752 V 1599 752 V 1768 752 V 1968
752 V 71 754 1899 2 v 70 853 2 100 v 95 788 a(Send)25
b(e)o(v)o(ent)f(message)95 838 y(size)p 480 853 V 505
788 a(Write)p 649 853 V 75 w(4)p 819 853 V 149 w(Msize)p
1019 853 V 1429 853 V 1599 853 V 1768 853 V 1968 853
V 71 855 1899 2 v 70 905 2 50 v 95 890 a(Send)11 b(e)o(v)o(ent)g
(message)p 480 905 V 78 w(Write)p 649 905 V 75 w(Msize)p
819 905 V 69 w(Message)p 1019 905 V 1429 905 V 1599 905
V 1768 905 V 1968 905 V 71 906 1899 2 v 70 956 2 50 v
1019 956 V 1045 941 a Fq(Reply:)p 1968 956 V 71 958 1899
2 v 70 1008 2 50 v 480 1008 V 649 1008 V 819 1008 V 1019
1008 V 1045 993 a Fp(Send)f(return)g(v)o(alue)p 1429
1008 V 118 w(Read)p 1599 1008 V 84 w(4)p 1768 1008 V
149 w(0)p 1968 1008 V 71 1009 1899 2 v 70 1059 2 50 v
480 1059 V 649 1059 V 819 1059 V 1019 1059 V 1045 1044
a(Send)g(link)f(ID)h(list)f(size)p 1429 1059 V 63 w(Read)p
1599 1059 V 84 w(4)p 1768 1059 V 149 w(Dsize)p 1968 1059
V 71 1061 1899 2 v 70 1111 2 50 v 480 1111 V 649 1111
V 819 1111 V 1019 1111 V 1045 1096 a(Send)h(link)f(IDs)p
1429 1111 V 182 w(Read)p 1599 1111 V 84 w(Dsize)p 1768
1111 V 76 w(Data)p 1968 1111 V 71 1112 1899 2 v 70 1162
2 50 v 1019 1162 V 1045 1147 a Fq(Event:)p 1968 1162
V 71 1164 1899 2 v 70 1263 2 100 v 480 1263 V 649 1263
V 819 1263 V 1019 1263 V 1045 1199 a Fp(Send)21 b(null-terminated)1045
1248 y(client)9 b(name)j(string)p 1429 1263 V 1455 1199
a(Ev)o(ent)p 1599 1263 V 73 w(?)p 1768 1263 V 152 w(Name)p
1968 1263 V 71 1265 1899 2 v 70 1315 2 50 v 480 1315
V 649 1315 V 819 1315 V 1019 1315 V 1045 1300 a(Send)e(placeholder)p
1429 1315 V 123 w(Ev)o(ent)p 1599 1315 V 73 w(4)p 1768
1315 V 149 w(0)p 1968 1315 V 71 1316 1899 2 v 70 1366
2 50 v 480 1366 V 649 1366 V 819 1366 V 1019 1366 V 1045
1351 a(Send)g(operation)f(ID)p 1429 1366 V 106 w(Ev)o(ent)p
1599 1366 V 73 w(4)p 1768 1366 V 149 w(18)p 1968 1366
V 71 1368 1899 2 v 70 1468 2 100 v 480 1468 V 649 1468
V 819 1468 V 1019 1468 V 1045 1403 a(Send)42 b(ID)g(type)g(\(1)1045
1453 y(equals)10 b(link\))p 1429 1468 V 1455 1403 a(Ev)o(ent)p
1599 1468 V 73 w(4)p 1768 1468 V 149 w(1)p 1968 1468
V 71 1469 1899 2 v 70 1569 2 100 v 480 1569 V 649 1569
V 819 1569 V 1019 1569 V 1045 1504 a(Send)24 b(e)o(v)o(ent)g(message)
1045 1554 y(size)p 1429 1569 V 1455 1504 a(Ev)o(ent)p
1599 1569 V 73 w(4)p 1768 1569 V 149 w(Msize)p 1968 1569
V 71 1570 1899 2 v 70 1620 2 50 v 480 1620 V 649 1620
V 819 1620 V 1019 1620 V 1045 1605 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1620 V 79 w(Ev)o(ent)p 1599 1620 V 73 w(Msize)p
1768 1620 V 69 w(Message)p 1968 1620 V 71 1622 1899 2
v 952 2840 a Fo(34)p eop
%%Page: 35 35
35 34 bop 0 95 a Fk(5.23)50 b(Subscribe)12 b(Event)0
183 y Fo(The)g(subscribe)f(e)o(v)o(ent)h(operation)f(requests)h(that)f
(HBS)i(be)o(gin)f(sending)f(e)o(v)o(ents)g(to)h(this)f(client)h(whene)o
(v)o(er)g(an)g(operation)0 239 y(of)g(the)f(supplied)f(ID)i(is)g
(successfully)e(completed)h(by)h(an)o(y)g(client.)17
b(The)12 b(\252ke)o(y\272)g(should)e(be)i(0)g(in)f(all)h(cases)g(e)o
(xcept)g(when)0 296 y(e)o(v)o(ents)f(are)h(desired)e(on)h(only)f(the)h
(data)g(\256eld)g(of)h(nodes,)e(in)h(which)g(case)g(517)g(can)g(be)g
(supplied)f(instead.)p 71 361 1899 2 v 70 411 2 50 v
875 396 a Fq(Subscribe)i(Event)p 1968 411 V 71 413 1899
2 v 70 462 2 50 v 451 447 a Fp(ECS)f(Client)p 1019 462
V 1019 462 V 754 w(HBS)f(Serv)o(er)p 1968 462 V 71 464
1899 2 v 70 564 2 100 v 95 499 a(Action)p 480 564 V 296
w(Socket)p 649 564 V 57 w(Length)675 549 y(\(Bytes\))p
819 564 V 845 499 a(V)-5 b(alue)p 1019 564 V 106 w(Action)p
1429 564 V 296 w(Socket)p 1599 564 V 56 w(Length)1624
549 y(\(Bytes\))p 1768 564 V 1794 499 a(V)g(alue)p 1968
564 V 71 565 1899 2 v 70 615 2 50 v 95 600 a Fq(Request:)p
1019 615 V 1968 615 V 71 617 1899 2 v 70 716 2 100 v
95 652 a Fp(Send)16 b(subscribe)g(e)o(v)o(ent)95 701
y(Operation)10 b(ID)p 480 716 V 505 652 a(Write)p 649
716 V 75 w(4)p 819 716 V 149 w(10)p 1019 716 V 1429 716
V 1599 716 V 1768 716 V 1968 716 V 71 718 1899 2 v 70
768 2 50 v 95 753 a(Send)h(inte)o(ger)p 480 768 V 201
w(Write)p 649 768 V 75 w(4)p 819 768 V 149 w(0)p 1019
768 V 1429 768 V 1599 768 V 1768 768 V 1968 768 V 71
770 1899 2 v 70 869 2 100 v 95 804 a(Send)g(Operation)e(ID)p
480 869 V 96 w(Write)p 649 869 V 75 w(4)p 819 869 V 149
w(Operation)845 854 y(ID)p 1019 869 V 1429 869 V 1599
869 V 1768 869 V 1968 869 V 71 871 1899 2 v 70 921 2
50 v 95 906 a(Send)i(K)o(e)o(y)g(ID)p 480 921 V 194 w(Write)p
649 921 V 75 w(4)p 819 921 V 149 w(0)f(or)g(517)p 1019
921 V 1429 921 V 1599 921 V 1768 921 V 1968 921 V 71
922 1899 2 v 70 1022 2 100 v 95 957 a(Send)25 b(e)o(v)o(ent)f(message)
95 1007 y(size)p 480 1022 V 505 957 a(Write)p 649 1022
V 75 w(4)p 819 1022 V 149 w(Msize)p 1019 1022 V 1429
1022 V 1599 1022 V 1768 1022 V 1968 1022 V 71 1024 1899
2 v 70 1073 2 50 v 95 1058 a(Send)11 b(e)o(v)o(ent)g(message)p
480 1073 V 78 w(Write)p 649 1073 V 75 w(Msize)p 819 1073
V 69 w(Message)p 1019 1073 V 1429 1073 V 1599 1073 V
1768 1073 V 1968 1073 V 71 1075 1899 2 v 70 1125 2 50
v 1019 1125 V 1045 1110 a Fq(Reply:)p 1968 1125 V 71
1127 1899 2 v 70 1176 2 50 v 480 1176 V 649 1176 V 819
1176 V 1019 1176 V 1045 1161 a Fp(Send)f(return)g(v)o(alue)p
1429 1176 V 118 w(Read)p 1599 1176 V 84 w(4)p 1768 1176
V 149 w(0)p 1968 1176 V 71 1178 1899 2 v 70 1228 2 50
v 1019 1228 V 1045 1213 a Fq(Event:)p 1968 1228 V 71
1229 1899 2 v 70 1329 2 100 v 480 1329 V 649 1329 V 819
1329 V 1019 1329 V 1045 1264 a Fp(Send)21 b(null-terminated)1045
1314 y(client)9 b(name)j(string)p 1429 1329 V 1455 1264
a(Ev)o(ent)p 1599 1329 V 73 w(?)p 1768 1329 V 152 w(Name)p
1968 1329 V 71 1331 1899 2 v 70 1381 2 50 v 480 1381
V 649 1381 V 819 1381 V 1019 1381 V 1045 1366 a(Send)e(placeholder)p
1429 1381 V 123 w(Ev)o(ent)p 1599 1381 V 73 w(4)p 1768
1381 V 149 w(0)p 1968 1381 V 71 1382 1899 2 v 70 1432
2 50 v 480 1432 V 649 1432 V 819 1432 V 1019 1432 V 1045
1417 a(Send)g(operation)f(ID)p 1429 1432 V 106 w(Ev)o(ent)p
1599 1432 V 73 w(4)p 1768 1432 V 149 w(10)p 1968 1432
V 71 1434 1899 2 v 70 1484 2 50 v 480 1484 V 649 1484
V 819 1484 V 1019 1484 V 1045 1469 a(Send)h(ke)o(y)g(ID)p
1429 1484 V 204 w(Ev)o(ent)p 1599 1484 V 73 w(4)p 1768
1484 V 149 w(0)g(or)g(517)p 1968 1484 V 71 1485 1899
2 v 70 1585 2 100 v 480 1585 V 649 1585 V 819 1585 V
1019 1585 V 1045 1520 a(Send)24 b(e)o(v)o(ent)g(message)1045
1570 y(size)p 1429 1585 V 1455 1520 a(Ev)o(ent)p 1599
1585 V 73 w(4)p 1768 1585 V 149 w(Msize)p 1968 1585 V
71 1586 1899 2 v 70 1636 2 50 v 480 1636 V 649 1636 V
819 1636 V 1019 1636 V 1045 1621 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1636 V 79 w(Ev)o(ent)p 1599 1636 V 73 w(Msize)p
1768 1636 V 69 w(Message)p 1968 1636 V 71 1638 1899 2
v 952 2840 a Fo(35)p eop
%%Page: 36 36
36 35 bop 0 95 a Fk(5.24)50 b(Unsubscribe)12 b(Event)0
183 y Fo(The)f(unsubscribe)e(e)o(v)o(ent)i(operation)e(requests)h(that)
g(HBS)i(stop)e(sending)f(e)o(v)o(ents)h(to)h(this)e(client)i(whene)o(v)
o(er)f(an)h(operation)0 239 y(of)h(the)f(supplied)f(ID)i(is)g
(successfully)e(completed)h(by)h(an)o(y)g(client.)17
b(The)12 b(\252ke)o(y\272)g(should)e(be)i(0)g(in)f(all)h(cases)g(e)o
(xcept)g(when)0 296 y(e)o(v)o(ents)f(are)h(desired)e(on)h(only)f(the)h
(data)g(\256eld)g(of)h(nodes,)e(in)h(which)g(case)g(517)g(can)g(be)g
(supplied)f(instead.)p 71 361 1899 2 v 70 411 2 50 v
852 396 a Fq(Unsubscribe)i(Event)p 1968 411 V 71 413
1899 2 v 70 462 2 50 v 451 447 a Fp(ECS)f(Client)p 1019
462 V 1019 462 V 754 w(HBS)f(Serv)o(er)p 1968 462 V 71
464 1899 2 v 70 564 2 100 v 95 499 a(Action)p 480 564
V 296 w(Socket)p 649 564 V 57 w(Length)675 549 y(\(Bytes\))p
819 564 V 845 499 a(V)-5 b(alue)p 1019 564 V 106 w(Action)p
1429 564 V 296 w(Socket)p 1599 564 V 56 w(Length)1624
549 y(\(Bytes\))p 1768 564 V 1794 499 a(V)g(alue)p 1968
564 V 71 565 1899 2 v 70 615 2 50 v 95 600 a Fq(Request:)p
1019 615 V 1968 615 V 71 617 1899 2 v 70 716 2 100 v
95 652 a Fp(Send)79 b(unsubscribe)95 701 y(e)o(v)o(ent)p
480 716 V 505 652 a(Write)p 649 716 V 75 w(4)p 819 716
V 149 w(11)p 1019 716 V 1429 716 V 1599 716 V 1768 716
V 1968 716 V 71 718 1899 2 v 70 768 2 50 v 95 753 a(Send)11
b(inte)o(ger)p 480 768 V 201 w(Write)p 649 768 V 75 w(4)p
819 768 V 149 w(0)p 1019 768 V 1429 768 V 1599 768 V
1768 768 V 1968 768 V 71 770 1899 2 v 70 869 2 100 v
95 804 a(Send)g(Operation)e(ID)p 480 869 V 96 w(Write)p
649 869 V 75 w(4)p 819 869 V 149 w(Operation)845 854
y(ID)p 1019 869 V 1429 869 V 1599 869 V 1768 869 V 1968
869 V 71 871 1899 2 v 70 921 2 50 v 95 906 a(Send)i(K)o(e)o(y)g(ID)p
480 921 V 194 w(Write)p 649 921 V 75 w(4)p 819 921 V
149 w(0)f(or)g(517)p 1019 921 V 1429 921 V 1599 921 V
1768 921 V 1968 921 V 71 922 1899 2 v 70 1022 2 100 v
95 957 a(Send)25 b(e)o(v)o(ent)f(message)95 1007 y(size)p
480 1022 V 505 957 a(Write)p 649 1022 V 75 w(4)p 819
1022 V 149 w(Msize)p 1019 1022 V 1429 1022 V 1599 1022
V 1768 1022 V 1968 1022 V 71 1024 1899 2 v 70 1073 2
50 v 95 1058 a(Send)11 b(e)o(v)o(ent)g(message)p 480
1073 V 78 w(Write)p 649 1073 V 75 w(Msize)p 819 1073
V 69 w(Message)p 1019 1073 V 1429 1073 V 1599 1073 V
1768 1073 V 1968 1073 V 71 1075 1899 2 v 70 1125 2 50
v 1019 1125 V 1045 1110 a Fq(Reply:)p 1968 1125 V 71
1127 1899 2 v 70 1176 2 50 v 480 1176 V 649 1176 V 819
1176 V 1019 1176 V 1045 1161 a Fp(Send)f(return)g(v)o(alue)p
1429 1176 V 118 w(Read)p 1599 1176 V 84 w(4)p 1768 1176
V 149 w(0)p 1968 1176 V 71 1178 1899 2 v 70 1228 2 50
v 1019 1228 V 1045 1213 a Fq(Event:)p 1968 1228 V 71
1229 1899 2 v 70 1329 2 100 v 480 1329 V 649 1329 V 819
1329 V 1019 1329 V 1045 1264 a Fp(Send)21 b(null-terminated)1045
1314 y(client)9 b(name)j(string)p 1429 1329 V 1455 1264
a(Ev)o(ent)p 1599 1329 V 73 w(?)p 1768 1329 V 152 w(Name)p
1968 1329 V 71 1331 1899 2 v 70 1381 2 50 v 480 1381
V 649 1381 V 819 1381 V 1019 1381 V 1045 1366 a(Send)e(placeholder)p
1429 1381 V 123 w(Ev)o(ent)p 1599 1381 V 73 w(4)p 1768
1381 V 149 w(0)p 1968 1381 V 71 1382 1899 2 v 70 1432
2 50 v 480 1432 V 649 1432 V 819 1432 V 1019 1432 V 1045
1417 a(Send)g(operation)f(ID)p 1429 1432 V 106 w(Ev)o(ent)p
1599 1432 V 73 w(4)p 1768 1432 V 149 w(11)p 1968 1432
V 71 1434 1899 2 v 70 1484 2 50 v 480 1484 V 649 1484
V 819 1484 V 1019 1484 V 1045 1469 a(Send)h(ke)o(y)p
1429 1484 V 258 w(Ev)o(ent)p 1599 1484 V 73 w(4)p 1768
1484 V 149 w(0)g(or)g(517)p 1968 1484 V 71 1485 1899
2 v 70 1585 2 100 v 480 1585 V 649 1585 V 819 1585 V
1019 1585 V 1045 1520 a(Send)24 b(e)o(v)o(ent)g(message)1045
1570 y(size)p 1429 1585 V 1455 1520 a(Ev)o(ent)p 1599
1585 V 73 w(4)p 1768 1585 V 149 w(Msize)p 1968 1585 V
71 1586 1899 2 v 70 1636 2 50 v 480 1636 V 649 1636 V
819 1636 V 1019 1636 V 1045 1621 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1636 V 79 w(Ev)o(ent)p 1599 1636 V 73 w(Msize)p
1768 1636 V 69 w(Message)p 1968 1636 V 71 1638 1899 2
v 952 2840 a Fo(36)p eop
%%Page: 37 37
37 36 bop 0 95 a Fk(5.25)50 b(Show)11 b(Clients)0 183
y Fo(The)j(sho)o(w)f(clients)g(operation)g(requests)g(that)g(HBS)i
(returns)e(a)i(sequence)e(of)i(null-terminated)d(strings)g(containing)h
(all)0 239 y(currently)d(connected)h(client)f(names.)17
b(The)11 b(number)h(of)f(strings)e(to)i(be)g(sent)g(precedes)g(the)g
(strings.)p 71 305 1899 2 v 70 354 2 50 v 904 339 a Fq(Show)f(Clients)p
1968 354 V 71 356 1899 2 v 70 406 2 50 v 451 391 a Fp(ECS)h(Client)p
1019 406 V 1019 406 V 754 w(HBS)f(Serv)o(er)p 1968 406
V 71 408 1899 2 v 70 507 2 100 v 95 442 a(Action)p 480
507 V 296 w(Socket)p 649 507 V 57 w(Length)675 492 y(\(Bytes\))p
819 507 V 845 442 a(V)-5 b(alue)p 1019 507 V 106 w(Action)p
1429 507 V 296 w(Socket)p 1599 507 V 56 w(Length)1624
492 y(\(Bytes\))p 1768 507 V 1794 442 a(V)g(alue)p 1968
507 V 71 509 1899 2 v 70 559 2 50 v 95 544 a Fq(Request:)p
1019 559 V 1968 559 V 71 560 1899 2 v 70 660 2 100 v
95 595 a Fp(Send)33 b(Sho)o(w)g(Clients)95 645 y(Operation)10
b(ID)p 480 660 V 505 595 a(Write)p 649 660 V 75 w(4)p
819 660 V 149 w(20)p 1019 660 V 1429 660 V 1599 660 V
1768 660 V 1968 660 V 71 662 1899 2 v 70 761 2 100 v
95 696 a(Send)25 b(e)o(v)o(ent)f(message)95 746 y(size)p
480 761 V 505 696 a(Write)p 649 761 V 75 w(4)p 819 761
V 149 w(Msize)p 1019 761 V 1429 761 V 1599 761 V 1768
761 V 1968 761 V 71 763 1899 2 v 70 813 2 50 v 95 798
a(Send)11 b(e)o(v)o(ent)g(message)p 480 813 V 78 w(Write)p
649 813 V 75 w(Msize)p 819 813 V 69 w(Message)p 1019
813 V 1429 813 V 1599 813 V 1768 813 V 1968 813 V 71
814 1899 2 v 70 864 2 50 v 1019 864 V 1045 849 a Fq(Reply:)p
1968 864 V 71 866 1899 2 v 70 916 2 50 v 480 916 V 649
916 V 819 916 V 1019 916 V 1045 901 a Fp(Send)f(return)g(v)o(alue)p
1429 916 V 118 w(Read)p 1599 916 V 84 w(4)p 1768 916
V 149 w(0)p 1968 916 V 71 917 1899 2 v 70 1017 2 100
v 480 1017 V 649 1017 V 819 1017 V 1019 1017 V 1045 952
a(Send)21 b(null-terminated)1045 1002 y(client)9 b(strings)p
1429 1017 V 1455 952 a(Read)p 1599 1017 V 84 w(4)p 1768
1017 V 149 w(Num)1794 1002 y(clients)p 1968 1017 V 71
1019 1899 2 v 70 1118 2 100 v 480 1118 V 649 1118 V 819
1118 V 1019 1118 V 1045 1053 a(Send)h(client)g(strings)p
1429 1118 V 102 w(Read)p 1599 1118 V 84 w(?)p 1768 1118
V 152 w(Client)1794 1103 y(strings)p 1968 1118 V 71 1120
1899 2 v 70 1170 2 50 v 1019 1170 V 1045 1155 a Fq(Event:)p
1968 1170 V 71 1171 1899 2 v 70 1271 2 100 v 480 1271
V 649 1271 V 819 1271 V 1019 1271 V 1045 1206 a Fp(Send)21
b(null-terminated)1045 1256 y(client)9 b(name)j(string)p
1429 1271 V 1455 1206 a(Ev)o(ent)p 1599 1271 V 73 w(?)p
1768 1271 V 152 w(Name)p 1968 1271 V 71 1273 1899 2 v
70 1322 2 50 v 480 1322 V 649 1322 V 819 1322 V 1019
1322 V 1045 1308 a(Send)e(placeholder)p 1429 1322 V 123
w(Ev)o(ent)p 1599 1322 V 73 w(4)p 1768 1322 V 149 w(0)p
1968 1322 V 71 1324 1899 2 v 70 1374 2 50 v 480 1374
V 649 1374 V 819 1374 V 1019 1374 V 1045 1359 a(Send)g(operation)f(ID)p
1429 1374 V 106 w(Ev)o(ent)p 1599 1374 V 73 w(4)p 1768
1374 V 149 w(20)p 1968 1374 V 71 1376 1899 2 v 70 1425
2 50 v 480 1425 V 649 1425 V 819 1425 V 1019 1425 V 1045
1410 a(Send)h(placeholder)p 1429 1425 V 123 w(Ev)o(ent)p
1599 1425 V 73 w(4)p 1768 1425 V 149 w(0)p 1968 1425
V 71 1427 1899 2 v 70 1527 2 100 v 480 1527 V 649 1527
V 819 1527 V 1019 1527 V 1045 1462 a(Send)24 b(e)o(v)o(ent)g(message)
1045 1512 y(size)p 1429 1527 V 1455 1462 a(Ev)o(ent)p
1599 1527 V 73 w(4)p 1768 1527 V 149 w(Msize)p 1968 1527
V 71 1528 1899 2 v 70 1578 2 50 v 480 1578 V 649 1578
V 819 1578 V 1019 1578 V 1045 1563 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1578 V 79 w(Ev)o(ent)p 1599 1578 V 73 w(Msize)p
1768 1578 V 69 w(Message)p 1968 1578 V 71 1580 1899 2
v 952 2840 a Fo(37)p eop
%%Page: 38 38
38 37 bop 0 95 a Fk(5.26)50 b(Ignor)o(e)13 b(Non-Gagent)d(Clients)0
183 y Fo(The)e(Ignore)g(Non-Gagent)f(Clients)h(operation)f(tells)g(the)
h(HBS)h(to)f(disable)f(\(i.e.)16 b(queue)9 b(up\))f(processing)f(of)h
(an)o(y)g(operation)0 239 y(requests)j(by)h(clients)f(other)g(than)h
(the)g(Gagent.)18 b(\(This)11 b(operation)g(is)h(used)f(to)h(enable)g
(the)f(Gagent)h(to)f(perform)i(backups)0 296 y(of)f(the)g(*.hb)g
(\256les)h(will)e(other)h(clients)f(are)i(connected.\))20
b(Once)12 b(this)f(operation)g(has)h(been)h(in)n(v)o(oked,)e(only)g
(the)h(Gagent')m(s)0 352 y(operation)k(requests)g(will)g(be)h
(processed)f(until)g(the)g(Allo)o(w)g(Non-Gagent)g(Client)g(operation)g
(has)h(been)g(sent)f(by)g(the)0 408 y(Gagent.)p 71 474
1899 2 v 70 524 2 50 v 780 509 a Fq(Ignor)o(e)c(Non-Gagent)e(Clients)p
1968 524 V 71 525 1899 2 v 70 575 2 50 v 451 560 a Fp(ECS)h(Client)p
1019 575 V 1019 575 V 754 w(HBS)f(Serv)o(er)p 1968 575
V 71 577 1899 2 v 70 677 2 100 v 95 612 a(Action)p 480
677 V 296 w(Socket)p 649 677 V 57 w(Length)675 662 y(\(Bytes\))p
819 677 V 845 612 a(V)-5 b(alue)p 1019 677 V 106 w(Action)p
1429 677 V 296 w(Socket)p 1599 677 V 56 w(Length)1624
662 y(\(Bytes\))p 1768 677 V 1794 612 a(V)g(alue)p 1968
677 V 71 678 1899 2 v 70 728 2 50 v 95 713 a Fq(Request:)p
1019 728 V 1968 728 V 71 730 1899 2 v 70 829 2 100 v
95 765 a Fp(Send)42 b(Ignore)f(Non-)95 814 y(Gagent)11
b(Operation)e(ID)p 480 829 V 505 765 a(Write)p 649 829
V 75 w(4)p 819 829 V 149 w(35)p 1019 829 V 1429 829 V
1599 829 V 1768 829 V 1968 829 V 71 831 1899 2 v 70 931
2 100 v 95 866 a(Send)25 b(e)o(v)o(ent)f(message)95 916
y(size)p 480 931 V 505 866 a(Write)p 649 931 V 75 w(4)p
819 931 V 149 w(Msize)p 1019 931 V 1429 931 V 1599 931
V 1768 931 V 1968 931 V 71 932 1899 2 v 70 982 2 50 v
95 967 a(Send)11 b(e)o(v)o(ent)g(message)p 480 982 V
78 w(Write)p 649 982 V 75 w(Msize)p 819 982 V 69 w(Message)p
1019 982 V 1429 982 V 1599 982 V 1768 982 V 1968 982
V 71 984 1899 2 v 70 1034 2 50 v 1019 1034 V 1045 1019
a Fq(Reply:)p 1968 1034 V 71 1035 1899 2 v 70 1085 2
50 v 480 1085 V 649 1085 V 819 1085 V 1019 1085 V 1045
1070 a Fp(Send)f(return)g(v)o(alue)p 1429 1085 V 118
w(Read)p 1599 1085 V 84 w(4)p 1768 1085 V 149 w(0)p 1968
1085 V 71 1087 1899 2 v 70 1136 2 50 v 1019 1136 V 1045
1122 a Fq(Event:)p 1968 1136 V 71 1138 1899 2 v 70 1238
2 100 v 480 1238 V 649 1238 V 819 1238 V 1019 1238 V
1045 1173 a Fp(Send)21 b(null-terminated)1045 1223 y(client)9
b(name)j(string)p 1429 1238 V 1455 1173 a(Ev)o(ent)p
1599 1238 V 73 w(?)p 1768 1238 V 152 w(Name)p 1968 1238
V 71 1239 1899 2 v 70 1289 2 50 v 480 1289 V 649 1289
V 819 1289 V 1019 1289 V 1045 1274 a(Send)e(placeholder)p
1429 1289 V 123 w(Ev)o(ent)p 1599 1289 V 73 w(4)p 1768
1289 V 149 w(0)p 1968 1289 V 71 1291 1899 2 v 70 1341
2 50 v 480 1341 V 649 1341 V 819 1341 V 1019 1341 V 1045
1326 a(Send)g(operation)f(ID)p 1429 1341 V 106 w(Ev)o(ent)p
1599 1341 V 73 w(4)p 1768 1341 V 149 w(35)p 1968 1341
V 71 1342 1899 2 v 70 1392 2 50 v 480 1392 V 649 1392
V 819 1392 V 1019 1392 V 1045 1377 a(Send)h(placeholder)p
1429 1392 V 123 w(Ev)o(ent)p 1599 1392 V 73 w(4)p 1768
1392 V 149 w(0)p 1968 1392 V 71 1394 1899 2 v 70 1493
2 100 v 480 1493 V 649 1493 V 819 1493 V 1019 1493 V
1045 1429 a(Send)24 b(e)o(v)o(ent)g(message)1045 1479
y(size)p 1429 1493 V 1455 1429 a(Ev)o(ent)p 1599 1493
V 73 w(4)p 1768 1493 V 149 w(Msize)p 1968 1493 V 71 1495
1899 2 v 70 1545 2 50 v 480 1545 V 649 1545 V 819 1545
V 1019 1545 V 1045 1530 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1545 V 79 w(Ev)o(ent)p 1599 1545 V 73 w(Msize)p
1768 1545 V 69 w(Message)p 1968 1545 V 71 1547 1899 2
v 952 2840 a Fo(38)p eop
%%Page: 39 39
39 38 bop 0 95 a Fk(5.27)50 b(Allow)11 b(Non-Gagent)g(Clients)0
183 y Fo(The)k(Allo)o(w)f(Non-Gagent)h(Clients)f(operation)h(tells)f
(the)h(HBS)h(to)f(re-enable)h(processing)e(of)i(operation)e(requests)h
(by)0 239 y(all)e(clients)f(that)g(had)h(been)g(pre)o(viously)e
(disabled)g(by)i(a)g(call)g(to)g(Ignore)g(Non-Gagent)f(Clients.)21
b(Only)12 b(the)g(Gagent)h(can)0 296 y(successfully)i(in)n(v)o(oke)g
(this)g(operation,)i(since)f(it)g(is)g(the)h(only)e(client)h(for)g
(which)g(the)g(HBS)h(is)f(processing)f(operation)0 352
y(requests)10 b(when)h(this)f(command)i(is)e(issued)g(under)h(normal)g
(circumstances.)p 71 417 1899 2 v 70 467 2 50 v 787 452
a Fq(Allow)e(Non-Gagent)h(Clients)p 1968 467 V 71 469
1899 2 v 70 519 2 50 v 451 504 a Fp(ECS)h(Client)p 1019
519 V 1019 519 V 754 w(HBS)f(Serv)o(er)p 1968 519 V 71
520 1899 2 v 70 620 2 100 v 95 555 a(Action)p 480 620
V 296 w(Socket)p 649 620 V 57 w(Length)675 605 y(\(Bytes\))p
819 620 V 845 555 a(V)-5 b(alue)p 1019 620 V 106 w(Action)p
1429 620 V 296 w(Socket)p 1599 620 V 56 w(Length)1624
605 y(\(Bytes\))p 1768 620 V 1794 555 a(V)g(alue)p 1968
620 V 71 622 1899 2 v 70 671 2 50 v 95 657 a Fq(Request:)p
1019 671 V 1968 671 V 71 673 1899 2 v 70 773 2 100 v
95 708 a Fp(Send)45 b(Allo)o(w)e(Non-)95 758 y(Gagent)11
b(Operation)e(ID)p 480 773 V 505 708 a(Write)p 649 773
V 75 w(4)p 819 773 V 149 w(36)p 1019 773 V 1429 773 V
1599 773 V 1768 773 V 1968 773 V 71 774 1899 2 v 70 874
2 100 v 95 809 a(Send)25 b(e)o(v)o(ent)f(message)95 859
y(size)p 480 874 V 505 809 a(Write)p 649 874 V 75 w(4)p
819 874 V 149 w(Msize)p 1019 874 V 1429 874 V 1599 874
V 1768 874 V 1968 874 V 71 876 1899 2 v 70 926 2 50 v
95 911 a(Send)11 b(e)o(v)o(ent)g(message)p 480 926 V
78 w(Write)p 649 926 V 75 w(Msize)p 819 926 V 69 w(Message)p
1019 926 V 1429 926 V 1599 926 V 1768 926 V 1968 926
V 71 927 1899 2 v 70 977 2 50 v 1019 977 V 1045 962 a
Fq(Reply:)p 1968 977 V 71 979 1899 2 v 70 1028 2 50 v
480 1028 V 649 1028 V 819 1028 V 1019 1028 V 1045 1014
a Fp(Send)f(return)g(v)o(alue)p 1429 1028 V 118 w(Read)p
1599 1028 V 84 w(4)p 1768 1028 V 149 w(0)p 1968 1028
V 71 1030 1899 2 v 70 1080 2 50 v 1019 1080 V 1045 1065
a Fq(Event:)p 1968 1080 V 71 1082 1899 2 v 70 1181 2
100 v 480 1181 V 649 1181 V 819 1181 V 1019 1181 V 1045
1116 a Fp(Send)21 b(null-terminated)1045 1166 y(client)9
b(name)j(string)p 1429 1181 V 1455 1116 a(Ev)o(ent)p
1599 1181 V 73 w(?)p 1768 1181 V 152 w(Name)p 1968 1181
V 71 1183 1899 2 v 70 1233 2 50 v 480 1233 V 649 1233
V 819 1233 V 1019 1233 V 1045 1218 a(Send)e(placeholder)p
1429 1233 V 123 w(Ev)o(ent)p 1599 1233 V 73 w(4)p 1768
1233 V 149 w(0)p 1968 1233 V 71 1234 1899 2 v 70 1284
2 50 v 480 1284 V 649 1284 V 819 1284 V 1019 1284 V 1045
1269 a(Send)g(operation)f(ID)p 1429 1284 V 106 w(Ev)o(ent)p
1599 1284 V 73 w(4)p 1768 1284 V 149 w(36)p 1968 1284
V 71 1286 1899 2 v 70 1336 2 50 v 480 1336 V 649 1336
V 819 1336 V 1019 1336 V 1045 1321 a(Send)h(placeholder)p
1429 1336 V 123 w(Ev)o(ent)p 1599 1336 V 73 w(4)p 1768
1336 V 149 w(0)p 1968 1336 V 71 1337 1899 2 v 70 1437
2 100 v 480 1437 V 649 1437 V 819 1437 V 1019 1437 V
1045 1372 a(Send)24 b(e)o(v)o(ent)g(message)1045 1422
y(size)p 1429 1437 V 1455 1372 a(Ev)o(ent)p 1599 1437
V 73 w(4)p 1768 1437 V 149 w(Msize)p 1968 1437 V 71 1439
1899 2 v 70 1488 2 50 v 480 1488 V 649 1488 V 819 1488
V 1019 1488 V 1045 1473 a(Send)10 b(e)o(v)o(ent)h(message)p
1429 1488 V 79 w(Ev)o(ent)p 1599 1488 V 73 w(Msize)p
1768 1488 V 69 w(Message)p 1968 1488 V 71 1490 1899 2
v 952 2840 a Fo(39)p eop
%%Page: 40 40
40 39 bop 0 95 a Fk(5.28)50 b(Shutdown)0 183 y Fo(The)12
b(shutdo)o(wn)e(operation)h(tells)g(the)h(HBS)g(to)g(terminate)g(e)o(x)
o(ecution.)19 b(This)11 b(operation)g(will)g(only)g(succeed)h(when)g
(only)0 239 y(one)f(client)f(is)h(currently)g(connected.)16
b(Thus,)10 b(under)h(normal)g(circumstances)g(only)f(the)h(Gagent)g(in)
n(v)o(okes)e(the)i(shutdo)o(wn)0 296 y(operation.)p 71
361 1839 2 v 70 411 2 50 v 900 396 a Fq(Shutdown)p 1908
411 V 71 412 1839 2 v 70 462 2 50 v 436 447 a Fp(ECS)g(Client)p
989 462 V 989 462 V 724 w(HBS)f(Serv)o(er)p 1908 462
V 71 464 1839 2 v 70 564 2 100 v 95 499 a(Action)p 480
564 V 296 w(Socket)p 649 564 V 57 w(Length)675 549 y(\(Bytes\))p
819 564 V 845 499 a(V)-5 b(alue)p 989 564 V 76 w(Action)p
1399 564 V 296 w(Socket)p 1569 564 V 56 w(Length)1594
549 y(\(Bytes\))p 1738 564 V 1764 499 a(V)g(alue)p 1908
564 V 71 565 1839 2 v 70 615 2 50 v 95 600 a Fq(Request:)p
989 615 V 1908 615 V 71 617 1839 2 v 70 716 2 100 v 95
652 a Fp(Send)7 b(Shutdo)o(wn)g(Oper)o(-)95 701 y(ation)j(ID)p
480 716 V 505 652 a(Write)p 649 716 V 75 w(4)p 819 716
V 149 w(19)p 989 716 V 1399 716 V 1569 716 V 1738 716
V 1908 716 V 71 718 1839 2 v 70 768 2 50 v 989 768 V
1015 753 a Fq(Reply:)p 1908 768 V 71 769 1839 2 v 70
819 2 50 v 480 819 V 649 819 V 819 819 V 989 819 V 1015
804 a Fp(Send)g(return)g(v)o(alue)p 1399 819 V 118 w(Read)p
1569 819 V 84 w(4)p 1738 819 V 149 w(0)p 1908 819 V 71
821 1839 2 v 71 905 a Fo(A)h(error)g(return)g(v)o(alue)g(of)g(-110)g
(is)g(sent)f(when)h(more)h(than)e(one)h(client)g(is)f(connected.)952
2840 y(40)p eop
%%Page: 41 41
41 40 bop 0 95 a Fn(A)60 b(Retur)o(n)15 b(V)-5 b(alue)13
b(T)-5 b(able)p 0 149 2046 2 v -1 199 2 50 v 896 184
a Fq(Retur)o(n)12 b(V)l(alues)p 2044 199 V 0 201 2046
2 v -1 251 2 50 v 25 236 a Fc(Return)e(V)-5 b(alue)p
265 251 V 50 w(Meaning)p 1195 251 V 782 w Fp(Operations)p
2044 251 V 0 252 2046 2 v -1 302 2 50 v 84 287 a(-9999)p
265 302 V 108 w(Socket)10 b(Error)p 1195 302 V 720 w(16)p
2044 302 V 0 304 2046 2 v -1 354 2 50 v 95 339 a(-205)p
265 354 V 118 w(Wrong)g(length)p 1195 354 V 700 w(2,21,28,29,34)p
2044 354 V 0 355 2046 2 v -1 405 2 50 v 95 390 a(-204)p
265 405 V 118 w(There)i(are)f(still)d(pointers)h(to)h(entity-ID)p
1195 405 V 349 w(6,31)p 2044 405 V 0 407 2046 2 v -1
456 2 50 v 95 442 a(-203)p 265 456 V 118 w(Unable)h(to)e(write)h(links)
p 1195 456 V 580 w(6,25,31,32,33)p 2044 456 V 0 458 2046
2 v -1 508 2 50 v 95 493 a(-202)p 265 508 V 118 w(Node-ID)g(not)g
(found)p 1195 508 V 611 w(1,2,21,28*,29*,34)p 2044 508
V 0 510 2046 2 v -1 559 2 50 v 95 544 a(-201)p 265 559
V 118 w(Could)f(not)h(open/close)g(node-ID)p 1195 559
V 428 w(6,25,31,32,33)p 2044 559 V 0 561 2046 2 v -1
611 2 50 v 95 596 a(-110)p 265 611 V 118 w(Shutdo)o(wn)f(request)h
(denied:)k(multiple)9 b(clients)h(connected)p 1195 611
V 50 w(19)p 2044 611 V 0 613 2046 2 v -1 662 2 50 v 95
647 a(-103)p 265 662 V 118 w(Maximum)h(number)f(users)h(connected)p
1195 662 V 346 w(16)p 2044 662 V 0 664 2046 2 v -1 714
2 50 v 95 699 a(-102)p 265 714 V 118 w(Wrong)f(db-ID)p
1195 714 V 705 w(16)p 2044 714 V 0 715 2046 2 v -1 765
2 50 v 95 750 a(-101)p 265 765 V 118 w(Client)f(already)i(connected)p
1195 765 V 518 w(16)p 2044 765 V 0 767 2046 2 v -1 817
2 50 v 95 802 a(-100)p 265 817 V 118 w(User)g(not)f(found)p
1195 817 V 680 w(37)p 2044 817 V 0 818 2046 2 v -1 868
2 50 v 115 853 a(-1)p 265 868 V 140 w(Lo)o(w)h(le)o(v)o(el)f(failure)p
1195 868 V 647 w(1,2,6,21,25,28,29,31,32,33,34)p 2044
868 V 0 870 2046 2 v -1 920 2 50 v 122 905 a(0)p 265
920 V 147 w(Okay)p 1195 920 V 841 w(All)p 2044 920 V
0 921 2046 2 v -1 971 2 50 v 122 956 a(1)p 265 971 V
147 w(Lo)o(w)h(le)o(v)o(el)f(failure)p 1195 971 V 647
w(1,2,6,21,25,28,29,31,32,33,34)p 2044 971 V 0 973 2046
2 v -1 1023 2 50 v 102 1008 a(208)p 265 1023 V 125 w(Direct)g(write)g
(not)g(allo)o(wed)p 1195 1023 V 2044 1023 V 0 1024 2046
2 v -1 1074 2 50 v 102 1059 a(207)p 265 1074 V 125 w(Link)g(not)g
(found)p 1195 1074 V 680 w(1,31)p 2044 1074 V 0 1076
2046 2 v -1 1126 2 50 v 102 1111 a(206)p 265 1126 V 125
w(Can')o(t)g(use)h(data)f(ke)o(ys)h(in)f(link)f(node)p
1195 1126 V 2044 1126 V 0 1127 2046 2 v -1 1177 2 50
v 102 1162 a(205)p 265 1177 V 125 w(Can')o(t)h(use)h(link)e(ke)o(ys)h
(in)g(data)h(node)p 1195 1177 V 2044 1177 V 0 1179 2046
2 v -1 1229 2 50 v 102 1214 a(204)p 265 1229 V 125 w(Wrong)f(ar)o
(guments)h(in)e(call)p 1195 1229 V 520 w(25,32,33)p 2044
1229 V 0 1230 2046 2 v -1 1280 2 50 v 102 1265 a(203)p
265 1280 V 125 w(Unable)i(to)e(open)h(entity-ID)p 1195
1280 V 513 w(1,2,6,21,25,28*,29*,31,32,33,34)p 2044 1280
V 0 1282 2046 2 v -1 1332 2 50 v 102 1317 a(202)p 265
1332 V 125 w(Pointed)g(entity-ID)e(not)i(found)p 1195
1332 V 469 w(6,31)p 2044 1332 V 0 1333 2046 2 v -1 1383
2 50 v 102 1368 a(201)p 265 1383 V 125 w(ke)o(y)h(not)e(recognized)p
1195 1383 V 616 w(1,2,21,28*,29*,32*,33*,34)p 2044 1383
V 0 1385 2046 2 v -1 1434 2 50 v 102 1420 a(301)p 265
1434 V 125 w(No)h(e)o(v)o(ent)p 1195 1434 V 2044 1434
V 0 1436 2046 2 v -1 1486 2 50 v 102 1471 a(302)p 265
1486 V 125 w(No)g(send)h(e)o(v)o(ent)p 1195 1486 V 2044
1486 V 0 1488 2046 2 v -1 1537 2 50 v 102 1522 a(350)p
265 1537 V 125 w(Locked)p 1195 1537 V 807 w
(2,6,13,21,25*,28*,29*,32*,33*,34)p 2044 1537 V 0 1539
2046 2 v -1 1589 2 50 v 102 1574 a(351)p 265 1589 V 125
w(Locked)g(by)f(other)p 1195 1589 V 658 w(1,14)p 2044
1589 V 0 1591 2046 2 v -1 1640 2 50 v 102 1625 a(352)p
265 1640 V 125 w(Not)g(locked)p 1195 1640 V 747 w(14,15,34)p
2044 1640 V 0 1642 2046 2 v -1 1692 2 50 v 102 1677 a(353)p
265 1692 V 125 w(Not)g(all)g(nodes)p 1195 1692 V 709
w(13*,15*,29*,33*)p 2044 1692 V 0 1693 2046 2 v -1 1743
2 50 v 102 1728 a(354)p 265 1743 V 125 w(Wrong)g(Node)g(ID)p
1195 1743 V 661 w(1,2,10,11,13,14,15,21,25,29*,32*,33*,34)p
2044 1743 V 0 1745 2046 2 v -1 1795 2 50 v 102 1780 a(355)p
265 1795 V 125 w(Wrong)g(Operation)f(ID)p 1195 1795 V
585 w(10,11)p 2044 1795 V 0 1796 2046 2 v -1 1846 2 50
v 102 1831 a(356)p 265 1846 V 125 w(In)n(v)o(alid)h(K)o(e)o(y)g(Number)
p 1195 1846 V 592 w(1*,2*,13*,14*,15*,21*,25*,28*,29*,32*,33,34)o(*)p
2044 1846 V 0 1848 2046 2 v -1 1898 2 50 v 102 1883 a(357)p
265 1898 V 125 w(In)n(v)o(alid)g(Lock)g(K)o(e)o(y)p 1195
1898 V 643 w(1*,2*,13*,14*,15*,21*,25*,28*,29*,32*,33,34)o(*)p
2044 1898 V 0 1899 2046 2 v 0 1917 a Fb(\003)p 0 2661
780 2 v 49 2688 a Fa(\003)67 2704 y Fg(These)g(operations)g(can)g
(return)i(these)f(error)h(codes)d(b)o(ut)j(ECS)f(correctly)g(calls)g
(these)f(operations)g(so)h(ECS)g(should)f(ne)o(v)o(er)h(get)g(these)g
(return)0 2750 y(v)o(alues.)952 2840 y Fo(41)p eop
%%Page: 42 42
42 41 bop 0 95 a Fn(Refer)o(ences)0 199 y Fo([1])23 b(T)l(om)11
b(Car)o(gill.)16 b Fi(C++)c(Pr)n(ogr)o(amming)c(Style)p
Fo(.)16 b(Addison-W)l(esle)o(y)9 b(Publishing)g(Compan)o(y)m(,)j(1992.)
0 293 y([2])23 b(James)d(O.)g(Coplien.)38 b Fi(Advanced)19
b(C++)g(Pr)n(ogr)o(amming)e(Styles)i(and)g(Idioms)p Fo(.)38
b(Addison-W)l(esle)o(y)18 b(Publishing)76 349 y(Compan)o(y)m(,)12
b(1992.)0 443 y([3])23 b(Mats)10 b(Henricson)f(and)h(Erik)f(Nyquist.)k
(Programming)d(in)f(C++,)i(rules)e(and)h(recommendations.)k(T)m
(echnical)9 b(Report)76 500 y(M)i(90)g(0118)f(Uen,)h(Ellemtel)f
(Corporation,)h(Ellemtel)f(T)m(elecommunications)f(Systems)i
(Laboratories,)f(Box)h(1505,)76 556 y(125)f(25)221 546
y(\310)212 556 y(Alvsj)t(\310)-19 b(o,)10 b(Sweden,)i(1992.)0
650 y([4])23 b(Uf)o(fe)12 b(K.)g(W)n(iil.)17 b(Experiences)11
b(with)g(hyperbase:)16 b(A)c(hyperte)o(xt)f(database)g(supporting)f
(collaborati)o(v)o(e)g(work.)17 b(T)m(ech-)76 706 y(nical)g(report,)i
(Department)e(of)h(Mathematics)f(and)h(Computer)f(Science,)j(Uni)o(v)o
(ersity)c(of)h(Aalbor)o(g,)i(Denmark.,)76 763 y(1990.)0
857 y([5])k(Uf)o(fe)12 b(K.)g(W)n(iil.)17 b(Issues)11
b(in)g(the)h(design)f(of)g(EHTS:)h(A)f(multiuser)g(hyperte)o(xt)g
(system)g(for)h(collaboration.)k(T)m(echnical)76 913
y(Report)e(91-24,)i(Department)e(of)h(Mathematics)f(and)h(Computer)g
(Science,)h(Uni)o(v)o(ersity)d(of)i(Aalbor)o(g,)g(Denmark.,)76
969 y(June)10 b(1991.)0 1063 y([6])23 b(Uf)o(fe)13 b(K.)g(W)n(iil.)19
b(Using)11 b(e)o(v)o(ents)h(as)h(support)e(for)i(data)f(sharing)g(in)g
(collaborati)o(v)o(e)f(work.)19 b(T)m(echnical)12 b(Report)h(91-14,)76
1120 y(Department)c(of)h(Mathematics)g(and)f(Computer)h(Science,)h(Uni)
o(v)o(ersity)d(of)h(Aalbor)o(g,)h(Denmark.,)h(April)e(1991.)k(Also)76
1176 y(appearing)f(in)h(Proceedings)f(of)h(the)g(International)e(W)l
(orkshop)h(on)h(CSCW)l(,)h(pages)f(162-176,)f(K.)i(Gorling)d(and)i(C.)
76 1233 y(Sattler)e(\(eds\),)g(Berlin,)h(April,)e(1991.)0
1326 y([7])23 b(Uf)o(fe)14 b(K.)g(W)n(iil,)g(Carsten)g(R.)h(Jakobsen,)e
(Claus)h(B.)g(Nielsen,)g(Hans)g(M.)g(Jeppesen,)h(Finn)e(Solvsten,)h
(Poul)f(Larsen,)76 1383 y(and)d(Per)i(M.)f(Peterson.)k(Design)10
b(and)g(implementation)f(of)i(a)g(hyperbase.)k(Internal)10
b(Report)g(90-03,)h(Department)f(of)76 1439 y(Mathematics)h(and)g
(Computer)g(Science,)h(Uni)o(v)o(ersity)e(of)h(Aalbor)o(g,)g(Denmark.,)
h(September)g(1990.)0 1533 y([8])23 b(Uf)o(fe)10 b(K.)g(W)n(iil)f(and)h
(Kasper)f(Osterbye.)14 b(Experiences)9 b(with)g(hyperbase\261a)g
(multi-user)g(back-end)g(for)h(hyperte)o(xt)f(ap-)76
1590 y(plications)e(with)i(emphasis)f(on)h(collaboration)f(support.)k
(T)m(echnical)d(Report)g(90-38,)g(Department)h(of)f(Mathematics)76
1646 y(and)i(Computer)g(Science,)h(Uni)o(v)o(ersity)d(of)j(Aalbor)o(g,)
f(Denmark.,)h(October)f(1990.)952 2840 y(42)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
